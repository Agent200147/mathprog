(function(){"use strict";function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},Je.apply(this,arguments)}var Yr={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function he(e){return typeof e=="number"}function Me(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function br(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Xr(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function xr(e){return e&&e.constructor.prototype.isUnit===!0||!1}function ke(e){return typeof e=="string"}var ce=Array.isArray;function Te(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function lr(e){return Array.isArray(e)||Te(e)}function zn(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Rn(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function qn(e){return e&&e.constructor.prototype.isRange===!0||!1}function Gr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Un(e){return typeof e=="boolean"}function Hn(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Wn(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Jn(e){return typeof e=="function"}function Zn(e){return e instanceof Date}function Vn(e){return e instanceof RegExp}function Kr(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!br(e)&&!Xr(e))}function Yn(e){return e===null}function Xn(e){return e===void 0}function or(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Sr(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gn(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Kn(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qn(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function qe(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yt(e){return qe(e)||Mr(e)&&e.args.length===1&&qe(e.args[0])&&"-+~".includes(e.op)}function Xt(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qr(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Br(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function le(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gt(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Mr(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function pr(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function ei(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function ri(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function $e(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function ti(e){return e&&e.constructor.prototype.isChain===!0||!1}function Le(e){var r=typeof e;return r==="object"?e===null?"null":Me(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function ve(e){var r=typeof e;if(r==="number"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return ve(t)});if(e instanceof Date)return new Date(e.valueOf());if(Me(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return _r(e,ve)}function _r(e,r){var t={};for(var u in e)ie(e,u)&&(t[u]=r(e[u]));return t}function Mu(e,r){for(var t in r)ie(r,t)&&(e[t]=r[t]);return e}function ni(e,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var t in r)if(ie(r,t)&&!(t in Object.prototype)&&!(t in Function.prototype))if(r[t]&&r[t].constructor===Object)e[t]===void 0&&(e[t]={}),e[t]&&e[t].constructor===Object?ni(e[t],r[t]):e[t]=r[t];else{if(Array.isArray(r[t]))throw new TypeError("Arrays are not supported by deepExtend");e[t]=r[t]}return e}function Tr(e,r){var t,u,i;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(u=0,i=e.length;u<i;u++)if(!Tr(e[u],r[u]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!Tr(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}else return e===r}}function _u(e){var r={};return ii(e,r),r}function ii(e,r){for(var t in e)if(ie(e,t)){var u=e[t];typeof u=="object"&&u!==null?ii(u,r):r[t]=u}}function Kt(e,r,t){var u=!0,i;Object.defineProperty(e,r,{get:function(){return u&&(i=t(),u=!1),i},set:function(a){i=a,u=!1},configurable:!0,enumerable:!0})}function ie(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Tu(e){return e&&typeof e.factory=="function"}function Ou(e,r){for(var t={},u=0;u<r.length;u++){var i=r[u],n=e[i];n!==void 0&&(t[i]=n)}return t}function ui(e){return Object.keys(e).map(r=>e[r])}var Qt=["Matrix","Array"],en=["number","BigNumber","Fraction"];function $u(e,r){function t(u){if(u){var i=_r(e,ve);ai(u,"matrix",Qt),ai(u,"number",en),ni(e,u);var n=_r(e,ve),a=_r(u,ve);return r("config",n,i,a),n}else return _r(e,ve)}return t.MATRIX_OPTIONS=Qt,t.NUMBER_OPTIONS=en,Object.keys(Yr).forEach(u=>{Object.defineProperty(t,u,{get:()=>e[u],enumerable:!0,configurable:!0})}),t}function Iu(e,r){return e.indexOf(r)!==-1}function ai(e,r,t){e[r]!==void 0&&!Iu(t,e[r])&&console.warn('Warning: Unknown value "'+e[r]+'" for configuration option "'+r+'". Available options: '+t.map(u=>JSON.stringify(u)).join(", ")+".")}var sr=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Yr)};Je(sr,Yr,{MATRIX_OPTIONS:Qt,NUMBER_OPTIONS:en});function me(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function rn(e,r,t){var u={2:"0b",8:"0o",16:"0x"},i=u[r],n="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!me(t))throw new Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!me(e))throw new Error("Value must be an integer");e<0&&(e=e+2**t),n="i".concat(t)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(i).concat(e.toString(r)).concat(n)}function tn(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var t="auto",u,i;if(r&&(r.notation&&(t=r.notation),he(r)?u=r:he(r.precision)&&(u=r.precision),r.wordSize&&(i=r.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return ku(e,u);case"exponential":return oi(e,u);case"engineering":return Pu(e,u);case"bin":return rn(e,2,i);case"oct":return rn(e,8,i);case"hex":return rn(e,16,i);case"auto":return Lu(e,u,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var n=arguments[2],a=arguments[4];return n!=="."?n+a:a});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function et(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],u=r[2],i=parseFloat(r[4]||"0"),n=u.indexOf(".");i+=n!==-1?n-1:u.length-1;var a=u.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return a.length===0&&(a.push(0),i++),{sign:t,coefficients:a,exponent:i}}function Pu(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=et(e),u=rt(t,r),i=u.exponent,n=u.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(he(r))for(;r>n.length||i-a+1>n.length;)n.push(0);else for(var c=Math.abs(i-a)-(n.length-1),f=0;f<c;f++)n.push(0);for(var p=Math.abs(i-a),s=1;p>0;)s++,p--;var o=n.slice(s).join(""),h=he(r)&&o.length||o.match(/[1-9]/)?"."+o:"",m=n.slice(0,s).join("")+h+"e"+(i>=0?"+":"")+a.toString();return u.sign+m}function ku(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=et(e),u=typeof r=="number"?rt(t,t.exponent+1+r):t,i=u.coefficients,n=u.exponent+1,a=n+(r||0);return i.length<a&&(i=i.concat(vr(a-i.length))),n<0&&(i=vr(-n+1).concat(i),n=1),n<i.length&&i.splice(n,0,n===0?"0.":"."),u.sign+i.join("")}function oi(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=et(e),u=r?rt(t,r):t,i=u.coefficients,n=u.exponent;i.length<r&&(i=i.concat(vr(r-i.length)));var a=i.shift();return u.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(n>=0?"+":"")+n}function Lu(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var u=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,n=et(e),a=r?rt(n,r):n;if(a.exponent<u||a.exponent>=i)return oi(e,r);var c=a.coefficients,f=a.exponent;c.length<r&&(c=c.concat(vr(r-c.length))),c=c.concat(vr(f-c.length+1+(c.length<r?r-c.length:0))),c=vr(-f).concat(c);var p=f>0?f:0;return p<c.length-1&&c.splice(p+1,0,"."),a.sign+c.join("")}function rt(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},u=t.coefficients;r<=0;)u.unshift(0),t.exponent++,r++;if(u.length>r){var i=u.splice(r,u.length-r);if(i[0]>=5){var n=r-1;for(u[n]++;u[n]===10;)u.pop(),n===0&&(u.unshift(0),t.exponent++,n++),n--,u[n]++}}return t}function vr(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function ju(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var zu=Number.EPSILON||2220446049250313e-31;function dr(e,r,t){if(t==null)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var u=Math.abs(e-r);return u<zu?!0:u<=Math.max(Math.abs(e),Math.abs(r))*t}return!1}function tt(e,r){if(r<e)return 1;if(r===e)return r;var t=r+e>>1;return tt(e,t)*tt(t+1,r)}function si(e,r){if(!me(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!me(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(r>e)throw new TypeError("k must be less than or equal to n");for(var t=e-r,u=1,i=r<t?t+1:r+1,n=2,a=r<t?r:t,c=i;c<=e;++c)for(u*=c;n<=a&&u%n===0;)u/=n,++n;return n<=a&&(u/=tt(n,a)),u}si.signature="number, number";function nn(e){var r;if(me(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:tt(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*nn(1-e));if(e>=171.35)return 1/0;if(e>85){var t=e*e,u=t*e,i=u*e,n=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*t)-139/(51840*u)-571/(2488320*i)+163879/(209018880*n)+5246819/(75246796800*n*e))}--e,r=un[0];for(var a=1;a<un.length;++a)r+=un[a]/(e+a);var c=e+Ru+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,e+.5)*Math.exp(-c)*r}nn.signature="number";var Ru=4.7421875,un=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],qu=.9189385332046728,Uu=5,Hu=7,fi=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function an(e){if(e<0)return NaN;if(e===0)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-an(1-e);e=e-1;for(var r=e+Uu+.5,t=fi[0],u=Hu-1;u>=1;u--)t+=fi[u]/(e+u);return qu+(e+.5)*Math.log(r)-r+Math.log(t)}an.signature="number";function on(e,r,t){var u=e.constructor,i=new u(2),n="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!me(t))throw new Error("size must be an integer");if(e.greaterThan(i.pow(t-1).sub(1))||e.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(t))),n="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(n);case 8:return"".concat(e.toOctal()).concat(n);case 16:return"".concat(e.toHexadecimal()).concat(n);default:throw new Error("Base ".concat(r," not supported "))}}function Wu(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var t="auto",u,i;if(r!==void 0&&(r.notation&&(t=r.notation),typeof r=="number"?u=r:r.precision&&(u=r.precision),r.wordSize&&(i=r.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return Zu(e,u);case"exponential":return ci(e,u);case"engineering":return Ju(e,u);case"bin":return on(e,2,i);case"oct":return on(e,8,i);case"hex":return on(e,16,i);case"auto":{var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,a=r&&r.upperExp!==void 0?r.upperExp:5;if(e.isZero())return"0";var c,f=e.toSignificantDigits(u),p=f.e;return p>=n&&p<a?c=f.toFixed():c=ci(e,u),c.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return s!=="."?s+o:o})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ju(e,r){var t=e.e,u=t%3===0?t:t<0?t-3-t%3:t-t%3,i=e.mul(Math.pow(10,-u)),n=i.toPrecision(r);return n.indexOf("e")!==-1&&(n=i.toString()),n+"e"+(t>=0?"+":"")+u.toString()}function ci(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function Zu(e,r){return e.toFixed(r)}function be(e,r){var t=Vu(e,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function Vu(e,r){if(typeof e=="number")return tn(e,r);if(Me(e))return Wu(e,r);if(Yu(e))return!r||r.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return hi(e,r);if(ke(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(u=>'"'+u+'": '+be(e[u],r));return"{"+t.join(", ")+"}"}return String(e)}function nt(e){for(var r=String(e),t="",u=0;u<r.length;){var i=r.charAt(u);i==="\\"?(t+=i,u++,i=r.charAt(u),(i===""||'"\\/bfnrtu'.indexOf(i)===-1)&&(t+="\\"),t+=i):i==='"'?t+='\\"':t+=i,u++}return'"'+t+'"'}function je(e){var r=String(e);return r=r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r}function hi(e,r){if(Array.isArray(e)){for(var t="[",u=e.length,i=0;i<u;i++)i!==0&&(t+=", "),t+=hi(e[i],r);return t+="]",t}else return be(e,r)}function Yu(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function oe(e,r,t){if(!(this instanceof oe))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}oe.prototype=new RangeError,oe.prototype.constructor=RangeError,oe.prototype.name="DimensionError",oe.prototype.isDimensionError=!0;function Ze(e,r,t){if(!(this instanceof Ze))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ze.prototype=new RangeError,Ze.prototype.constructor=RangeError,Ze.prototype.name="IndexError",Ze.prototype.isIndexError=!0;function fr(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function li(e,r,t){var u,i=e.length;if(i!==r[t])throw new oe(i,r[t]);if(t<r.length-1){var n=t+1;for(u=0;u<i;u++){var a=e[u];if(!Array.isArray(a))throw new oe(r.length-1,r.length,"<");li(e[u],r,n)}}else for(u=0;u<i;u++)if(Array.isArray(e[u]))throw new oe(r.length+1,r.length,">")}function pi(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new oe(e.length,0)}else li(e,r,0)}function pe(e,r){if(!he(e)||!me(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new Ze(e,r)}function vi(e,r,t){if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(i){if(!he(i)||!me(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+be(r)+")")});var u=t!==void 0?t:0;return sn(e,r,0,u),e}function sn(e,r,t,u){var i,n,a=e.length,c=r[t],f=Math.min(a,c);if(e.length=c,t<r.length-1){var p=t+1;for(i=0;i<f;i++)n=e[i],Array.isArray(n)||(n=[n],e[i]=n),sn(n,r,p,u);for(i=f;i<c;i++)n=[],e[i]=n,sn(n,r,p,u)}else{for(i=0;i<f;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=f;i<c;i++)e[i]=u}}function Xu(e,r){var t=Ku(e),u=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new oe(0,u,"!=");r=fn(r,u);var i=di(r);if(u!==i)throw new oe(i,u,"!=");try{return Gu(t,r)}catch(n){throw n instanceof oe?new oe(i,u,"!="):n}}function fn(e,r){var t=di(e),u=e.slice(),i=-1,n=e.indexOf(i),a=e.indexOf(i,n+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var c=n>=0,f=r%t===0;if(c)if(f)u[n]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return u}function di(e){return e.reduce((r,t)=>r*t,1)}function Gu(e,r){for(var t=e,u,i=r.length-1;i>0;i--){var n=r[i];u=[];for(var a=t.length/n,c=0;c<a;c++)u.push(t.slice(c*n,(c+1)*n));t=u}return t}function mi(e,r,t,u){var i=u||fr(e);if(t)for(var n=0;n<t;n++)e=[e],i.unshift(1);for(e=gi(e,r,0);i.length<r;)i.push(1);return e}function gi(e,r,t){var u,i;if(Array.isArray(e)){var n=t+1;for(u=0,i=e.length;u<i;u++)e[u]=gi(e[u],r,n)}else for(var a=t;a<r;a++)e=[e];return e}function Ku(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function t(u){Array.isArray(u)?u.forEach(t):r.push(u)}),r}function er(e,r){return Array.prototype.map.call(e,r)}function Di(e,r){Array.prototype.forEach.call(e,r)}function wi(e,r){return Array.prototype.join.call(e,r)}function it(e,r){for(var t,u=0,i=0;i<e.length;i++){var n=e[i],a=Array.isArray(n);if(i===0&&a&&(u=n.length),a&&n.length!==u)return;var c=a?it(n,r):r(n);if(t===void 0)t=c;else if(t!==c)return"mixed"}return t}function yi(e,r){return e.indexOf(r)!==-1}function Y(e,r,t,u){function i(n){var a=Ou(n,r.map(Ei));return Qu(e,r,n),t(a)}return i.isFactory=!0,i.fn=e,i.dependencies=r.slice().sort(),u&&(i.meta=u),i}function Or(e){return typeof e=="function"&&typeof e.fn=="string"&&Array.isArray(e.dependencies)}function Qu(e,r,t){var u=r.filter(n=>!ea(n)).every(n=>t[n]!==void 0);if(!u){var i=r.filter(n=>t[n]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(n=>'"'.concat(n,'"')).join(", "),"."))}}function ea(e){return e&&e[0]==="?"}function Ei(e){return e&&e[0]==="?"?e.slice(1):e}function ra(){throw new Error('No "bignumber" implementation available')}function ta(){throw new Error('No "fraction" implementation available')}function Ai(){throw new Error('No "matrix" implementation available')}function na(){throw new Error('No "matrix" implementation available')}function Ue(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ia(e))||r){t&&(e=t);var u=0,i=function(){};return{s:i,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(p){throw p},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,a=!1,c;return{s:function(){t=t.call(e)},n:function(){var p=t.next();return n=p.done,p},e:function(p){a=!0,c=p},f:function(){try{!n&&t.return!=null&&t.return()}finally{if(a)throw c}}}}function ia(e,r){if(e){if(typeof e=="string")return Fi(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fi(e,r)}}function Fi(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,u=new Array(r);t<r;t++)u[t]=e[t];return u}function mr(e){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mr(e)}function Ci(){return!0}function ze(){return!1}function gr(){}var Ni="Argument is not a typed-function.";function bi(){function e(F){return mr(F)==="object"&&F!==null&&F.constructor===Object}var r=[{name:"number",test:function(N){return typeof N=="number"}},{name:"string",test:function(N){return typeof N=="string"}},{name:"boolean",test:function(N){return typeof N=="boolean"}},{name:"Function",test:function(N){return typeof N=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(N){return N instanceof Date}},{name:"RegExp",test:function(N){return N instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(N){return N===null}},{name:"undefined",test:function(N){return N===void 0}}],t={name:"any",test:Ci,isAny:!0},u,i,n=0,a={createCount:0};function c(F){var N=u.get(F);if(N)return N;var M='Unknown type "'+F+'"',$=F.toLowerCase(),j,z=Ue(i),q;try{for(z.s();!(q=z.n()).done;)if(j=q.value,j.toLowerCase()===$){M+='. Did you mean "'+j+'" ?';break}}catch(P){z.e(P)}finally{z.f()}throw new TypeError(M)}function f(F){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",M=N?c(N).index:i.length,$=[],j=0;j<F.length;++j){if(!F[j]||typeof F[j].name!="string"||typeof F[j].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var z=F[j].name;if(u.has(z))throw new TypeError('Duplicate type name "'+z+'"');$.push(z),u.set(z,{name:z,test:F[j].test,isAny:F[j].isAny,index:M+j,conversionsTo:[]})}var q=i.slice(M);i=i.slice(0,M).concat($).concat(q);for(var P=M+$.length;P<i.length;++P)u.get(i[P]).index=P}function p(){u=new Map,i=[],n=0,f([t],!1)}p(),f(r);function s(){var F,N=Ue(i),M;try{for(N.s();!(M=N.n()).done;)F=M.value,u.get(F).conversionsTo=[]}catch($){N.e($)}finally{N.f()}n=0}function o(F){var N=i.filter(function(M){var $=u.get(M);return!$.isAny&&$.test(F)});return N.length?N:["any"]}function h(F){return F&&typeof F=="function"&&"_typedFunctionData"in F}function m(F,N,M){if(!h(F))throw new TypeError(Ni);var $=M&&M.exact,j=Array.isArray(N)?N.join(","):N,z=C(j),q=d(z);if(!$||q in F.signatures){var P=F._typedFunctionData.signatureMap.get(q);if(P)return P}var R=z.length,V;if($){V=[];var te;for(te in F.signatures)V.push(F._typedFunctionData.signatureMap.get(te))}else V=F._typedFunctionData.signatures;for(var W=0;W<R;++W){var Ee=z[W],ne=[],we=void 0,v=Ue(V),y;try{for(v.s();!(y=v.n()).done;){we=y.value;var S=A(we.params,W);if(!(!S||Ee.restParam&&!S.restParam)){if(!S.hasAny){var L=function(){var Be=w(S);if(Ee.types.some(function(hr){return!Be.has(hr.name)}))return"continue"}();if(L==="continue")continue}ne.push(we)}}}catch(Be){v.e(Be)}finally{v.f()}if(V=ne,V.length===0)break}var J,G=Ue(V),ye;try{for(G.s();!(ye=G.n()).done;)if(J=ye.value,J.params.length<=R)return J}catch(Be){G.e(Be)}finally{G.f()}throw new TypeError("Signature not found (signature: "+(F.name||"unnamed")+"("+d(z,", ")+"))")}function g(F,N,M){return m(F,N,M).implementation}function l(F,N){var M=c(N);if(M.test(F))return F;var $=M.conversionsTo;if($.length===0)throw new Error("There are no conversions to "+N+" defined.");for(var j=0;j<$.length;j++){var z=c($[j].from);if(z.test(F))return $[j].convert(F)}throw new Error("Cannot convert "+F+" to "+N)}function d(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return F.map(function(M){return M.name}).join(N)}function D(F){var N=F.indexOf("...")===0,M=N?F.length>3?F.slice(3):"any":F,$=M.split("|").map(function(P){return c(P.trim())}),j=!1,z=N?"...":"",q=$.map(function(P){return j=P.isAny||j,z+=P.name+"|",{name:P.name,typeIndex:P.index,test:P.test,isAny:P.isAny,conversion:null,conversionIndex:-1}});return{types:q,name:z.slice(0,-1),hasAny:j,hasConversion:!1,restParam:N}}function E(F){var N=F.types.map(function(q){return q.name}),M=re(N),$=F.hasAny,j=F.name,z=M.map(function(q){var P=c(q.from);return $=P.isAny||$,j+="|"+q.from,{name:q.from,typeIndex:P.index,test:P.test,isAny:P.isAny,conversion:q,conversionIndex:q.index}});return{types:F.types.concat(z),name:j,hasAny:$,hasConversion:z.length>0,restParam:F.restParam}}function w(F){return F.typeSet||(F.typeSet=new Set,F.types.forEach(function(N){return F.typeSet.add(N.name)})),F.typeSet}function C(F){var N=[];if(typeof F!="string")throw new TypeError("Signatures must be strings");var M=F.trim();if(M==="")return N;for(var $=M.split(","),j=0;j<$.length;++j){var z=D($[j].trim());if(z.restParam&&j!==$.length-1)throw new SyntaxError('Unexpected rest parameter "'+$[j]+'": only allowed for the last parameter');if(z.types.length===0)return null;N.push(z)}return N}function b(F){var N=Qe(F);return N?N.restParam:!1}function B(F){if(!F||F.types.length===0)return Ci;if(F.types.length===1)return c(F.types[0].name).test;if(F.types.length===2){var N=c(F.types[0].name).test,M=c(F.types[1].name).test;return function(z){return N(z)||M(z)}}else{var $=F.types.map(function(j){return c(j.name).test});return function(z){for(var q=0;q<$.length;q++)if($[q](z))return!0;return!1}}}function _(F){var N,M,$;if(b(F)){N=zr(F).map(B);var j=N.length,z=B(Qe(F)),q=function(R){for(var V=j;V<R.length;V++)if(!z(R[V]))return!1;return!0};return function(R){for(var V=0;V<N.length;V++)if(!N[V](R[V]))return!1;return q(R)&&R.length>=j+1}}else return F.length===0?function(R){return R.length===0}:F.length===1?(M=B(F[0]),function(R){return M(R[0])&&R.length===1}):F.length===2?(M=B(F[0]),$=B(F[1]),function(R){return M(R[0])&&$(R[1])&&R.length===2}):(N=F.map(B),function(R){for(var V=0;V<N.length;V++)if(!N[V](R[V]))return!1;return R.length===N.length})}function A(F,N){return N<F.length?F[N]:b(F)?Qe(F):null}function x(F,N){var M=A(F,N);return M?w(M):new Set}function I(F){return F.conversion===null||F.conversion===void 0}function O(F,N){var M=new Set;return F.forEach(function($){var j=x($.params,N),z,q=Ue(j),P;try{for(q.s();!(P=q.n()).done;)z=P.value,M.add(z)}catch(R){q.e(R)}finally{q.f()}}),M.has("any")?["any"]:Array.from(M)}function T(F,N,M){var $,j,z=F||"unnamed",q=M,P,R=function(){var v=[];if(q.forEach(function(S){var L=A(S.params,P),J=B(L);(P<S.params.length||b(S.params))&&J(N[P])&&v.push(S)}),v.length===0){if(j=O(q,P),j.length>0){var y=o(N[P]);return $=new TypeError("Unexpected type of argument in function "+z+" (expected: "+j.join(" or ")+", actual: "+y.join(" | ")+", index: "+P+")"),$.data={category:"wrongType",fn:z,index:P,actual:y,expected:j},{v:$}}}else q=v};for(P=0;P<N.length;P++){var V=R();if(mr(V)==="object")return V.v}var te=q.map(function(we){return b(we.params)?1/0:we.params.length});if(N.length<Math.min.apply(null,te))return j=O(q,P),$=new TypeError("Too few arguments in function "+z+" (expected: "+j.join(" or ")+", index: "+N.length+")"),$.data={category:"tooFewArgs",fn:z,index:N.length,expected:j},$;var W=Math.max.apply(null,te);if(N.length>W)return $=new TypeError("Too many arguments in function "+z+" (expected: "+W+", actual: "+N.length+")"),$.data={category:"tooManyArgs",fn:z,index:N.length,expectedLength:W},$;for(var Ee=[],ne=0;ne<N.length;++ne)Ee.push(o(N[ne]).join("|"));return $=new TypeError('Arguments of type "'+Ee.join(", ")+'" do not match any of the defined signatures of function '+z+"."),$.data={category:"mismatch",actual:Ee},$}function U(F){for(var N=i.length+1,M=0;M<F.types.length;M++)I(F.types[M])&&(N=Math.min(N,F.types[M].typeIndex));return N}function ee(F){for(var N=n+1,M=0;M<F.types.length;M++)I(F.types[M])||(N=Math.min(N,F.types[M].conversionIndex));return N}function Q(F,N){if(F.hasAny){if(!N.hasAny)return 1}else if(N.hasAny)return-1;if(F.restParam){if(!N.restParam)return 1}else if(N.restParam)return-1;if(F.hasConversion){if(!N.hasConversion)return 1}else if(N.hasConversion)return-1;var M=U(F)-U(N);if(M<0)return-1;if(M>0)return 1;var $=ee(F)-ee(N);return $<0?-1:$>0?1:0}function H(F,N){var M=F.params,$=N.params,j=Qe(M),z=Qe($),q=b(M),P=b($);if(q&&j.hasAny){if(!P||!z.hasAny)return 1}else if(P&&z.hasAny)return-1;var R=0,V=0,te,W=Ue(M),Ee;try{for(W.s();!(Ee=W.n()).done;)te=Ee.value,te.hasAny&&++R,te.hasConversion&&++V}catch(Jr){W.e(Jr)}finally{W.f()}var ne=0,we=0,v=Ue($),y;try{for(v.s();!(y=v.n()).done;)te=y.value,te.hasAny&&++ne,te.hasConversion&&++we}catch(Jr){v.e(Jr)}finally{v.f()}if(R!==ne)return R-ne;if(q&&j.hasConversion){if(!P||!z.hasConversion)return 1}else if(P&&z.hasConversion)return-1;if(V!==we)return V-we;if(q){if(!P)return 1}else if(P)return-1;var S=(M.length-$.length)*(q?-1:1);if(S!==0)return S;for(var L=[],J=0,G=0;G<M.length;++G){var ye=Q(M[G],$[G]);L.push(ye),J+=ye}if(J!==0)return J;for(var Be,hr=0,Jt=L;hr<Jt.length;hr++)if(Be=Jt[hr],Be!==0)return Be;return 0}function re(F){if(F.length===0)return[];var N=F.map(c);F.length>1&&N.sort(function(R,V){return R.index-V.index});var M=N[0].conversionsTo;if(F.length===1)return M;M=M.concat([]);for(var $=new Set(F),j=1;j<N.length;++j){var z=void 0,q=Ue(N[j].conversionsTo),P;try{for(q.s();!(P=q.n()).done;)z=P.value,$.has(z.from)||(M.push(z),$.add(z.from))}catch(R){q.e(R)}finally{q.f()}}return M}function de(F,N){var M=N;if(F.some(function(P){return P.hasConversion})){var $=b(F),j=F.map(ae);M=function(){for(var R=[],V=$?arguments.length-1:arguments.length,te=0;te<V;te++)R[te]=j[te](arguments[te]);return $&&(R[V]=arguments[V].map(j[V])),N.apply(this,R)}}var z=M;if(b(F)){var q=F.length-1;z=function(){return M.apply(this,Fr(arguments,0,q).concat([Fr(arguments,q)]))}}return z}function ae(F){var N,M,$,j,z=[],q=[];switch(F.types.forEach(function(P){P.conversion&&(z.push(c(P.conversion.from).test),q.push(P.conversion.convert))}),q.length){case 0:return function(R){return R};case 1:return N=z[0],$=q[0],function(R){return N(R)?$(R):R};case 2:return N=z[0],M=z[1],$=q[0],j=q[1],function(R){return N(R)?$(R):M(R)?j(R):R};default:return function(R){for(var V=0;V<q.length;V++)if(z[V](R))return q[V](R);return R}}}function Ce(F){function N(M,$,j){if($<M.length){var z=M[$],q=[];if(z.restParam){var P=z.types.filter(I);P.length<z.types.length&&q.push({types:P,name:"..."+P.map(function(R){return R.name}).join("|"),hasAny:P.some(function(R){return R.isAny}),hasConversion:!1,restParam:!0}),q.push(z)}else q=z.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return Ut(q,function(R){return N(M,$+1,j.concat([R]))})}else return[j]}return N(F,0,[])}function Lr(F,N){for(var M=Math.max(F.length,N.length),$=0;$<M;$++){var j=x(F,$),z=x(N,$),q=!1,P=void 0,R=Ue(z),V;try{for(R.s();!(V=R.n()).done;)if(P=V.value,j.has(P)){q=!0;break}}catch(we){R.e(we)}finally{R.f()}if(!q)return!1}var te=F.length,W=N.length,Ee=b(F),ne=b(N);return Ee?ne?te===W:W>=te:ne?te>=W:te===W}function ge(F){return F.map(function(N){return Hr(N)?qr(N.referToSelf.callback):Ur(N)?Rr(N.referTo.references,N.referTo.callback):N})}function ar(F,N,M){var $=[],j,z=Ue(F),q;try{for(z.s();!(q=z.n()).done;){j=q.value;var P=M[j];if(typeof P!="number")throw new TypeError('No definition for referenced signature "'+j+'"');if(P=N[P],typeof P!="function")return!1;$.push(P)}}catch(R){z.e(R)}finally{z.f()}return $}function Er(F,N,M){for(var $=ge(F),j=new Array($.length).fill(!1),z=!0;z;){z=!1;for(var q=!0,P=0;P<$.length;++P)if(!j[P]){var R=$[P];if(Hr(R))$[P]=R.referToSelf.callback(M),$[P].referToSelf=R.referToSelf,j[P]=!0,q=!1;else if(Ur(R)){var V=ar(R.referTo.references,$,N);V?($[P]=R.referTo.callback.apply(this,V),$[P].referTo=R.referTo,j[P]=!0,q=!1):z=!0}}if(q&&z)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return $}function Ar(F){var N=/\bthis(\(|\.signatures\b)/;Object.keys(F).forEach(function(M){var $=F[M];if(N.test($.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Rt(F,N){if(a.createCount++,Object.keys(N).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&Ar(N);var M=[],$=[],j={},z=[],q,P=function(){if(!Object.prototype.hasOwnProperty.call(N,q))return"continue";var Ne=C(q);if(!Ne)return"continue";M.forEach(function(Nr){if(Lr(Nr,Ne))throw new TypeError('Conflicting signatures "'+d(Nr)+'" and "'+d(Ne)+'".')}),M.push(Ne);var xu=$.length;$.push(N[q]);var $c=Ne.map(E),Zt=void 0,Vt=Ue(Ce($c)),Su;try{for(Vt.s();!(Su=Vt.n()).done;){Zt=Su.value;var Bu=d(Zt);z.push({params:Zt,name:Bu,fn:xu}),Zt.every(function(Nr){return!Nr.hasConversion})&&(j[Bu]=xu)}}catch(Nr){Vt.e(Nr)}finally{Vt.f()}};for(q in N)var R=P();z.sort(H);var V=Er($,j,Vr),te;for(te in j)Object.prototype.hasOwnProperty.call(j,te)&&(j[te]=V[j[te]]);for(var W=[],Ee=new Map,ne=0,we=z;ne<we.length;ne++)te=we[ne],Ee.has(te.name)||(te.fn=V[te.fn],W.push(te),Ee.set(te.name,te));for(var v=W[0]&&W[0].params.length<=2&&!b(W[0].params),y=W[1]&&W[1].params.length<=2&&!b(W[1].params),S=W[2]&&W[2].params.length<=2&&!b(W[2].params),L=W[3]&&W[3].params.length<=2&&!b(W[3].params),J=W[4]&&W[4].params.length<=2&&!b(W[4].params),G=W[5]&&W[5].params.length<=2&&!b(W[5].params),ye=v&&y&&S&&L&&J&&G,Be=0;Be<W.length;++Be)W[Be].test=_(W[Be].params);for(var hr=v?B(W[0].params[0]):ze,Jt=y?B(W[1].params[0]):ze,Jr=S?B(W[2].params[0]):ze,sc=L?B(W[3].params[0]):ze,fc=J?B(W[4].params[0]):ze,cc=G?B(W[5].params[0]):ze,hc=v?B(W[0].params[1]):ze,lc=y?B(W[1].params[1]):ze,pc=S?B(W[2].params[1]):ze,vc=L?B(W[3].params[1]):ze,dc=J?B(W[4].params[1]):ze,mc=G?B(W[5].params[1]):ze,Zr=0;Zr<W.length;++Zr)W[Zr].implementation=de(W[Zr].params,W[Zr].fn);var gc=v?W[0].implementation:gr,Dc=y?W[1].implementation:gr,wc=S?W[2].implementation:gr,yc=L?W[3].implementation:gr,Ec=J?W[4].implementation:gr,Ac=G?W[5].implementation:gr,Fc=v?W[0].params.length:-1,Cc=y?W[1].params.length:-1,Nc=S?W[2].params.length:-1,bc=L?W[3].params.length:-1,xc=J?W[4].params.length:-1,Sc=G?W[5].params.length:-1,Bc=ye?6:0,Mc=W.length,_c=W.map(function(Pe){return Pe.test}),Tc=W.map(function(Pe){return Pe.implementation}),Oc=function(){for(var Ne=Bc;Ne<Mc;Ne++)if(_c[Ne](arguments))return Tc[Ne].apply(this,arguments);return a.onMismatch(F,arguments,W)};function Vr(Pe,Ne){return arguments.length===Fc&&hr(Pe)&&hc(Ne)?gc.apply(this,arguments):arguments.length===Cc&&Jt(Pe)&&lc(Ne)?Dc.apply(this,arguments):arguments.length===Nc&&Jr(Pe)&&pc(Ne)?wc.apply(this,arguments):arguments.length===bc&&sc(Pe)&&vc(Ne)?yc.apply(this,arguments):arguments.length===xc&&fc(Pe)&&dc(Ne)?Ec.apply(this,arguments):arguments.length===Sc&&cc(Pe)&&mc(Ne)?Ac.apply(this,arguments):Oc.apply(this,arguments)}try{Object.defineProperty(Vr,"name",{value:F})}catch{}return Vr.signatures=j,Vr._typedFunctionData={signatures:W,signatureMap:Ee},Vr}function jr(F,N,M){throw T(F,N,M)}function zr(F){return Fr(F,0,F.length-1)}function Qe(F){return F[F.length-1]}function Fr(F,N,M){return Array.prototype.slice.call(F,N,M)}function qt(F,N){for(var M=0;M<F.length;M++)if(N(F[M]))return F[M]}function Ut(F,N){return Array.prototype.concat.apply([],F.map(N))}function Ht(){var F=zr(arguments).map(function(M){return d(C(M))}),N=Qe(arguments);if(typeof N!="function")throw new TypeError("Callback function expected as last argument");return Rr(F,N)}function Rr(F,N){return{referTo:{references:F,callback:N}}}function qr(F){if(typeof F!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:F}}}function Ur(F){return F&&mr(F.referTo)==="object"&&Array.isArray(F.referTo.references)&&typeof F.referTo.callback=="function"}function Hr(F){return F&&mr(F.referToSelf)==="object"&&typeof F.referToSelf.callback=="function"}function Wr(F,N){if(!F)return N;if(N&&N!==F){var M=new Error("Function names do not match (expected: "+F+", actual: "+N+")");throw M.data={actual:N,expected:F},M}return F}function Cr(F){var N;for(var M in F)Object.prototype.hasOwnProperty.call(F,M)&&(h(F[M])||typeof F[M].signature=="string")&&(N=Wr(N,F[M].name));return N}function Ln(F,N){var M;for(M in N)if(Object.prototype.hasOwnProperty.call(N,M)){if(M in F&&N[M]!==F[M]){var $=new Error('Signature "'+M+'" is defined twice');throw $.data={signature:M,sourceFunction:N[M],destFunction:F[M]},$}F[M]=N[M]}}var jn=a;a=function(N){for(var M=typeof N=="string",$=M?1:0,j=M?N:"",z={},q=$;q<arguments.length;++q){var P=arguments[q],R={},V=void 0;if(typeof P=="function"?(V=P.name,typeof P.signature=="string"?R[P.signature]=P:h(P)&&(R=P.signatures)):e(P)&&(R=P,M||(V=Cr(P))),Object.keys(R).length===0){var te=new TypeError("Argument to 'typed' at index "+q+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw te.data={index:q,argument:P},te}M||(j=Wr(j,V)),Ln(z,R)}return Rt(j||"",z)},a.create=bi,a.createCount=jn.createCount,a.onMismatch=jr,a.throwMismatchError=jr,a.createError=T,a.clear=p,a.clearConversions=s,a.addTypes=f,a._findType=c,a.referTo=Ht,a.referToSelf=qr,a.convert=l,a.findSignature=m,a.find=g,a.isTypedFunction=h,a.warnAgainstDeprecatedThis=!0,a.addType=function(F,N){var M="any";N!==!1&&u.has("Object")&&(M="Object"),a.addTypes([F],M)};function Wt(F){if(!F||typeof F.from!="string"||typeof F.to!="string"||typeof F.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(F.to===F.from)throw new SyntaxError('Illegal to define conversion from "'+F.from+'" to itself.')}return a.addConversion=function(F){Wt(F);var N=c(F.to);if(N.conversionsTo.every(function(M){return M.from!==F.from}))N.conversionsTo.push({from:F.from,convert:F.convert,index:n++});else throw new Error('There is already a conversion from "'+F.from+'" to "'+N.name+'"')},a.addConversions=function(F){F.forEach(a.addConversion)},a.removeConversion=function(F){Wt(F);var N=c(F.to),M=qt(N.conversionsTo,function(j){return j.from===F.from});if(!M)throw new Error("Attempt to remove nonexistent conversion from "+F.from+" to "+F.to);if(M.convert!==F.convert)throw new Error("Conversion to remove does not match existing conversion");var $=N.conversionsTo.indexOf(M);N.conversionsTo.splice($,1)},a.resolve=function(F,N){if(!h(F))throw new TypeError(Ni);for(var M=F._typedFunctionData.signatures,$=0;$<M.length;++$)if(M[$].test(N))return M[$];return null},a}var cn=bi();function Ve(e,r){if(xi(e)&&hn(e,r))return e[r];throw typeof e[r]=="function"&&ln(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function ut(e,r,t){if(xi(e)&&hn(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function ua(e,r){return r in e}function hn(e,r){return!e||typeof e!="object"?!1:ie(oa,r)?!0:!(r in Object.prototype||r in Function.prototype)}function aa(e,r){if(!ln(e,r))throw new Error('No access to method "'+r+'"')}function ln(e,r){return e==null||typeof e[r]!="function"||ie(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:ie(sa,r)?!0:!(r in Object.prototype||r in Function.prototype)}function xi(e){return typeof e=="object"&&e&&e.constructor===Object}var oa={length:!0,name:!0},sa={toString:!0,valueOf:!0,toLocaleString:!0};class Si{constructor(r){this.wrappedObject=r}keys(){return Object.keys(this.wrappedObject)}get(r){return Ve(this.wrappedObject,r)}set(r,t){return ut(this.wrappedObject,r,t),this}has(r){return ua(this.wrappedObject,r)}}function at(){return new Map}function fa(e){if(!e)return at();if(pn(e))return e;if(Kr(e))return new Si(e);throw new Error("createMap can create maps from objects or Maps")}function pn(e){return e?e instanceof Map||e instanceof Si||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Bi(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),u=1;u<r;u++)t[u-1]=arguments[u];for(var i of t)if(i){if(pn(i))for(var n of i.keys())e.set(n,i.get(n));else if(Kr(i))for(var a of Object.keys(i))e.set(a,i[a])}return e}var Mi=function(){return Mi=cn.create,cn},ca=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],_i=Y("typed",ca,function(r){var{BigNumber:t,Complex:u,DenseMatrix:i,Fraction:n}=r,a=Mi();return a.clear(),a.addTypes([{name:"number",test:he},{name:"Complex",test:br},{name:"BigNumber",test:Me},{name:"Fraction",test:Xr},{name:"Unit",test:xr},{name:"identifier",test:c=>ke&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(c)},{name:"string",test:ke},{name:"Chain",test:ti},{name:"Array",test:ce},{name:"Matrix",test:Te},{name:"DenseMatrix",test:zn},{name:"SparseMatrix",test:Rn},{name:"Range",test:qn},{name:"Index",test:Gr},{name:"boolean",test:Un},{name:"ResultSet",test:Hn},{name:"Help",test:Wn},{name:"function",test:Jn},{name:"Date",test:Zn},{name:"RegExp",test:Vn},{name:"null",test:Yn},{name:"undefined",test:Xn},{name:"AccessorNode",test:or},{name:"ArrayNode",test:Sr},{name:"AssignmentNode",test:Gn},{name:"BlockNode",test:Kn},{name:"ConditionalNode",test:Qn},{name:"ConstantNode",test:qe},{name:"FunctionNode",test:Qr},{name:"FunctionAssignmentNode",test:Xt},{name:"IndexNode",test:Br},{name:"Node",test:le},{name:"ObjectNode",test:Gt},{name:"OperatorNode",test:Mr},{name:"ParenthesisNode",test:pr},{name:"RangeNode",test:ei},{name:"RelationalNode",test:ri},{name:"SymbolNode",test:$e},{name:"Map",test:pn},{name:"Object",test:Kr}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(t||vn(f),ju(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new t(f)}},{from:"number",to:"Complex",convert:function(f){return u||ot(f),new u(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return u||ot(f),new u(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return u||ot(f),new u(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){n||dn(f);var p=new n(f);if(p.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return p}},{from:"string",to:"number",convert:function(f){var p=Number(f);if(isNaN(p))throw new Error('Cannot convert "'+f+'" to a number');return p}},{from:"string",to:"BigNumber",convert:function(f){t||vn(f);try{return new t(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){n||dn(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){u||ot(f);try{return new u(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return t||vn(f),new t(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return n||dn(f),new n(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return i||ha(),new i(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),a.onMismatch=(c,f,p)=>{var s=a.createError(c,f,p);if(["wrongType","mismatch"].includes(s.data.category)&&f.length===1&&lr(f[0])&&p.some(h=>!h.params.includes(","))){var o=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw o.data=s.data,o}throw s},a.onMismatch=(c,f,p)=>{var s=a.createError(c,f,p);if(["wrongType","mismatch"].includes(s.data.category)&&f.length===1&&lr(f[0])&&p.some(h=>!h.params.includes(","))){var o=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw o.data=s.data,o}throw s},a});function vn(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function ot(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function ha(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function dn(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var la="ResultSet",pa=[],va=Y(la,pa,()=>{function e(r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=r||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(r){return new e(r.entries)},e},{isClass:!0});function $r(e){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$r(e)}function da(e,r){if($r(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var u=t.call(e,r||"default");if($r(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ma(e){var r=da(e,"string");return $r(r)==="symbol"?r:String(r)}function xe(e,r,t){return r=ma(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ye=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function st(e,r){if(!r||r!=="auto")return e;for(var t=e;pr(t);)t=t.content;return t}function se(e,r,t,u){var i=e;r!=="keep"&&(i=e.getContent());for(var n=i.getIdentifier(),a=null,c=0;c<Ye.length;c++)if(n in Ye[c]){a=c;break}if(n==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var f=st(i.args[0],r);!(qe(f)&&u&&u.getIdentifier()==="OperatorNode:divide"&&Yt(st(u.args[0],r)))&&!(f.getIdentifier()==="OperatorNode:divide"&&Yt(st(f.args[0],r))&&qe(st(f.args[1])))&&(a+=1)}return a}function Ir(e,r){var t=e;r!=="keep"&&(t=e.getContent());var u=t.getIdentifier(),i=se(t,r);if(i===null)return null;var n=Ye[i][u];if(ie(n,"associativity")){if(n.associativity==="left")return"left";if(n.associativity==="right")return"right";throw Error("'"+u+"' has the invalid associativity '"+n.associativity+"'.")}return null}function mn(e,r,t){var u=t!=="keep"?e.getContent():e,i=t!=="keep"?e.getContent():r,n=u.getIdentifier(),a=i.getIdentifier(),c=se(u,t);if(c===null)return null;var f=Ye[c][n];if(ie(f,"associativeWith")&&f.associativeWith instanceof Array){for(var p=0;p<f.associativeWith.length;p++)if(f.associativeWith[p]===a)return!0;return!1}return null}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Dr=9e15,rr=1e9,gn="0123456789abcdef",ft="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ct="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Dn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Dr,maxE:Dr,crypto:!1},Ti,Ge,K=!0,ht="[DecimalError] ",tr=ht+"Invalid argument: ",Oi=ht+"Precision limit exceeded",$i=ht+"crypto unavailable",Ii="[object Decimal]",Se=Math.floor,De=Math.pow,ga=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Da=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,wa=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Pi=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,He=1e7,X=7,ya=9007199254740991,Ea=ft.length-1,wn=ct.length-1,k={toStringTag:Ii};k.absoluteValue=k.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Z(e)},k.ceil=function(){return Z(new this.constructor(this),this.e+1,2)},k.clampedTo=k.clamp=function(e,r){var t,u=this,i=u.constructor;if(e=new i(e),r=new i(r),!e.s||!r.s)return new i(NaN);if(e.gt(r))throw Error(tr+r);return t=u.cmp(e),t<0?e:u.cmp(r)>0?r:new i(u)},k.comparedTo=k.cmp=function(e){var r,t,u,i,n=this,a=n.d,c=(e=new n.constructor(e)).d,f=n.s,p=e.s;if(!a||!c)return!f||!p?NaN:f!==p?f:a===c?0:!a^f<0?1:-1;if(!a[0]||!c[0])return a[0]?f:c[0]?-p:0;if(f!==p)return f;if(n.e!==e.e)return n.e>e.e^f<0?1:-1;for(u=a.length,i=c.length,r=0,t=u<i?u:i;r<t;++r)if(a[r]!==c[r])return a[r]>c[r]^f<0?1:-1;return u===i?0:u>i^f<0?1:-1},k.cosine=k.cos=function(){var e,r,t=this,u=t.constructor;return t.d?t.d[0]?(e=u.precision,r=u.rounding,u.precision=e+Math.max(t.e,t.sd())+X,u.rounding=1,t=Aa(u,qi(u,t)),u.precision=e,u.rounding=r,Z(Ge==2||Ge==3?t.neg():t,e,r,!0)):new u(1):new u(NaN)},k.cubeRoot=k.cbrt=function(){var e,r,t,u,i,n,a,c,f,p,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);for(K=!1,n=s.s*De(s.s*s,1/3),!n||Math.abs(n)==1/0?(t=Ae(s.d),e=s.e,(n=(e-t.length+1)%3)&&(t+=n==1||n==-2?"0":"00"),n=De(t,1/3),e=Se((e+1)/3)-(e%3==(e<0?-1:2)),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),u=new o(t),u.s=s.s):u=new o(n.toString()),a=(e=o.precision)+3;;)if(c=u,f=c.times(c).times(c),p=f.plus(s),u=fe(p.plus(s).times(c),p.plus(f),a+2,1),Ae(c.d).slice(0,a)===(t=Ae(u.d)).slice(0,a))if(t=t.slice(a-3,a+1),t=="9999"||!i&&t=="4999"){if(!i&&(Z(c,e+1,0),c.times(c).times(c).eq(s))){u=c;break}a+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Z(u,e+1,1),r=!u.times(u).times(u).eq(s));break}return K=!0,Z(u,e,o.rounding,r)},k.decimalPlaces=k.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-Se(this.e/X))*X,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t},k.dividedBy=k.div=function(e){return fe(this,new this.constructor(e))},k.dividedToIntegerBy=k.divToInt=function(e){var r=this,t=r.constructor;return Z(fe(r,new t(e),0,1,1),t.precision,t.rounding)},k.equals=k.eq=function(e){return this.cmp(e)===0},k.floor=function(){return Z(new this.constructor(this),this.e+1,3)},k.greaterThan=k.gt=function(e){return this.cmp(e)>0},k.greaterThanOrEqualTo=k.gte=function(e){var r=this.cmp(e);return r==1||r===0},k.hyperbolicCosine=k.cosh=function(){var e,r,t,u,i,n=this,a=n.constructor,c=new a(1);if(!n.isFinite())return new a(n.s?1/0:NaN);if(n.isZero())return c;t=a.precision,u=a.rounding,a.precision=t+Math.max(n.e,n.sd())+4,a.rounding=1,i=n.d.length,i<32?(e=Math.ceil(i/3),r=(1/dt(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),n=wr(a,1,n.times(r),new a(1),!0);for(var f,p=e,s=new a(8);p--;)f=n.times(n),n=c.minus(f.times(s.minus(f.times(s))));return Z(n,a.precision=t,a.rounding=u,!0)},k.hyperbolicSine=k.sinh=function(){var e,r,t,u,i=this,n=i.constructor;if(!i.isFinite()||i.isZero())return new n(i);if(r=n.precision,t=n.rounding,n.precision=r+Math.max(i.e,i.sd())+4,n.rounding=1,u=i.d.length,u<3)i=wr(n,2,i,i,!0);else{e=1.4*Math.sqrt(u),e=e>16?16:e|0,i=i.times(1/dt(5,e)),i=wr(n,2,i,i,!0);for(var a,c=new n(5),f=new n(16),p=new n(20);e--;)a=i.times(i),i=i.times(c.plus(a.times(f.times(a).plus(p))))}return n.precision=r,n.rounding=t,Z(i,r,t,!0)},k.hyperbolicTangent=k.tanh=function(){var e,r,t=this,u=t.constructor;return t.isFinite()?t.isZero()?new u(t):(e=u.precision,r=u.rounding,u.precision=e+7,u.rounding=1,fe(t.sinh(),t.cosh(),u.precision=e,u.rounding=r)):new u(t.s)},k.inverseCosine=k.acos=function(){var e,r=this,t=r.constructor,u=r.abs().cmp(1),i=t.precision,n=t.rounding;return u!==-1?u===0?r.isNeg()?We(t,i,n):new t(0):new t(NaN):r.isZero()?We(t,i+4,n).times(.5):(t.precision=i+6,t.rounding=1,r=r.asin(),e=We(t,i+4,n).times(.5),t.precision=i,t.rounding=n,e.minus(r))},k.inverseHyperbolicCosine=k.acosh=function(){var e,r,t=this,u=t.constructor;return t.lte(1)?new u(t.eq(1)?0:NaN):t.isFinite()?(e=u.precision,r=u.rounding,u.precision=e+Math.max(Math.abs(t.e),t.sd())+4,u.rounding=1,K=!1,t=t.times(t).minus(1).sqrt().plus(t),K=!0,u.precision=e,u.rounding=r,t.ln()):new u(t)},k.inverseHyperbolicSine=k.asinh=function(){var e,r,t=this,u=t.constructor;return!t.isFinite()||t.isZero()?new u(t):(e=u.precision,r=u.rounding,u.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,u.rounding=1,K=!1,t=t.times(t).plus(1).sqrt().plus(t),K=!0,u.precision=e,u.rounding=r,t.ln())},k.inverseHyperbolicTangent=k.atanh=function(){var e,r,t,u,i=this,n=i.constructor;return i.isFinite()?i.e>=0?new n(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=n.precision,r=n.rounding,u=i.sd(),Math.max(u,e)<2*-i.e-1?Z(new n(i),e,r,!0):(n.precision=t=u-i.e,i=fe(i.plus(1),new n(1).minus(i),t+e,1),n.precision=e+4,n.rounding=1,i=i.ln(),n.precision=e,n.rounding=r,i.times(.5))):new n(NaN)},k.inverseSine=k.asin=function(){var e,r,t,u,i=this,n=i.constructor;return i.isZero()?new n(i):(r=i.abs().cmp(1),t=n.precision,u=n.rounding,r!==-1?r===0?(e=We(n,t+4,u).times(.5),e.s=i.s,e):new n(NaN):(n.precision=t+6,n.rounding=1,i=i.div(new n(1).minus(i.times(i)).sqrt().plus(1)).atan(),n.precision=t,n.rounding=u,i.times(2)))},k.inverseTangent=k.atan=function(){var e,r,t,u,i,n,a,c,f,p=this,s=p.constructor,o=s.precision,h=s.rounding;if(p.isFinite()){if(p.isZero())return new s(p);if(p.abs().eq(1)&&o+4<=wn)return a=We(s,o+4,h).times(.25),a.s=p.s,a}else{if(!p.s)return new s(NaN);if(o+4<=wn)return a=We(s,o+4,h).times(.5),a.s=p.s,a}for(s.precision=c=o+10,s.rounding=1,t=Math.min(28,c/X+2|0),e=t;e;--e)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(K=!1,r=Math.ceil(c/X),u=1,f=p.times(p),a=new s(p),i=p;e!==-1;)if(i=i.times(f),n=a.minus(i.div(u+=2)),i=i.times(f),a=n.plus(i.div(u+=2)),a.d[r]!==void 0)for(e=r;a.d[e]===n.d[e]&&e--;);return t&&(a=a.times(2<<t-1)),K=!0,Z(a,s.precision=o,s.rounding=h,!0)},k.isFinite=function(){return!!this.d},k.isInteger=k.isInt=function(){return!!this.d&&Se(this.e/X)>this.d.length-2},k.isNaN=function(){return!this.s},k.isNegative=k.isNeg=function(){return this.s<0},k.isPositive=k.isPos=function(){return this.s>0},k.isZero=function(){return!!this.d&&this.d[0]===0},k.lessThan=k.lt=function(e){return this.cmp(e)<0},k.lessThanOrEqualTo=k.lte=function(e){return this.cmp(e)<1},k.logarithm=k.log=function(e){var r,t,u,i,n,a,c,f,p=this,s=p.constructor,o=s.precision,h=s.rounding,m=5;if(e==null)e=new s(10),r=!0;else{if(e=new s(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new s(NaN);r=e.eq(10)}if(t=p.d,p.s<0||!t||!t[0]||p.eq(1))return new s(t&&!t[0]?-1/0:p.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)n=!0;else{for(i=t[0];i%10===0;)i/=10;n=i!==1}if(K=!1,c=o+m,a=ir(p,c),u=r?vt(s,c+10):ir(e,c),f=fe(a,u,c,1),Pr(f.d,i=o,h))do if(c+=10,a=ir(p,c),u=r?vt(s,c+10):ir(e,c),f=fe(a,u,c,1),!n){+Ae(f.d).slice(i+1,i+15)+1==1e14&&(f=Z(f,o+1,0));break}while(Pr(f.d,i+=10,h));return K=!0,Z(f,o,h)},k.minus=k.sub=function(e){var r,t,u,i,n,a,c,f,p,s,o,h,m=this,g=m.constructor;if(e=new g(e),!m.d||!e.d)return!m.s||!e.s?e=new g(NaN):m.d?e.s=-e.s:e=new g(e.d||m.s!==e.s?m:NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(p=m.d,h=e.d,c=g.precision,f=g.rounding,!p[0]||!h[0]){if(h[0])e.s=-e.s;else if(p[0])e=new g(m);else return new g(f===3?-0:0);return K?Z(e,c,f):e}if(t=Se(e.e/X),s=Se(m.e/X),p=p.slice(),n=s-t,n){for(o=n<0,o?(r=p,n=-n,a=h.length):(r=h,t=s,a=p.length),u=Math.max(Math.ceil(c/X),a)+2,n>u&&(n=u,r.length=1),r.reverse(),u=n;u--;)r.push(0);r.reverse()}else{for(u=p.length,a=h.length,o=u<a,o&&(a=u),u=0;u<a;u++)if(p[u]!=h[u]){o=p[u]<h[u];break}n=0}for(o&&(r=p,p=h,h=r,e.s=-e.s),a=p.length,u=h.length-a;u>0;--u)p[a++]=0;for(u=h.length;u>n;){if(p[--u]<h[u]){for(i=u;i&&p[--i]===0;)p[i]=He-1;--p[i],p[u]+=He}p[u]-=h[u]}for(;p[--a]===0;)p.pop();for(;p[0]===0;p.shift())--t;return p[0]?(e.d=p,e.e=pt(p,t),K?Z(e,c,f):e):new g(f===3?-0:0)},k.modulo=k.mod=function(e){var r,t=this,u=t.constructor;return e=new u(e),!t.d||!e.s||e.d&&!e.d[0]?new u(NaN):!e.d||t.d&&!t.d[0]?Z(new u(t),u.precision,u.rounding):(K=!1,u.modulo==9?(r=fe(t,e.abs(),0,3,1),r.s*=e.s):r=fe(t,e,0,u.modulo,1),r=r.times(e),K=!0,t.minus(r))},k.naturalExponential=k.exp=function(){return yn(this)},k.naturalLogarithm=k.ln=function(){return ir(this)},k.negated=k.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Z(e)},k.plus=k.add=function(e){var r,t,u,i,n,a,c,f,p,s,o=this,h=o.constructor;if(e=new h(e),!o.d||!e.d)return!o.s||!e.s?e=new h(NaN):o.d||(e=new h(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(p=o.d,s=e.d,c=h.precision,f=h.rounding,!p[0]||!s[0])return s[0]||(e=new h(o)),K?Z(e,c,f):e;if(n=Se(o.e/X),u=Se(e.e/X),p=p.slice(),i=n-u,i){for(i<0?(t=p,i=-i,a=s.length):(t=s,u=n,a=p.length),n=Math.ceil(c/X),a=n>a?n+1:a+1,i>a&&(i=a,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(a=p.length,i=s.length,a-i<0&&(i=a,t=s,s=p,p=t),r=0;i;)r=(p[--i]=p[i]+s[i]+r)/He|0,p[i]%=He;for(r&&(p.unshift(r),++u),a=p.length;p[--a]==0;)p.pop();return e.d=p,e.e=pt(p,u),K?Z(e,c,f):e},k.precision=k.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(tr+e);return t.d?(r=ki(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r},k.round=function(){var e=this,r=e.constructor;return Z(new r(e),e.e+1,r.rounding)},k.sine=k.sin=function(){var e,r,t=this,u=t.constructor;return t.isFinite()?t.isZero()?new u(t):(e=u.precision,r=u.rounding,u.precision=e+Math.max(t.e,t.sd())+X,u.rounding=1,t=Ca(u,qi(u,t)),u.precision=e,u.rounding=r,Z(Ge>2?t.neg():t,e,r,!0)):new u(NaN)},k.squareRoot=k.sqrt=function(){var e,r,t,u,i,n,a=this,c=a.d,f=a.e,p=a.s,s=a.constructor;if(p!==1||!c||!c[0])return new s(!p||p<0&&(!c||c[0])?NaN:c?a:1/0);for(K=!1,p=Math.sqrt(+a),p==0||p==1/0?(r=Ae(c),(r.length+f)%2==0&&(r+="0"),p=Math.sqrt(r),f=Se((f+1)/2)-(f<0||f%2),p==1/0?r="5e"+f:(r=p.toExponential(),r=r.slice(0,r.indexOf("e")+1)+f),u=new s(r)):u=new s(p.toString()),t=(f=s.precision)+3;;)if(n=u,u=n.plus(fe(a,n,t+2,1)).times(.5),Ae(n.d).slice(0,t)===(r=Ae(u.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!i&&r=="4999"){if(!i&&(Z(n,f+1,0),n.times(n).eq(a))){u=n;break}t+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Z(u,f+1,1),e=!u.times(u).eq(a));break}return K=!0,Z(u,f,s.rounding,e)},k.tangent=k.tan=function(){var e,r,t=this,u=t.constructor;return t.isFinite()?t.isZero()?new u(t):(e=u.precision,r=u.rounding,u.precision=e+10,u.rounding=1,t=t.sin(),t.s=1,t=fe(t,new u(1).minus(t.times(t)).sqrt(),e+10,0),u.precision=e,u.rounding=r,Z(Ge==2||Ge==4?t.neg():t,e,r,!0)):new u(NaN)},k.times=k.mul=function(e){var r,t,u,i,n,a,c,f,p,s=this,o=s.constructor,h=s.d,m=(e=new o(e)).d;if(e.s*=s.s,!h||!h[0]||!m||!m[0])return new o(!e.s||h&&!h[0]&&!m||m&&!m[0]&&!h?NaN:!h||!m?e.s/0:e.s*0);for(t=Se(s.e/X)+Se(e.e/X),f=h.length,p=m.length,f<p&&(n=h,h=m,m=n,a=f,f=p,p=a),n=[],a=f+p,u=a;u--;)n.push(0);for(u=p;--u>=0;){for(r=0,i=f+u;i>u;)c=n[i]+m[u]*h[i-u-1]+r,n[i--]=c%He|0,r=c/He|0;n[i]=(n[i]+r)%He|0}for(;!n[--a];)n.pop();return r?++t:n.shift(),e.d=n,e.e=pt(n,t),K?Z(e,o.precision,o.rounding):e},k.toBinary=function(e,r){return An(this,2,e,r)},k.toDecimalPlaces=k.toDP=function(e,r){var t=this,u=t.constructor;return t=new u(t),e===void 0?t:(Oe(e,0,rr),r===void 0?r=u.rounding:Oe(r,0,8),Z(t,e+t.e+1,r))},k.toExponential=function(e,r){var t,u=this,i=u.constructor;return e===void 0?t=Xe(u,!0):(Oe(e,0,rr),r===void 0?r=i.rounding:Oe(r,0,8),u=Z(new i(u),e+1,r),t=Xe(u,!0,e+1)),u.isNeg()&&!u.isZero()?"-"+t:t},k.toFixed=function(e,r){var t,u,i=this,n=i.constructor;return e===void 0?t=Xe(i):(Oe(e,0,rr),r===void 0?r=n.rounding:Oe(r,0,8),u=Z(new n(i),e+i.e+1,r),t=Xe(u,!1,e+u.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},k.toFraction=function(e){var r,t,u,i,n,a,c,f,p,s,o,h,m=this,g=m.d,l=m.constructor;if(!g)return new l(m);if(p=t=new l(1),u=f=new l(0),r=new l(u),n=r.e=ki(g)-m.e-1,a=n%X,r.d[0]=De(10,a<0?X+a:a),e==null)e=n>0?r:p;else{if(c=new l(e),!c.isInt()||c.lt(p))throw Error(tr+c);e=c.gt(r)?n>0?r:p:c}for(K=!1,c=new l(Ae(g)),s=l.precision,l.precision=n=g.length*X*2;o=fe(c,r,0,1,1),i=t.plus(o.times(u)),i.cmp(e)!=1;)t=u,u=i,i=p,p=f.plus(o.times(i)),f=i,i=r,r=c.minus(o.times(i)),c=i;return i=fe(e.minus(t),u,0,1,1),f=f.plus(i.times(p)),t=t.plus(i.times(u)),f.s=p.s=m.s,h=fe(p,u,n,1).minus(m).abs().cmp(fe(f,t,n,1).minus(m).abs())<1?[p,u]:[f,t],l.precision=s,K=!0,h},k.toHexadecimal=k.toHex=function(e,r){return An(this,16,e,r)},k.toNearest=function(e,r){var t=this,u=t.constructor;if(t=new u(t),e==null){if(!t.d)return t;e=new u(1),r=u.rounding}else{if(e=new u(e),r===void 0?r=u.rounding:Oe(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(K=!1,t=fe(t,e,0,r,1).times(e),K=!0,Z(t)):(e.s=t.s,t=e),t},k.toNumber=function(){return+this},k.toOctal=function(e,r){return An(this,8,e,r)},k.toPower=k.pow=function(e){var r,t,u,i,n,a,c=this,f=c.constructor,p=+(e=new f(e));if(!c.d||!e.d||!c.d[0]||!e.d[0])return new f(De(+c,p));if(c=new f(c),c.eq(1))return c;if(u=f.precision,n=f.rounding,e.eq(1))return Z(c,u,n);if(r=Se(e.e/X),r>=e.d.length-1&&(t=p<0?-p:p)<=ya)return i=Li(f,c,t,u),e.s<0?new f(1).div(i):Z(i,u,n);if(a=c.s,a<0){if(r<e.d.length-1)return new f(NaN);if(e.d[r]&1||(a=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=a,c}return t=De(+c,p),r=t==0||!isFinite(t)?Se(p*(Math.log("0."+Ae(c.d))/Math.LN10+c.e+1)):new f(t+"").e,r>f.maxE+1||r<f.minE-1?new f(r>0?a/0:0):(K=!1,f.rounding=c.s=1,t=Math.min(12,(r+"").length),i=yn(e.times(ir(c,u+t)),u),i.d&&(i=Z(i,u+5,1),Pr(i.d,u,n)&&(r=u+10,i=Z(yn(e.times(ir(c,r+t)),r),r+5,1),+Ae(i.d).slice(u+1,u+15)+1==1e14&&(i=Z(i,u+1,0)))),i.s=a,K=!0,f.rounding=n,Z(i,u,n))},k.toPrecision=function(e,r){var t,u=this,i=u.constructor;return e===void 0?t=Xe(u,u.e<=i.toExpNeg||u.e>=i.toExpPos):(Oe(e,1,rr),r===void 0?r=i.rounding:Oe(r,0,8),u=Z(new i(u),e,r),t=Xe(u,e<=u.e||u.e<=i.toExpNeg,e)),u.isNeg()&&!u.isZero()?"-"+t:t},k.toSignificantDigits=k.toSD=function(e,r){var t=this,u=t.constructor;return e===void 0?(e=u.precision,r=u.rounding):(Oe(e,1,rr),r===void 0?r=u.rounding:Oe(r,0,8)),Z(new u(t),e,r)},k.toString=function(){var e=this,r=e.constructor,t=Xe(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t},k.truncated=k.trunc=function(){return Z(new this.constructor(this),this.e+1,1)},k.valueOf=k.toJSON=function(){var e=this,r=e.constructor,t=Xe(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function Ae(e){var r,t,u,i=e.length-1,n="",a=e[0];if(i>0){for(n+=a,r=1;r<i;r++)u=e[r]+"",t=X-u.length,t&&(n+=nr(t)),n+=u;a=e[r],u=a+"",t=X-u.length,t&&(n+=nr(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return n+a}function Oe(e,r,t){if(e!==~~e||e<r||e>t)throw Error(tr+e)}function Pr(e,r,t,u){var i,n,a,c;for(n=e[0];n>=10;n/=10)--r;return--r<0?(r+=X,i=0):(i=Math.ceil((r+1)/X),r%=X),n=De(10,X-r),c=e[i]%n|0,u==null?r<3?(r==0?c=c/100|0:r==1&&(c=c/10|0),a=t<4&&c==99999||t>3&&c==49999||c==5e4||c==0):a=(t<4&&c+1==n||t>3&&c+1==n/2)&&(e[i+1]/n/100|0)==De(10,r-2)-1||(c==n/2||c==0)&&(e[i+1]/n/100|0)==0:r<4?(r==0?c=c/1e3|0:r==1?c=c/100|0:r==2&&(c=c/10|0),a=(u||t<4)&&c==9999||!u&&t>3&&c==4999):a=((u||t<4)&&c+1==n||!u&&t>3&&c+1==n/2)&&(e[i+1]/n/1e3|0)==De(10,r-3)-1,a}function lt(e,r,t){for(var u,i=[0],n,a=0,c=e.length;a<c;){for(n=i.length;n--;)i[n]*=r;for(i[0]+=gn.indexOf(e.charAt(a++)),u=0;u<i.length;u++)i[u]>t-1&&(i[u+1]===void 0&&(i[u+1]=0),i[u+1]+=i[u]/t|0,i[u]%=t)}return i.reverse()}function Aa(e,r){var t,u,i;if(r.isZero())return r;u=r.d.length,u<32?(t=Math.ceil(u/3),i=(1/dt(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),e.precision+=t,r=wr(e,1,r.times(i),new e(1));for(var n=t;n--;){var a=r.times(r);r=a.times(a).minus(a).times(8).plus(1)}return e.precision-=t,r}var fe=function(){function e(u,i,n){var a,c=0,f=u.length;for(u=u.slice();f--;)a=u[f]*i+c,u[f]=a%n|0,c=a/n|0;return c&&u.unshift(c),u}function r(u,i,n,a){var c,f;if(n!=a)f=n>a?1:-1;else for(c=f=0;c<n;c++)if(u[c]!=i[c]){f=u[c]>i[c]?1:-1;break}return f}function t(u,i,n,a){for(var c=0;n--;)u[n]-=c,c=u[n]<i[n]?1:0,u[n]=c*a+u[n]-i[n];for(;!u[0]&&u.length>1;)u.shift()}return function(u,i,n,a,c,f){var p,s,o,h,m,g,l,d,D,E,w,C,b,B,_,A,x,I,O,T,U=u.constructor,ee=u.s==i.s?1:-1,Q=u.d,H=i.d;if(!Q||!Q[0]||!H||!H[0])return new U(!u.s||!i.s||(Q?H&&Q[0]==H[0]:!H)?NaN:Q&&Q[0]==0||!H?ee*0:ee/0);for(f?(m=1,s=u.e-i.e):(f=He,m=X,s=Se(u.e/m)-Se(i.e/m)),O=H.length,x=Q.length,D=new U(ee),E=D.d=[],o=0;H[o]==(Q[o]||0);o++);if(H[o]>(Q[o]||0)&&s--,n==null?(B=n=U.precision,a=U.rounding):c?B=n+(u.e-i.e)+1:B=n,B<0)E.push(1),g=!0;else{if(B=B/m+2|0,o=0,O==1){for(h=0,H=H[0],B++;(o<x||h)&&B--;o++)_=h*f+(Q[o]||0),E[o]=_/H|0,h=_%H|0;g=h||o<x}else{for(h=f/(H[0]+1)|0,h>1&&(H=e(H,h,f),Q=e(Q,h,f),O=H.length,x=Q.length),A=O,w=Q.slice(0,O),C=w.length;C<O;)w[C++]=0;T=H.slice(),T.unshift(0),I=H[0],H[1]>=f/2&&++I;do h=0,p=r(H,w,O,C),p<0?(b=w[0],O!=C&&(b=b*f+(w[1]||0)),h=b/I|0,h>1?(h>=f&&(h=f-1),l=e(H,h,f),d=l.length,C=w.length,p=r(l,w,d,C),p==1&&(h--,t(l,O<d?T:H,d,f))):(h==0&&(p=h=1),l=H.slice()),d=l.length,d<C&&l.unshift(0),t(w,l,C,f),p==-1&&(C=w.length,p=r(H,w,O,C),p<1&&(h++,t(w,O<C?T:H,C,f))),C=w.length):p===0&&(h++,w=[0]),E[o++]=h,p&&w[0]?w[C++]=Q[A]||0:(w=[Q[A]],C=1);while((A++<x||w[0]!==void 0)&&B--);g=w[0]!==void 0}E[0]||E.shift()}if(m==1)D.e=s,Ti=g;else{for(o=1,h=E[0];h>=10;h/=10)o++;D.e=o+s*m-1,Z(D,c?n+D.e+1:n,a,g)}return D}}();function Z(e,r,t,u){var i,n,a,c,f,p,s,o,h,m=e.constructor;e:if(r!=null){if(o=e.d,!o)return e;for(i=1,c=o[0];c>=10;c/=10)i++;if(n=r-i,n<0)n+=X,a=r,s=o[h=0],f=s/De(10,i-a-1)%10|0;else if(h=Math.ceil((n+1)/X),c=o.length,h>=c)if(u){for(;c++<=h;)o.push(0);s=f=0,i=1,n%=X,a=n-X+1}else break e;else{for(s=c=o[h],i=1;c>=10;c/=10)i++;n%=X,a=n-X+i,f=a<0?0:s/De(10,i-a-1)%10|0}if(u=u||r<0||o[h+1]!==void 0||(a<0?s:s%De(10,i-a-1)),p=t<4?(f||u)&&(t==0||t==(e.s<0?3:2)):f>5||f==5&&(t==4||u||t==6&&(n>0?a>0?s/De(10,i-a):0:o[h-1])%10&1||t==(e.s<0?8:7)),r<1||!o[0])return o.length=0,p?(r-=e.e+1,o[0]=De(10,(X-r%X)%X),e.e=-r||0):o[0]=e.e=0,e;if(n==0?(o.length=h,c=1,h--):(o.length=h+1,c=De(10,X-n),o[h]=a>0?(s/De(10,i-a)%De(10,a)|0)*c:0),p)for(;;)if(h==0){for(n=1,a=o[0];a>=10;a/=10)n++;for(a=o[0]+=c,c=1;a>=10;a/=10)c++;n!=c&&(e.e++,o[0]==He&&(o[0]=1));break}else{if(o[h]+=c,o[h]!=He)break;o[h--]=0,c=1}for(n=o.length;o[--n]===0;)o.pop()}return K&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function Xe(e,r,t){if(!e.isFinite())return Ri(e);var u,i=e.e,n=Ae(e.d),a=n.length;return r?(t&&(u=t-a)>0?n=n.charAt(0)+"."+n.slice(1)+nr(u):a>1&&(n=n.charAt(0)+"."+n.slice(1)),n=n+(e.e<0?"e":"e+")+e.e):i<0?(n="0."+nr(-i-1)+n,t&&(u=t-a)>0&&(n+=nr(u))):i>=a?(n+=nr(i+1-a),t&&(u=t-i-1)>0&&(n=n+"."+nr(u))):((u=i+1)<a&&(n=n.slice(0,u)+"."+n.slice(u)),t&&(u=t-a)>0&&(i+1===a&&(n+="."),n+=nr(u))),n}function pt(e,r){var t=e[0];for(r*=X;t>=10;t/=10)r++;return r}function vt(e,r,t){if(r>Ea)throw K=!0,t&&(e.precision=t),Error(Oi);return Z(new e(ft),r,1,!0)}function We(e,r,t){if(r>wn)throw Error(Oi);return Z(new e(ct),r,t,!0)}function ki(e){var r=e.length-1,t=r*X+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function nr(e){for(var r="";e--;)r+="0";return r}function Li(e,r,t,u){var i,n=new e(1),a=Math.ceil(u/X+4);for(K=!1;;){if(t%2&&(n=n.times(r),Ui(n.d,a)&&(i=!0)),t=Se(t/2),t===0){t=n.d.length-1,i&&n.d[t]===0&&++n.d[t];break}r=r.times(r),Ui(r.d,a)}return K=!0,n}function ji(e){return e.d[e.d.length-1]&1}function zi(e,r,t){for(var u,i=new e(r[0]),n=0;++n<r.length;)if(u=new e(r[n]),u.s)i[t](u)&&(i=u);else{i=u;break}return i}function yn(e,r){var t,u,i,n,a,c,f,p=0,s=0,o=0,h=e.constructor,m=h.rounding,g=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(K=!1,f=g):f=r,c=new h(.03125);e.e>-2;)e=e.times(c),o+=5;for(u=Math.log(De(2,o))/Math.LN10*2+5|0,f+=u,t=n=a=new h(1),h.precision=f;;){if(n=Z(n.times(e),f,1),t=t.times(++s),c=a.plus(fe(n,t,f,1)),Ae(c.d).slice(0,f)===Ae(a.d).slice(0,f)){for(i=o;i--;)a=Z(a.times(a),f,1);if(r==null)if(p<3&&Pr(a.d,f-u,m,p))h.precision=f+=10,t=n=c=new h(1),s=0,p++;else return Z(a,h.precision=g,m,K=!0);else return h.precision=g,a}a=c}}function ir(e,r){var t,u,i,n,a,c,f,p,s,o,h,m=1,g=10,l=e,d=l.d,D=l.constructor,E=D.rounding,w=D.precision;if(l.s<0||!d||!d[0]||!l.e&&d[0]==1&&d.length==1)return new D(d&&!d[0]?-1/0:l.s!=1?NaN:d?0:l);if(r==null?(K=!1,s=w):s=r,D.precision=s+=g,t=Ae(d),u=t.charAt(0),Math.abs(n=l.e)<15e14){for(;u<7&&u!=1||u==1&&t.charAt(1)>3;)l=l.times(e),t=Ae(l.d),u=t.charAt(0),m++;n=l.e,u>1?(l=new D("0."+t),n++):l=new D(u+"."+t.slice(1))}else return p=vt(D,s+2,w).times(n+""),l=ir(new D(u+"."+t.slice(1)),s-g).plus(p),D.precision=w,r==null?Z(l,w,E,K=!0):l;for(o=l,f=a=l=fe(l.minus(1),l.plus(1),s,1),h=Z(l.times(l),s,1),i=3;;){if(a=Z(a.times(h),s,1),p=f.plus(fe(a,new D(i),s,1)),Ae(p.d).slice(0,s)===Ae(f.d).slice(0,s))if(f=f.times(2),n!==0&&(f=f.plus(vt(D,s+2,w).times(n+""))),f=fe(f,new D(m),s,1),r==null)if(Pr(f.d,s-g,E,c))D.precision=s+=g,p=a=l=fe(o.minus(1),o.plus(1),s,1),h=Z(l.times(l),s,1),i=c=1;else return Z(f,D.precision=w,E,K=!0);else return D.precision=w,f;f=p,i+=2}}function Ri(e){return String(e.s*e.s/0)}function En(e,r){var t,u,i;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(u=r.search(/e/i))>0?(t<0&&(t=u),t+=+r.slice(u+1),r=r.substring(0,u)):t<0&&(t=r.length),u=0;r.charCodeAt(u)===48;u++);for(i=r.length;r.charCodeAt(i-1)===48;--i);if(r=r.slice(u,i),r){if(i-=u,e.e=t=t-u-1,e.d=[],u=(t+1)%X,t<0&&(u+=X),u<i){for(u&&e.d.push(+r.slice(0,u)),i-=X;u<i;)e.d.push(+r.slice(u,u+=X));r=r.slice(u),u=X-r.length}else u-=i;for(;u--;)r+="0";e.d.push(+r),K&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Fa(e,r){var t,u,i,n,a,c,f,p,s;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Pi.test(r))return En(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(Da.test(r))t=16,r=r.toLowerCase();else if(ga.test(r))t=2;else if(wa.test(r))t=8;else throw Error(tr+r);for(n=r.search(/p/i),n>0?(f=+r.slice(n+1),r=r.substring(2,n)):r=r.slice(2),n=r.indexOf("."),a=n>=0,u=e.constructor,a&&(r=r.replace(".",""),c=r.length,n=c-n,i=Li(u,new u(t),n,n*2)),p=lt(r,t,He),s=p.length-1,n=s;p[n]===0;--n)p.pop();return n<0?new u(e.s*0):(e.e=pt(p,s),e.d=p,K=!1,a&&(e=fe(e,i,c*4)),f&&(e=e.times(Math.abs(f)<54?De(2,f):yr.pow(2,f))),K=!0,e)}function Ca(e,r){var t,u=r.d.length;if(u<3)return r.isZero()?r:wr(e,2,r,r);t=1.4*Math.sqrt(u),t=t>16?16:t|0,r=r.times(1/dt(5,t)),r=wr(e,2,r,r);for(var i,n=new e(5),a=new e(16),c=new e(20);t--;)i=r.times(r),r=r.times(n.plus(i.times(a.times(i).minus(c))));return r}function wr(e,r,t,u,i){var n,a,c,f,p=e.precision,s=Math.ceil(p/X);for(K=!1,f=t.times(t),c=new e(u);;){if(a=fe(c.times(f),new e(r++*r++),p,1),c=i?u.plus(a):u.minus(a),u=fe(a.times(f),new e(r++*r++),p,1),a=c.plus(u),a.d[s]!==void 0){for(n=s;a.d[n]===c.d[n]&&n--;);if(n==-1)break}n=c,c=u,u=a,a=n}return K=!0,a.d.length=s+1,a}function dt(e,r){for(var t=e;--r;)t*=e;return t}function qi(e,r){var t,u=r.s<0,i=We(e,e.precision,1),n=i.times(.5);if(r=r.abs(),r.lte(n))return Ge=u?4:1,r;if(t=r.divToInt(i),t.isZero())Ge=u?3:2;else{if(r=r.minus(t.times(i)),r.lte(n))return Ge=ji(t)?u?2:3:u?4:1,r;Ge=ji(t)?u?1:4:u?3:2}return r.minus(i).abs()}function An(e,r,t,u){var i,n,a,c,f,p,s,o,h,m=e.constructor,g=t!==void 0;if(g?(Oe(t,1,rr),u===void 0?u=m.rounding:Oe(u,0,8)):(t=m.precision,u=m.rounding),!e.isFinite())s=Ri(e);else{for(s=Xe(e),a=s.indexOf("."),g?(i=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):i=r,a>=0&&(s=s.replace(".",""),h=new m(1),h.e=s.length-a,h.d=lt(Xe(h),10,i),h.e=h.d.length),o=lt(s,10,i),n=f=o.length;o[--f]==0;)o.pop();if(!o[0])s=g?"0p+0":"0";else{if(a<0?n--:(e=new m(e),e.d=o,e.e=n,e=fe(e,h,t,u,0,i),o=e.d,n=e.e,p=Ti),a=o[t],c=i/2,p=p||o[t+1]!==void 0,p=u<4?(a!==void 0||p)&&(u===0||u===(e.s<0?3:2)):a>c||a===c&&(u===4||p||u===6&&o[t-1]&1||u===(e.s<0?8:7)),o.length=t,p)for(;++o[--t]>i-1;)o[t]=0,t||(++n,o.unshift(1));for(f=o.length;!o[f-1];--f);for(a=0,s="";a<f;a++)s+=gn.charAt(o[a]);if(g){if(f>1)if(r==16||r==8){for(a=r==16?4:3,--f;f%a;f++)s+="0";for(o=lt(s,i,r),f=o.length;!o[f-1];--f);for(a=1,s="1.";a<f;a++)s+=gn.charAt(o[a])}else s=s.charAt(0)+"."+s.slice(1);s=s+(n<0?"p":"p+")+n}else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(++n>f)for(n-=f;n--;)s+="0";else n<f&&(s=s.slice(0,n)+"."+s.slice(n))}s=(r==16?"0x":r==2?"0b":r==8?"0o":"")+s}return e.s<0?"-"+s:s}function Ui(e,r){if(e.length>r)return e.length=r,!0}function Na(e){return new this(e).abs()}function ba(e){return new this(e).acos()}function xa(e){return new this(e).acosh()}function Sa(e,r){return new this(e).plus(r)}function Ba(e){return new this(e).asin()}function Ma(e){return new this(e).asinh()}function _a(e){return new this(e).atan()}function Ta(e){return new this(e).atanh()}function Oa(e,r){e=new this(e),r=new this(r);var t,u=this.precision,i=this.rounding,n=u+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=We(this,n,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?We(this,u,i):new this(0),t.s=e.s):!e.d||r.isZero()?(t=We(this,n,1).times(.5),t.s=e.s):r.s<0?(this.precision=n,this.rounding=1,t=this.atan(fe(e,r,n,1)),r=We(this,n,1),this.precision=u,this.rounding=i,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(fe(e,r,n,1)),t}function $a(e){return new this(e).cbrt()}function Ia(e){return Z(e=new this(e),e.e+1,2)}function Pa(e,r,t){return new this(e).clamp(r,t)}function ka(e){if(!e||typeof e!="object")throw Error(ht+"Object expected");var r,t,u,i=e.defaults===!0,n=["precision",1,rr,"rounding",0,8,"toExpNeg",-Dr,0,"toExpPos",0,Dr,"maxE",0,Dr,"minE",-Dr,0,"modulo",0,9];for(r=0;r<n.length;r+=3)if(t=n[r],i&&(this[t]=Dn[t]),(u=e[t])!==void 0)if(Se(u)===u&&u>=n[r+1]&&u<=n[r+2])this[t]=u;else throw Error(tr+t+": "+u);if(t="crypto",i&&(this[t]=Dn[t]),(u=e[t])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error($i);else this[t]=!1;else throw Error(tr+t+": "+u);return this}function La(e){return new this(e).cos()}function ja(e){return new this(e).cosh()}function Hi(e){var r,t,u;function i(n){var a,c,f,p=this;if(!(p instanceof i))return new i(n);if(p.constructor=i,Wi(n)){p.s=n.s,K?!n.d||n.e>i.maxE?(p.e=NaN,p.d=null):n.e<i.minE?(p.e=0,p.d=[0]):(p.e=n.e,p.d=n.d.slice()):(p.e=n.e,p.d=n.d?n.d.slice():n.d);return}if(f=typeof n,f==="number"){if(n===0){p.s=1/n<0?-1:1,p.e=0,p.d=[0];return}if(n<0?(n=-n,p.s=-1):p.s=1,n===~~n&&n<1e7){for(a=0,c=n;c>=10;c/=10)a++;K?a>i.maxE?(p.e=NaN,p.d=null):a<i.minE?(p.e=0,p.d=[0]):(p.e=a,p.d=[n]):(p.e=a,p.d=[n]);return}else if(n*0!==0){n||(p.s=NaN),p.e=NaN,p.d=null;return}return En(p,n.toString())}else if(f!=="string")throw Error(tr+n);return(c=n.charCodeAt(0))===45?(n=n.slice(1),p.s=-1):(c===43&&(n=n.slice(1)),p.s=1),Pi.test(n)?En(p,n):Fa(p,n)}if(i.prototype=k,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=ka,i.clone=Hi,i.isDecimal=Wi,i.abs=Na,i.acos=ba,i.acosh=xa,i.add=Sa,i.asin=Ba,i.asinh=Ma,i.atan=_a,i.atanh=Ta,i.atan2=Oa,i.cbrt=$a,i.ceil=Ia,i.clamp=Pa,i.cos=La,i.cosh=ja,i.div=za,i.exp=Ra,i.floor=qa,i.hypot=Ua,i.ln=Ha,i.log=Wa,i.log10=Za,i.log2=Ja,i.max=Va,i.min=Ya,i.mod=Xa,i.mul=Ga,i.pow=Ka,i.random=Qa,i.round=eo,i.sign=ro,i.sin=to,i.sinh=no,i.sqrt=io,i.sub=uo,i.sum=ao,i.tan=oo,i.tanh=so,i.trunc=fo,e===void 0&&(e={}),e&&e.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<u.length;)e.hasOwnProperty(t=u[r++])||(e[t]=this[t]);return i.config(e),i}function za(e,r){return new this(e).div(r)}function Ra(e){return new this(e).exp()}function qa(e){return Z(e=new this(e),e.e+1,3)}function Ua(){var e,r,t=new this(0);for(K=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return K=!0,new this(1/0);t=r}return K=!0,t.sqrt()}function Wi(e){return e instanceof yr||e&&e.toStringTag===Ii||!1}function Ha(e){return new this(e).ln()}function Wa(e,r){return new this(e).log(r)}function Ja(e){return new this(e).log(2)}function Za(e){return new this(e).log(10)}function Va(){return zi(this,arguments,"lt")}function Ya(){return zi(this,arguments,"gt")}function Xa(e,r){return new this(e).mod(r)}function Ga(e,r){return new this(e).mul(r)}function Ka(e,r){return new this(e).pow(r)}function Qa(e){var r,t,u,i,n=0,a=new this(1),c=[];if(e===void 0?e=this.precision:Oe(e,1,rr),u=Math.ceil(e/X),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(u));n<u;)i=r[n],i>=429e7?r[n]=crypto.getRandomValues(new Uint32Array(1))[0]:c[n++]=i%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(u*=4);n<u;)i=r[n]+(r[n+1]<<8)+(r[n+2]<<16)+((r[n+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(r,n):(c.push(i%1e7),n+=4);n=u/4}else throw Error($i);else for(;n<u;)c[n++]=Math.random()*1e7|0;for(u=c[--n],e%=X,u&&e&&(i=De(10,X-e),c[n]=(u/i|0)*i);c[n]===0;n--)c.pop();if(n<0)t=0,c=[0];else{for(t=-1;c[0]===0;t-=X)c.shift();for(u=1,i=c[0];i>=10;i/=10)u++;u<X&&(t-=X-u)}return a.e=t,a.d=c,a}function eo(e){return Z(e=new this(e),e.e+1,this.rounding)}function ro(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function to(e){return new this(e).sin()}function no(e){return new this(e).sinh()}function io(e){return new this(e).sqrt()}function uo(e,r){return new this(e).sub(r)}function ao(){var e=0,r=arguments,t=new this(r[e]);for(K=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return K=!0,Z(t,this.precision,this.rounding)}function oo(e){return new this(e).tan()}function so(e){return new this(e).tanh()}function fo(e){return Z(e=new this(e),e.e+1,1)}k[Symbol.for("nodejs.util.inspect.custom")]=k.toString,k[Symbol.toStringTag]="Decimal";var yr=k.constructor=Hi(Dn);ft=new yr(ft),ct=new yr(ct);function co(e){var r=e.length,t=e[0].length,u,i,n=[];for(i=0;i<t;i++){var a=[];for(u=0;u<r;u++)a.push(e[u][i]);n.push(a)}return n}function Ji(e){for(var r=0;r<e.length;r++)if(lr(e[r]))return!0;return!1}function Fn(e,r){Te(e)&&(e=e.valueOf());for(var t=0,u=e.length;t<u;t++){var i=e[t];Array.isArray(i)?Fn(i,r):r(i)}}function ur(e,r,t){return e&&typeof e.map=="function"?e.map(function(u){return ur(u,r)}):r(e)}function Zi(e,r,t){var u=Array.isArray(e)?fr(e):e.size();if(r<0||r>=u.length)throw new Ze(r,u.length);return Te(e)?e.create(mt(e.valueOf(),r,t)):mt(e,r,t)}function mt(e,r,t){var u,i,n,a;if(r<=0)if(Array.isArray(e[0])){for(a=co(e),i=[],u=0;u<a.length;u++)i[u]=mt(a[u],r-1,t);return i}else{for(n=e[0],u=1;u<e.length;u++)n=t(n,e[u]);return n}else{for(i=[],u=0;u<e.length;u++)i[u]=mt(e[u],r-1,t);return i}}function Cn(e,r,t){if(t==null)return e.eq(r);if(e.eq(r))return!0;if(e.isNaN()||r.isNaN())return!1;if(e.isFinite()&&r.isFinite()){var u=e.minus(r).abs();if(u.isZero())return!0;var i=e.constructor.max(e.abs(),r.abs());return u.lte(i.times(t))}return!1}var ho="matAlgo12xSfs",lo=["typed","DenseMatrix"],Vi=Y(ho,lo,e=>{var{typed:r,DenseMatrix:t}=e;return function(i,n,a,c){var f=i._values,p=i._index,s=i._ptr,o=i._size,h=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=o[0],g=o[1],l,d=a;typeof h=="string"&&(l=h,n=r.convert(n,l),d=r.find(a,[l,l]));for(var D=[],E=[],w=[],C=0;C<g;C++){for(var b=C+1,B=s[C],_=s[C+1],A=B;A<_;A++){var x=p[A];E[x]=f[A],w[x]=b}for(var I=0;I<m;I++)C===0&&(D[I]=[]),w[I]===b?D[I][C]=c?d(n,E[I]):d(E[I],n):D[I][C]=c?d(n,0):d(0,n)}return new t({data:D,size:[m,g],datatype:l})}}),po="matAlgo14xDs",vo=["typed"],mo=Y(po,vo,e=>{var{typed:r}=e;return function(i,n,a,c){var f=i._data,p=i._size,s=i._datatype,o,h=a;typeof s=="string"&&(o=s,n=r.convert(n,o),h=r.find(a,[o,o]));var m=p.length>0?t(h,0,p,p[0],f,n,c):[];return i.createDenseMatrix({data:m,size:ve(p),datatype:o})};function t(u,i,n,a,c,f,p){var s=[];if(i===n.length-1)for(var o=0;o<a;o++)s[o]=p?u(f,c[o]):u(c[o],f);else for(var h=0;h<a;h++)s[h]=t(u,i+1,n,n[i+1],c[h],f,p);return s}});function Yi(e){return Object.keys(e.signatures||{}).reduce(function(r,t){var u=(t.match(/,/g)||[]).length+1;return Math.max(r,u)},-1)}var go="number",Do=["typed"];function wo(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var t={"0b":2,"0o":8,"0x":16}[r[1]],u=r[2],i=r[3];return{input:e,radix:t,integerPart:u,fractionalPart:i}}else return null}function yo(e){for(var r=parseInt(e.integerPart,e.radix),t=0,u=0;u<e.fractionalPart.length;u++){var i=parseInt(e.fractionalPart[u],e.radix);t+=i/Math.pow(e.radix,u+1)}var n=r+t;if(isNaN(n))throw new SyntaxError('String "'+e.input+'" is no valid number');return n}var Xi=Y(go,Do,e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var n=wo(i);if(n)return yo(n);var a=0,c=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(a=Number(c[2]),i=c[1]);var f=Number(i);if(isNaN(f))throw new SyntaxError('String "'+i+'" is no valid number');if(c){if(f>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));f>=2**(a-1)&&(f=f-2**a)}return f},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:function(i){throw new Error("Second argument with valueless unit expected")},null:function(i){return 0},"Unit, string | Unit":function(i,n){return i.toNumber(n)},"Array | Matrix":r.referToSelf(u=>i=>ur(i,u))});return t.fromJSON=function(u){return parseFloat(u.value)},t}),Gi=new Set(["end"]),Eo="Node",Ao=["mathWithTransform"],Fo=Y(Eo,Ao,e=>{var{mathWithTransform:r}=e;function t(i){for(var n of[...Gi])if(i.has(n))throw new Error('Scope contains an illegal symbol, "'+n+'" is a reserved keyword')}class u{get type(){return"Node"}get isNode(){return!0}evaluate(n){return this.compile().evaluate(n)}compile(){var n=this._compile(r,{}),a={},c=null;function f(p){var s=fa(p);return t(s),n(s,a,c)}return{evaluate:f}}_compile(n,a){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(n){throw new Error("Cannot run forEach on a Node interface")}map(n){throw new Error("Cannot run map on a Node interface")}_ifNode(n){if(!le(n))throw new TypeError("Callback function must return a Node");return n}traverse(n){n(this,null,null);function a(c,f){c.forEach(function(p,s,o){f(p,s,o),a(p,f)})}a(this,n)}transform(n){function a(c,f,p){var s=n(c,f,p);return s!==c?s:c.map(a)}return a(this,null,null)}filter(n){var a=[];return this.traverse(function(c,f,p){n(c,f,p)&&a.push(c)}),a}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(n){return n.cloneDeep()})}equals(n){return n?this.type===n.type&&Tr(this,n):!1}toString(n){var a=this._getCustomString(n);return typeof a<"u"?a:this._toString(n)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(n){var a=this._getCustomString(n);return typeof a<"u"?a:this.toHTML(n)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(n){var a=this._getCustomString(n);return typeof a<"u"?a:this._toTex(n)}_toTex(n){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(n){if(n&&typeof n=="object")switch(typeof n.handler){case"object":case"undefined":return;case"function":return n.handler(this,n);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return u},{isClass:!0,isNode:!0});function Ki(e){return e&&e.isIndexError?new Ze(e.index+1,e.min+1,e.max!==void 0?e.max+1:void 0):e}function Qi(e){var{subset:r}=e;return function(u,i){try{if(Array.isArray(u))return r(u,i);if(u&&typeof u.subset=="function")return u.subset(i);if(typeof u=="string")return r(u,i);if(typeof u=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Ve(u,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw Ki(n)}}}var gt="AccessorNode",Co=["subset","Node"],No=Y(gt,Co,e=>{var{subset:r,Node:t}=e,u=Qi({subset:r});function i(a){return!(or(a)||Sr(a)||qe(a)||Qr(a)||Gt(a)||pr(a)||$e(a))}class n extends t{constructor(c,f){if(super(),!le(c))throw new TypeError('Node expected for parameter "object"');if(!Br(f))throw new TypeError('IndexNode expected for parameter "index"');this.object=c,this.index=f}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return gt}get isAccessorNode(){return!0}_compile(c,f){var p=this.object._compile(c,f),s=this.index._compile(c,f);if(this.index.isObjectProperty()){var o=this.index.getObjectProperty();return function(m,g,l){return Ve(p(m,g,l),o)}}else return function(m,g,l){var d=p(m,g,l),D=s(m,g,d);return u(d,D)}}forEach(c){c(this.object,"object",this),c(this.index,"index",this)}map(c){return new n(this._ifNode(c(this.object,"object",this)),this._ifNode(c(this.index,"index",this)))}clone(){return new n(this.object,this.index)}_toString(c){var f=this.object.toString(c);return i(this.object)&&(f="("+f+")"),f+this.index.toString(c)}toHTML(c){var f=this.object.toHTML(c);return i(this.object)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+this.index.toHTML(c)}_toTex(c){var f=this.object.toTex(c);return i(this.object)&&(f="\\left(' + object + '\\right)"),f+this.index.toTex(c)}toJSON(){return{mathjs:gt,object:this.object,index:this.index}}static fromJSON(c){return new n(c.object,c.index)}}return xe(n,"name",gt),n},{isClass:!0,isNode:!0}),Dt="ArrayNode",bo=["Node"],xo=Y(Dt,bo,e=>{var{Node:r}=e;class t extends r{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(le))throw new TypeError("Array containing Nodes expected")}get type(){return Dt}get isArrayNode(){return!0}_compile(i,n){var a=er(this.items,function(p){return p._compile(i,n)}),c=i.config.matrix!=="Array";if(c){var f=i.matrix;return function(s,o,h){return f(er(a,function(m){return m(s,o,h)}))}}else return function(s,o,h){return er(a,function(m){return m(s,o,h)})}}forEach(i){for(var n=0;n<this.items.length;n++){var a=this.items[n];i(a,"items["+n+"]",this)}}map(i){for(var n=[],a=0;a<this.items.length;a++)n[a]=this._ifNode(i(this.items[a],"items["+a+"]",this));return new t(n)}clone(){return new t(this.items.slice(0))}_toString(i){var n=this.items.map(function(a){return a.toString(i)});return"["+n.join(", ")+"]"}toJSON(){return{mathjs:Dt,items:this.items}}static fromJSON(i){return new t(i.items)}toHTML(i){var n=this.items.map(function(a){return a.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function n(a,c){var f=a.some(Sr)&&!a.every(Sr),p=c||f,s=p?"&":"\\\\",o=a.map(function(h){return h.items?n(h.items,!c):h.toTex(i)}).join(s);return f||!p||p&&!c?"\\begin{bmatrix}"+o+"\\end{bmatrix}":o}return n(this.items,!1)}}return xe(t,"name",Dt),t},{isClass:!0,isNode:!0});function So(e){var{subset:r,matrix:t}=e;return function(i,n,a){try{if(Array.isArray(i))return t(i).subset(n,a).valueOf();if(i&&typeof i.subset=="function")return i.subset(n,a);if(typeof i=="string")return r(i,n,a);if(typeof i=="object"){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ut(i,n.getObjectProperty(),a),i}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(c){throw Ki(c)}}}var wt="AssignmentNode",Bo=["subset","?matrix","Node"],Mo=Y(wt,Bo,e=>{var{subset:r,matrix:t,Node:u}=e,i=Qi({subset:r}),n=So({subset:r,matrix:t});function a(f,p,s){p||(p="keep");var o=se(f,p,s),h=se(f.value,p,s);return p==="all"||h!==null&&h<=o}class c extends u{constructor(p,s,o){if(super(),this.object=p,this.index=o?s:null,this.value=o||s,!$e(p)&&!or(p))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if($e(p)&&p.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Br(this.index))throw new TypeError('IndexNode expected as "index"');if(!le(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return wt}get isAssignmentNode(){return!0}_compile(p,s){var o=this.object._compile(p,s),h=this.index?this.index._compile(p,s):null,m=this.value._compile(p,s),g=this.object.name;if(this.index)if(this.index.isObjectProperty()){var l=this.index.getObjectProperty();return function(C,b,B){var _=o(C,b,B),A=m(C,b,B);return ut(_,l,A),A}}else{if($e(this.object))return function(C,b,B){var _=o(C,b,B),A=m(C,b,B),x=h(C,b,_);return C.set(g,n(_,x,A)),A};var d=this.object.object._compile(p,s);if(this.object.index.isObjectProperty()){var D=this.object.index.getObjectProperty();return function(C,b,B){var _=d(C,b,B),A=Ve(_,D),x=h(C,b,A),I=m(C,b,B);return ut(_,D,n(A,x,I)),I}}else{var E=this.object.index._compile(p,s);return function(C,b,B){var _=d(C,b,B),A=E(C,b,_),x=i(_,A),I=h(C,b,x),O=m(C,b,B);return n(_,A,n(x,I,O)),O}}}else{if(!$e(this.object))throw new TypeError("SymbolNode expected as object");return function(C,b,B){var _=m(C,b,B);return C.set(g,_),_}}}forEach(p){p(this.object,"object",this),this.index&&p(this.index,"index",this),p(this.value,"value",this)}map(p){var s=this._ifNode(p(this.object,"object",this)),o=this.index?this._ifNode(p(this.index,"index",this)):null,h=this._ifNode(p(this.value,"value",this));return new c(s,o,h)}clone(){return new c(this.object,this.index,this.value)}_toString(p){var s=this.object.toString(p),o=this.index?this.index.toString(p):"",h=this.value.toString(p);return a(this,p&&p.parenthesis,p&&p.implicit)&&(h="("+h+")"),s+o+" = "+h}toJSON(){return{mathjs:wt,object:this.object,index:this.index,value:this.value}}static fromJSON(p){return new c(p.object,p.index,p.value)}toHTML(p){var s=this.object.toHTML(p),o=this.index?this.index.toHTML(p):"",h=this.value.toHTML(p);return a(this,p&&p.parenthesis,p&&p.implicit)&&(h='<span class="math-paranthesis math-round-parenthesis">(</span>'+h+'<span class="math-paranthesis math-round-parenthesis">)</span>'),s+o+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h}_toTex(p){var s=this.object.toTex(p),o=this.index?this.index.toTex(p):"",h=this.value.toTex(p);return a(this,p&&p.parenthesis,p&&p.implicit)&&(h="\\left(".concat(h,"\\right)")),s+o+":="+h}}return xe(c,"name",wt),c},{isClass:!0,isNode:!0}),yt="BlockNode",_o=["ResultSet","Node"],To=Y(yt,_o,e=>{var{ResultSet:r,Node:t}=e;class u extends t{constructor(n){if(super(),!Array.isArray(n))throw new Error("Array expected");this.blocks=n.map(function(a){var c=a&&a.node,f=a&&a.visible!==void 0?a.visible:!0;if(!le(c))throw new TypeError('Property "node" must be a Node');if(typeof f!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:c,visible:f}})}get type(){return yt}get isBlockNode(){return!0}_compile(n,a){var c=er(this.blocks,function(f){return{evaluate:f.node._compile(n,a),visible:f.visible}});return function(p,s,o){var h=[];return Di(c,function(g){var l=g.evaluate(p,s,o);g.visible&&h.push(l)}),new r(h)}}forEach(n){for(var a=0;a<this.blocks.length;a++)n(this.blocks[a].node,"blocks["+a+"].node",this)}map(n){for(var a=[],c=0;c<this.blocks.length;c++){var f=this.blocks[c],p=this._ifNode(n(f.node,"blocks["+c+"].node",this));a[c]={node:p,visible:f.visible}}return new u(a)}clone(){var n=this.blocks.map(function(a){return{node:a.node,visible:a.visible}});return new u(n)}_toString(n){return this.blocks.map(function(a){return a.node.toString(n)+(a.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:yt,blocks:this.blocks}}static fromJSON(n){return new u(n.blocks)}toHTML(n){return this.blocks.map(function(a){return a.node.toHTML(n)+(a.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(n){return this.blocks.map(function(a){return a.node.toTex(n)+(a.visible?"":";")}).join(`\\;\\;
`)}}return xe(u,"name",yt),u},{isClass:!0,isNode:!0}),Et="ConditionalNode",Oo=["Node"],$o=Y(Et,Oo,e=>{var{Node:r}=e;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(Me(i))return!i.isZero();if(br(i))return!!(i.re||i.im);if(xr(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Le(i)+'"')}class u extends r{constructor(n,a,c){if(super(),!le(n))throw new TypeError("Parameter condition must be a Node");if(!le(a))throw new TypeError("Parameter trueExpr must be a Node");if(!le(c))throw new TypeError("Parameter falseExpr must be a Node");this.condition=n,this.trueExpr=a,this.falseExpr=c}get type(){return Et}get isConditionalNode(){return!0}_compile(n,a){var c=this.condition._compile(n,a),f=this.trueExpr._compile(n,a),p=this.falseExpr._compile(n,a);return function(o,h,m){return t(c(o,h,m))?f(o,h,m):p(o,h,m)}}forEach(n){n(this.condition,"condition",this),n(this.trueExpr,"trueExpr",this),n(this.falseExpr,"falseExpr",this)}map(n){return new u(this._ifNode(n(this.condition,"condition",this)),this._ifNode(n(this.trueExpr,"trueExpr",this)),this._ifNode(n(this.falseExpr,"falseExpr",this)))}clone(){return new u(this.condition,this.trueExpr,this.falseExpr)}_toString(n){var a=n&&n.parenthesis?n.parenthesis:"keep",c=se(this,a,n&&n.implicit),f=this.condition.toString(n),p=se(this.condition,a,n&&n.implicit);(a==="all"||this.condition.type==="OperatorNode"||p!==null&&p<=c)&&(f="("+f+")");var s=this.trueExpr.toString(n),o=se(this.trueExpr,a,n&&n.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||o!==null&&o<=c)&&(s="("+s+")");var h=this.falseExpr.toString(n),m=se(this.falseExpr,a,n&&n.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=c)&&(h="("+h+")"),f+" ? "+s+" : "+h}toJSON(){return{mathjs:Et,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(n){return new u(n.condition,n.trueExpr,n.falseExpr)}toHTML(n){var a=n&&n.parenthesis?n.parenthesis:"keep",c=se(this,a,n&&n.implicit),f=this.condition.toHTML(n),p=se(this.condition,a,n&&n.implicit);(a==="all"||this.condition.type==="OperatorNode"||p!==null&&p<=c)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(n),o=se(this.trueExpr,a,n&&n.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||o!==null&&o<=c)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.falseExpr.toHTML(n),m=se(this.falseExpr,a,n&&n.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=c)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+h}_toTex(n){return"\\begin{cases} {"+this.trueExpr.toTex(n)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(n)+"}\\\\{"+this.falseExpr.toTex(n)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return xe(u,"name",Et),u},{isClass:!0,isNode:!0});function At(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nn=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},Io={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Po={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},ko=function(r,t){return Nn({},r,t)},Lo=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.preserveFormatting,u=t===void 0?!1:t,i=r.escapeMapFn,n=i===void 0?ko:i,a=String(e),c="",f=n(Nn({},Io),u?Nn({},Po):{}),p=Object.keys(f),s=function(){var h=!1;p.forEach(function(m,g){h||a.length>=m.length&&a.slice(0,m.length)===m&&(c+=f[p[g]],a=a.slice(m.length,a.length),h=!0)}),h||(c+=a.slice(0,1),a=a.slice(1,a.length))};a;)s();return c},jo=At(Lo),bn={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ue={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},eu={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ue.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ue.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ue.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ue.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ue.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ue.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ue.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ue.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ue.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ue.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ue.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ue.bitAnd,"${args[1]}\\right)")},bitNot:{1:ue.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ue.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ue.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ue.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ue.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ue.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ue.and,"${args[1]}\\right)")},not:{1:ue.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ue.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ue.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ue.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ue.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ue.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ue.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ue.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ue.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ue.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ue.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ue.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ue.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ue.to,"${args[1]}\\right)")},numeric:function(r,t){return r.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(bn.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},zo="\\mathrm{${name}}\\left(${args}\\right)",ru={deg:"^\\circ"};function xn(e){return jo(e,{preserveFormatting:!0})}function tu(e,r){return r=typeof r>"u"?!1:r,r?ie(ru,e)?ru[e]:"\\mathrm{"+xn(e)+"}":ie(bn,e)?bn[e]:xn(e)}var Ft="ConstantNode",Ro=["Node"],qo=Y(Ft,Ro,e=>{var{Node:r}=e;class t extends r{constructor(i){super(),this.value=i}get type(){return Ft}get isConstantNode(){return!0}_compile(i,n){var a=this.value;return function(){return a}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return be(this.value,i)}toHTML(i){var n=this._toString(i);switch(Le(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+n+"</span>";case"string":return'<span class="math-string">'+n+"</span>";case"boolean":return'<span class="math-boolean">'+n+"</span>";case"null":return'<span class="math-null-symbol">'+n+"</span>";case"undefined":return'<span class="math-undefined">'+n+"</span>";default:return'<span class="math-symbol">'+n+"</span>"}}toJSON(){return{mathjs:Ft,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var n=this._toString(i);switch(Le(this.value)){case"string":return"\\mathtt{"+xn(n)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var a=n.toLowerCase().indexOf("e");if(a!==-1)return n.substring(0,a)+"\\cdot10^{"+n.substring(a+1)+"}"}return n;case"Fraction":return this.value.toLatex();default:return n}}}return xe(t,"name",Ft),t},{isClass:!0,isNode:!0}),Ct="FunctionAssignmentNode",Uo=["typed","Node"],Ho=Y(Ct,Uo,e=>{var{typed:r,Node:t}=e;function u(n,a,c){var f=se(n,a,c),p=se(n.expr,a,c);return a==="all"||p!==null&&p<=f}class i extends t{constructor(a,c,f){if(super(),typeof a!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(c))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!le(f))throw new TypeError('Node expected for parameter "expr"');if(Gi.has(a))throw new Error('Illegal function name, "'+a+'" is a reserved keyword');var p=new Set;for(var s of c){var o=typeof s=="string"?s:s.name;if(p.has(o))throw new Error('Duplicate parameter name "'.concat(o,'"'));p.add(o)}this.name=a,this.params=c.map(function(h){return h&&h.name||h}),this.types=c.map(function(h){return h&&h.type||"any"}),this.expr=f}get type(){return Ct}get isFunctionAssignmentNode(){return!0}_compile(a,c){var f=Object.create(c);Di(this.params,function(g){f[g]=!0});var p=this.expr._compile(a,f),s=this.name,o=this.params,h=wi(this.types,","),m=s+"("+wi(this.params,", ")+")";return function(l,d,D){var E={};E[h]=function(){for(var C=Object.create(d),b=0;b<o.length;b++)C[o[b]]=arguments[b];return p(l,C,D)};var w=r(s,E);return w.syntax=m,l.set(s,w),w}}forEach(a){a(this.expr,"expr",this)}map(a){var c=this._ifNode(a(this.expr,"expr",this));return new i(this.name,this.params.slice(0),c)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(a){var c=a&&a.parenthesis?a.parenthesis:"keep",f=this.expr.toString(a);return u(this,c,a&&a.implicit)&&(f="("+f+")"),this.name+"("+this.params.join(", ")+") = "+f}toJSON(){var a=this.types;return{mathjs:Ct,name:this.name,params:this.params.map(function(c,f){return{name:c,type:a[f]}}),expr:this.expr}}static fromJSON(a){return new i(a.name,a.params,a.expr)}toHTML(a){for(var c=a&&a.parenthesis?a.parenthesis:"keep",f=[],p=0;p<this.params.length;p++)f.push('<span class="math-symbol math-parameter">'+je(this.params[p])+"</span>");var s=this.expr.toHTML(a);return u(this,c,a&&a.implicit)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+je(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s}_toTex(a){var c=a&&a.parenthesis?a.parenthesis:"keep",f=this.expr.toTex(a);return u(this,c,a&&a.implicit)&&(f="\\left(".concat(f,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(tu).join(",")+"\\right):="+f}}return xe(i,"name",Ct),i},{isClass:!0,isNode:!0}),Nt="IndexNode",Wo=["Node","size"],Jo=Y(Nt,Wo,e=>{var{Node:r,size:t}=e;class u extends r{constructor(n,a){if(super(),this.dimensions=n,this.dotNotation=a||!1,!Array.isArray(n)||!n.every(le))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Nt}get isIndexNode(){return!0}_compile(n,a){var c=er(this.dimensions,function(p,s){var o=p.filter(g=>g.isSymbolNode&&g.name==="end").length>0;if(o){var h=Object.create(a);h.end=!0;var m=p._compile(n,h);return function(l,d,D){if(!Te(D)&&!ce(D)&&!ke(D))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Le(D));var E=t(D).valueOf(),w=Object.create(d);return w.end=E[s],m(l,w,D)}}else return p._compile(n,a)}),f=Ve(n,"index");return function(s,o,h){var m=er(c,function(g){return g(s,o,h)});return f(...m)}}forEach(n){for(var a=0;a<this.dimensions.length;a++)n(this.dimensions[a],"dimensions["+a+"]",this)}map(n){for(var a=[],c=0;c<this.dimensions.length;c++)a[c]=this._ifNode(n(this.dimensions[c],"dimensions["+c+"]",this));return new u(a,this.dotNotation)}clone(){return new u(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&qe(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(n){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Nt,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(n){return new u(n.dimensions,n.dotNotation)}toHTML(n){for(var a=[],c=0;c<this.dimensions.length;c++)a[c]=this.dimensions[c].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+je(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(n){var a=this.dimensions.map(function(c){return c.toTex(n)});return this.dotNotation?"."+this.getObjectProperty():"_{"+a.join(",")+"}"}}return xe(u,"name",Nt),u},{isClass:!0,isNode:!0}),bt="ObjectNode",Zo=["Node"],Vo=Y(bt,Zo,e=>{var{Node:r}=e;class t extends r{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(n){return le(i[n])})))throw new TypeError("Object containing Nodes expected")}get type(){return bt}get isObjectNode(){return!0}_compile(i,n){var a={};for(var c in this.properties)if(ie(this.properties,c)){var f=nt(c),p=JSON.parse(f);if(!hn(this.properties,p))throw new Error('No access to property "'+p+'"');a[p]=this.properties[c]._compile(i,n)}return function(o,h,m){var g={};for(var l in a)ie(a,l)&&(g[l]=a[l](o,h,m));return g}}forEach(i){for(var n in this.properties)ie(this.properties,n)&&i(this.properties[n],"properties["+nt(n)+"]",this)}map(i){var n={};for(var a in this.properties)ie(this.properties,a)&&(n[a]=this._ifNode(i(this.properties[a],"properties["+nt(a)+"]",this)));return new t(n)}clone(){var i={};for(var n in this.properties)ie(this.properties,n)&&(i[n]=this.properties[n]);return new t(i)}_toString(i){var n=[];for(var a in this.properties)ie(this.properties,a)&&n.push(nt(a)+": "+this.properties[a].toString(i));return"{"+n.join(", ")+"}"}toJSON(){return{mathjs:bt,properties:this.properties}}static fromJSON(i){return new t(i.properties)}toHTML(i){var n=[];for(var a in this.properties)ie(this.properties,a)&&n.push('<span class="math-symbol math-property">'+je(a)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[a].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var n=[];for(var a in this.properties)ie(this.properties,a)&&n.push("\\mathbf{"+a+":} & "+this.properties[a].toTex(i)+"\\\\");var c="\\left\\{\\begin{array}{ll}"+n.join(`
`)+"\\end{array}\\right\\}";return c}}return xe(t,"name",bt),t},{isClass:!0,isNode:!0}),xt="OperatorNode",Yo=["Node"],Xo=Y(xt,Yo,e=>{var{Node:r}=e;function t(n,a){var c=n;if(a==="auto")for(;pr(c);)c=c.content;return qe(c)?!0:Mr(c)?t(c.args[0],a):!1}function u(n,a,c,f,p){var s=se(n,a,c),o=Ir(n,a);if(a==="all"||f.length>2&&n.getIdentifier()!=="OperatorNode:add"&&n.getIdentifier()!=="OperatorNode:multiply")return f.map(function(I){switch(I.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var h;switch(f.length){case 0:h=[];break;case 1:{var m=se(f[0],a,c,n);if(p&&m!==null){var g,l;if(a==="keep"?(g=f[0].getIdentifier(),l=n.getIdentifier()):(g=f[0].getContent().getIdentifier(),l=n.getContent().getIdentifier()),Ye[s][l].latexLeftParens===!1){h=[!1];break}if(Ye[m][g].latexParens===!1){h=[!1];break}}if(m===null){h=[!1];break}if(m<=s){h=[!0];break}h=[!1]}break;case 2:{var d,D=se(f[0],a,c,n),E=mn(n,f[0],a);D===null?d=!1:D===s&&o==="right"&&!E||D<s?d=!0:d=!1;var w,C=se(f[1],a,c,n),b=mn(n,f[1],a);if(C===null?w=!1:C===s&&o==="left"&&!b||C<s?w=!0:w=!1,p){var B,_,A;a==="keep"?(B=n.getIdentifier(),_=n.args[0].getIdentifier(),A=n.args[1].getIdentifier()):(B=n.getContent().getIdentifier(),_=n.args[0].getContent().getIdentifier(),A=n.args[1].getContent().getIdentifier()),D!==null&&(Ye[s][B].latexLeftParens===!1&&(d=!1),Ye[D][_].latexParens===!1&&(d=!1)),C!==null&&(Ye[s][B].latexRightParens===!1&&(w=!1),Ye[C][A].latexParens===!1&&(w=!1))}h=[d,w]}break;default:(n.getIdentifier()==="OperatorNode:add"||n.getIdentifier()==="OperatorNode:multiply")&&(h=f.map(function(I){var O=se(I,a,c,n),T=mn(n,I,a),U=Ir(I,a);return O===null?!1:s===O&&o===U&&!T?!0:O<s}));break}if(f.length>=2&&n.getIdentifier()==="OperatorNode:multiply"&&n.implicit&&a!=="all"&&c==="hide")for(var x=1;x<h.length;++x)t(f[x],a)&&!h[x-1]&&(a!=="keep"||!pr(f[x-1]))&&(h[x]=!0);return h}class i extends r{constructor(a,c,f,p,s){if(super(),typeof a!="string")throw new TypeError('string expected for parameter "op"');if(typeof c!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(f)||!f.every(le))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=p===!0,this.isPercentage=s===!0,this.op=a,this.fn=c,this.args=f||[]}get type(){return xt}get isOperatorNode(){return!0}_compile(a,c){if(typeof this.fn!="string"||!ln(a,this.fn))throw a[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var f=Ve(a,this.fn),p=er(this.args,function(m){return m._compile(a,c)});if(p.length===1){var s=p[0];return function(g,l,d){return f(s(g,l,d))}}else if(p.length===2){var o=p[0],h=p[1];return function(g,l,d){return f(o(g,l,d),h(g,l,d))}}else return function(g,l,d){return f.apply(null,er(p,function(D){return D(g,l,d)}))}}forEach(a){for(var c=0;c<this.args.length;c++)a(this.args[c],"args["+c+"]",this)}map(a){for(var c=[],f=0;f<this.args.length;f++)c[f]=this._ifNode(a(this.args[f],"args["+f+"]",this));return new i(this.op,this.fn,c,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(a){var c=a&&a.parenthesis?a.parenthesis:"keep",f=a&&a.implicit?a.implicit:"hide",p=this.args,s=u(this,c,f,p,!1);if(p.length===1){var o=Ir(this,c),h=p[0].toString(a);s[0]&&(h="("+h+")");var m=/[a-zA-Z]+/.test(this.op);return o==="right"?this.op+(m?" ":"")+h:o==="left"?h+(m?" ":"")+this.op:h+this.op}else if(p.length===2){var g=p[0].toString(a),l=p[1].toString(a);return s[0]&&(g="("+g+")"),s[1]&&(l="("+l+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&f==="hide"?g+" "+l:g+" "+this.op+" "+l}else if(p.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var d=p.map(function(D,E){return D=D.toString(a),s[E]&&(D="("+D+")"),D});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&f==="hide"?d.join(" "):d.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:xt,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(a){return new i(a.op,a.fn,a.args,a.implicit,a.isPercentage)}toHTML(a){var c=a&&a.parenthesis?a.parenthesis:"keep",f=a&&a.implicit?a.implicit:"hide",p=this.args,s=u(this,c,f,p,!1);if(p.length===1){var o=Ir(this,c),h=p[0].toHTML(a);return s[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+je(this.op)+"</span>"+h:h+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+je(this.op)+"</span>"}else if(p.length===2){var m=p[0].toHTML(a),g=p[1].toHTML(a);return s[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&f==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+g:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+je(this.op)+"</span>"+g}else{var l=p.map(function(d,D){return d=d.toHTML(a),s[D]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d});return p.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&f==="hide"?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+je(this.op)+"</span>"):'<span class="math-function">'+je(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(a){var c=a&&a.parenthesis?a.parenthesis:"keep",f=a&&a.implicit?a.implicit:"hide",p=this.args,s=u(this,c,f,p,!0),o=ue[this.fn];if(o=typeof o>"u"?this.op:o,p.length===1){var h=Ir(this,c),m=p[0].toTex(a);return s[0]&&(m="\\left(".concat(m,"\\right)")),h==="right"?o+m:m+o}else if(p.length===2){var g=p[0],l=g.toTex(a);s[0]&&(l="\\left(".concat(l,"\\right)"));var d=p[1],D=d.toTex(a);s[1]&&(D="\\left(".concat(D,"\\right)"));var E;switch(c==="keep"?E=g.getIdentifier():E=g.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+l+"}{"+D+"}";case"OperatorNode:pow":switch(l="{"+l+"}",D="{"+D+"}",E){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&f==="hide")return l+"~"+D}return l+o+D}else if(p.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var w=p.map(function(C,b){return C=C.toTex(a),s[b]&&(C="\\left(".concat(C,"\\right)")),C});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&f==="hide"?w.join("~"):w.join(o)}else return"\\mathrm{"+this.fn+"}\\left("+p.map(function(C){return C.toTex(a)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return xe(i,"name",xt),i},{isClass:!0,isNode:!0}),St="ParenthesisNode",Go=["Node"],Ko=Y(St,Go,e=>{var{Node:r}=e;class t extends r{constructor(i){if(super(),!le(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return St}get isParenthesisNode(){return!0}_compile(i,n){return this.content._compile(i,n)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var n=i(this.content,"content",this);return new t(n)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:St,content:this.content}}static fromJSON(i){return new t(i.content)}toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return xe(t,"name",St),t},{isClass:!0,isNode:!0}),Bt="RangeNode",Qo=["Node"],es=Y(Bt,Qo,e=>{var{Node:r}=e;function t(i,n,a){var c=se(i,n,a),f={},p=se(i.start,n,a);if(f.start=p!==null&&p<=c||n==="all",i.step){var s=se(i.step,n,a);f.step=s!==null&&s<=c||n==="all"}var o=se(i.end,n,a);return f.end=o!==null&&o<=c||n==="all",f}class u extends r{constructor(n,a,c){if(super(),!le(n))throw new TypeError("Node expected");if(!le(a))throw new TypeError("Node expected");if(c&&!le(c))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=n,this.end=a,this.step=c||null}get type(){return Bt}get isRangeNode(){return!0}needsEnd(){var n=this.filter(function(a){return $e(a)&&a.name==="end"});return n.length>0}_compile(n,a){var c=n.range,f=this.start._compile(n,a),p=this.end._compile(n,a);if(this.step){var s=this.step._compile(n,a);return function(h,m,g){return c(f(h,m,g),p(h,m,g),s(h,m,g))}}else return function(h,m,g){return c(f(h,m,g),p(h,m,g))}}forEach(n){n(this.start,"start",this),n(this.end,"end",this),this.step&&n(this.step,"step",this)}map(n){return new u(this._ifNode(n(this.start,"start",this)),this._ifNode(n(this.end,"end",this)),this.step&&this._ifNode(n(this.step,"step",this)))}clone(){return new u(this.start,this.end,this.step&&this.step)}_toString(n){var a=n&&n.parenthesis?n.parenthesis:"keep",c=t(this,a,n&&n.implicit),f,p=this.start.toString(n);if(c.start&&(p="("+p+")"),f=p,this.step){var s=this.step.toString(n);c.step&&(s="("+s+")"),f+=":"+s}var o=this.end.toString(n);return c.end&&(o="("+o+")"),f+=":"+o,f}toJSON(){return{mathjs:Bt,start:this.start,end:this.end,step:this.step}}static fromJSON(n){return new u(n.start,n.end,n.step)}toHTML(n){var a=n&&n.parenthesis?n.parenthesis:"keep",c=t(this,a,n&&n.implicit),f,p=this.start.toHTML(n);if(c.start&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f=p,this.step){var s=this.step.toHTML(n);c.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+='<span class="math-operator math-range-operator">:</span>'+s}var o=this.end.toHTML(n);return c.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+='<span class="math-operator math-range-operator">:</span>'+o,f}_toTex(n){var a=n&&n.parenthesis?n.parenthesis:"keep",c=t(this,a,n&&n.implicit),f=this.start.toTex(n);if(c.start&&(f="\\left(".concat(f,"\\right)")),this.step){var p=this.step.toTex(n);c.step&&(p="\\left(".concat(p,"\\right)")),f+=":"+p}var s=this.end.toTex(n);return c.end&&(s="\\left(".concat(s,"\\right)")),f+=":"+s,f}}return xe(u,"name",Bt),u},{isClass:!0,isNode:!0}),Mt="RelationalNode",rs=["Node"],ts=Y(Mt,rs,e=>{var{Node:r}=e,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class u extends r{constructor(n,a){if(super(),!Array.isArray(n))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(a))throw new TypeError("Parameter params must be an array");if(n.length!==a.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=n,this.params=a}get type(){return Mt}get isRelationalNode(){return!0}_compile(n,a){var c=this,f=this.params.map(p=>p._compile(n,a));return function(s,o,h){for(var m,g=f[0](s,o,h),l=0;l<c.conditionals.length;l++){m=g,g=f[l+1](s,o,h);var d=Ve(n,c.conditionals[l]);if(!d(m,g))return!1}return!0}}forEach(n){this.params.forEach((a,c)=>n(a,"params["+c+"]",this),this)}map(n){return new u(this.conditionals.slice(),this.params.map((a,c)=>this._ifNode(n(a,"params["+c+"]",this)),this))}clone(){return new u(this.conditionals,this.params)}_toString(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",c=se(this,a,n&&n.implicit),f=this.params.map(function(o,h){var m=se(o,a,n&&n.implicit);return a==="all"||m!==null&&m<=c?"("+o.toString(n)+")":o.toString(n)}),p=f[0],s=0;s<this.conditionals.length;s++)p+=" "+t[this.conditionals[s]],p+=" "+f[s+1];return p}toJSON(){return{mathjs:Mt,conditionals:this.conditionals,params:this.params}}static fromJSON(n){return new u(n.conditionals,n.params)}toHTML(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",c=se(this,a,n&&n.implicit),f=this.params.map(function(o,h){var m=se(o,a,n&&n.implicit);return a==="all"||m!==null&&m<=c?'<span class="math-parenthesis math-round-parenthesis">(</span>'+o.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':o.toHTML(n)}),p=f[0],s=0;s<this.conditionals.length;s++)p+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+je(t[this.conditionals[s]])+"</span>"+f[s+1];return p}_toTex(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",c=se(this,a,n&&n.implicit),f=this.params.map(function(o,h){var m=se(o,a,n&&n.implicit);return a==="all"||m!==null&&m<=c?"\\left("+o.toTex(n)+"\right)":o.toTex(n)}),p=f[0],s=0;s<this.conditionals.length;s++)p+=ue[this.conditionals[s]]+f[s+1];return p}}return xe(u,"name",Mt),u},{isClass:!0,isNode:!0}),ns="SymbolNode",is=["math","?Unit","Node"],us=Y(ns,is,e=>{var{math:r,Unit:t,Node:u}=e;function i(a){return t?t.isValuelessUnit(a):!1}class n extends u{constructor(c){if(super(),typeof c!="string")throw new TypeError('String expected for parameter "name"');this.name=c}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(c,f){var p=this.name;if(f[p]===!0)return function(o,h,m){return h[p]};if(p in c)return function(o,h,m){return o.has(p)?o.get(p):Ve(c,p)};var s=i(p);return function(o,h,m){return o.has(p)?o.get(p):s?new t(null,p):n.onUndefinedSymbol(p)}}forEach(c){}map(c){return this.clone()}static onUndefinedSymbol(c){throw new Error("Undefined symbol "+c)}clone(){return new n(this.name)}_toString(c){return this.name}toHTML(c){var f=je(this.name);return f==="true"||f==="false"?'<span class="math-symbol math-boolean">'+f+"</span>":f==="i"?'<span class="math-symbol math-imaginary-symbol">'+f+"</span>":f==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+f+"</span>":f==="NaN"?'<span class="math-symbol math-nan-symbol">'+f+"</span>":f==="null"?'<span class="math-symbol math-null-symbol">'+f+"</span>":f==="undefined"?'<span class="math-symbol math-undefined-symbol">'+f+"</span>":'<span class="math-symbol">'+f+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(c){return new n(c.name)}_toTex(c){var f=!1;typeof r[this.name]>"u"&&i(this.name)&&(f=!0);var p=tu(this.name,f);return p[0]==="\\"?p:" "+p}}return n},{isClass:!0,isNode:!0});function _t(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),u=1;u<r;u++)t[u-1]=arguments[u];return typeof e.createSubScope=="function"?Bi(e.createSubScope(),...t):Bi(at(),e,...t)}var Tt="FunctionNode",as=["math","Node","SymbolNode"],os=Y(Tt,as,e=>{var{math:r,Node:t,SymbolNode:u}=e,i=c=>be(c,{truncate:78});function n(c,f,p){for(var s="",o=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0,m;(m=o.exec(c))!==null;)if(s+=c.substring(h,m.index),h=m.index,m[0]==="$$")s+="$",h++;else{h+=m[0].length;var g=f[m[1]];if(!g)throw new ReferenceError("Template: Property "+m[1]+" does not exist.");if(m[2]===void 0)switch(typeof g){case"string":s+=g;break;case"object":if(le(g))s+=g.toTex(p);else if(Array.isArray(g))s+=g.map(function(l,d){if(le(l))return l.toTex(p);throw new TypeError("Template: "+m[1]+"["+d+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes")}else if(le(g[m[2]]&&g[m[2]]))s+=g[m[2]].toTex(p);else throw new TypeError("Template: "+m[1]+"["+m[2]+"] is not a Node.")}return s+=c.slice(h),s}class a extends t{constructor(f,p){if(super(),typeof f=="string"&&(f=new u(f)),!le(f))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(p)||!p.every(le))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=f,this.args=p||[]}get name(){return this.fn.name||""}get type(){return Tt}get isFunctionNode(){return!0}_compile(f,p){var s=this.args.map(_=>_._compile(f,p));if($e(this.fn)){var o=this.fn.name;if(p[o]){var d=this.args;return function(A,x,I){var O=x[o];if(typeof O!="function")throw new TypeError("Argument '".concat(o,"' was not a function; received: ").concat(i(O)));if(O.rawArgs)return O(d,f,_t(A,x),A);var T=s.map(U=>U(A,x,I));return O.apply(O,T)}}else{var h=o in f?Ve(f,o):void 0,m=typeof h=="function"&&h.rawArgs===!0,g=_=>{var A;if(_.has(o))A=_.get(o);else if(o in f)A=Ve(f,o);else return a.onUndefinedFunction(o);if(typeof A=="function")return A;throw new TypeError("'".concat(o,`' is not a function; its value is:
  `).concat(i(A)))};if(m){var l=this.args;return function(A,x,I){var O=g(A);return O(l,f,_t(A,x),A)}}else switch(s.length){case 0:return function(A,x,I){var O=g(A);return O()};case 1:return function(A,x,I){var O=g(A),T=s[0];return O(T(A,x,I))};case 2:return function(A,x,I){var O=g(A),T=s[0],U=s[1];return O(T(A,x,I),U(A,x,I))};default:return function(A,x,I){var O=g(A),T=s.map(U=>U(A,x,I));return O(...T)}}}}else if(or(this.fn)&&Br(this.fn.index)&&this.fn.index.isObjectProperty()){var D=this.fn.object._compile(f,p),E=this.fn.index.getObjectProperty(),w=this.args;return function(A,x,I){var O=D(A,x,I);aa(O,E);var T=O[E]&&O[E].rawArgs;if(T)return O[E](w,f,_t(A,x),A);var U=s.map(ee=>ee(A,x,I));return O[E].apply(O,U)}}else{var C=this.fn.toString(),b=this.fn._compile(f,p),B=this.args;return function(A,x,I){var O=b(A,x,I);if(typeof O!="function")throw new TypeError("Expression '".concat(C,"' did not evaluate to a function; value is:")+`
  `.concat(i(O)));if(O.rawArgs)return O(B,f,_t(A,x),A);var T=s.map(U=>U(A,x,I));return O.apply(O,T)}}}forEach(f){f(this.fn,"fn",this);for(var p=0;p<this.args.length;p++)f(this.args[p],"args["+p+"]",this)}map(f){for(var p=this._ifNode(f(this.fn,"fn",this)),s=[],o=0;o<this.args.length;o++)s[o]=this._ifNode(f(this.args[o],"args["+o+"]",this));return new a(p,s)}clone(){return new a(this.fn,this.args.slice(0))}toString(f){var p,s=this.fn.toString(f);return f&&typeof f.handler=="object"&&ie(f.handler,s)&&(p=f.handler[s](this,f)),typeof p<"u"?p:super.toString(f)}_toString(f){var p=this.args.map(function(o){return o.toString(f)}),s=Xt(this.fn)?"("+this.fn.toString(f)+")":this.fn.toString(f);return s+"("+p.join(", ")+")"}toJSON(){return{mathjs:Tt,fn:this.fn,args:this.args}}toHTML(f){var p=this.args.map(function(s){return s.toHTML(f)});return'<span class="math-function">'+je(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(f){var p;return f&&typeof f.handler=="object"&&ie(f.handler,this.name)&&(p=f.handler[this.name](this,f)),typeof p<"u"?p:super.toTex(f)}_toTex(f){var p=this.args.map(function(h){return h.toTex(f)}),s;eu[this.name]&&(s=eu[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(s=r[this.name].toTex);var o;switch(typeof s){case"function":o=s(this,f);break;case"string":o=n(s,this,f);break;case"object":switch(typeof s[p.length]){case"function":o=s[p.length](this,f);break;case"string":o=n(s[p.length],this,f);break}}return typeof o<"u"?o:n(zo,this,f)}getIdentifier(){return this.type+":"+this.name}}return xe(a,"name",Tt),xe(a,"onUndefinedFunction",function(c){throw new Error("Undefined function "+c)}),xe(a,"fromJSON",function(c){return new a(c.fn,c.args)}),a},{isClass:!0,isNode:!0}),nu="parse",ss=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],fs=Y(nu,ss,e=>{var{typed:r,numeric:t,config:u,AccessorNode:i,ArrayNode:n,AssignmentNode:a,BlockNode:c,ConditionalNode:f,ConstantNode:p,FunctionAssignmentNode:s,FunctionNode:o,IndexNode:h,ObjectNode:m,OperatorNode:g,ParenthesisNode:l,RangeNode:d,RelationalNode:D,SymbolNode:E}=e,w=r(nu,{string:function(y){return Ce(y,{})},"Array | Matrix":function(y){return C(y,{})},"string, Object":function(y,S){var L=S.nodes!==void 0?S.nodes:{};return Ce(y,L)},"Array | Matrix, Object":C});function C(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=y.nodes!==void 0?y.nodes:{};return ur(v,function(L){if(typeof L!="string")throw new TypeError("String expected");return Ce(L,S)})}var b={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},B={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},_={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},x=["NaN","Infinity"];function I(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b.NULL,nestingLevel:0,conditionalLevel:null}}function O(v,y){return v.expression.substr(v.index,y)}function T(v){return O(v,1)}function U(v){v.index++}function ee(v){return v.expression.charAt(v.index-1)}function Q(v){return v.expression.charAt(v.index+1)}function H(v){for(v.tokenType=b.NULL,v.token="",v.comment="";;){if(T(v)==="#")for(;T(v)!==`
`&&T(v)!=="";)v.comment+=T(v),U(v);if(w.isWhitespace(T(v),v.nestingLevel))U(v);else break}if(T(v)===""){v.tokenType=b.DELIMITER;return}if(T(v)===`
`&&!v.nestingLevel){v.tokenType=b.DELIMITER,v.token=T(v),U(v);return}var y=T(v),S=O(v,2),L=O(v,3);if(L.length===3&&B[L]){v.tokenType=b.DELIMITER,v.token=L,U(v),U(v),U(v);return}if(S.length===2&&B[S]){v.tokenType=b.DELIMITER,v.token=S,U(v),U(v);return}if(B[y]){v.tokenType=b.DELIMITER,v.token=y,U(v);return}if(w.isDigitDot(y)){v.tokenType=b.NUMBER;var J=O(v,2);if(J==="0b"||J==="0o"||J==="0x"){for(v.token+=T(v),U(v),v.token+=T(v),U(v);w.isHexDigit(T(v));)v.token+=T(v),U(v);if(T(v)===".")for(v.token+=".",U(v);w.isHexDigit(T(v));)v.token+=T(v),U(v);else if(T(v)==="i")for(v.token+="i",U(v);w.isDigit(T(v));)v.token+=T(v),U(v);return}if(T(v)==="."){if(v.token+=T(v),U(v),!w.isDigit(T(v))){v.tokenType=b.DELIMITER;return}}else{for(;w.isDigit(T(v));)v.token+=T(v),U(v);w.isDecimalMark(T(v),Q(v))&&(v.token+=T(v),U(v))}for(;w.isDigit(T(v));)v.token+=T(v),U(v);if(T(v)==="E"||T(v)==="e"){if(w.isDigit(Q(v))||Q(v)==="-"||Q(v)==="+"){if(v.token+=T(v),U(v),(T(v)==="+"||T(v)==="-")&&(v.token+=T(v),U(v)),!w.isDigit(T(v)))throw ne(v,'Digit expected, got "'+T(v)+'"');for(;w.isDigit(T(v));)v.token+=T(v),U(v);if(w.isDecimalMark(T(v),Q(v)))throw ne(v,'Digit expected, got "'+T(v)+'"')}else if(Q(v)===".")throw U(v),ne(v,'Digit expected, got "'+T(v)+'"')}return}if(w.isAlpha(T(v),ee(v),Q(v))){for(;w.isAlpha(T(v),ee(v),Q(v))||w.isDigit(T(v));)v.token+=T(v),U(v);ie(_,v.token)?v.tokenType=b.DELIMITER:v.tokenType=b.SYMBOL;return}for(v.tokenType=b.UNKNOWN;T(v)!=="";)v.token+=T(v),U(v);throw ne(v,'Syntax error in part "'+v.token+'"')}function re(v){do H(v);while(v.token===`
`)}function de(v){v.nestingLevel++}function ae(v){v.nestingLevel--}w.isAlpha=function(y,S,L){return w.isValidLatinOrGreek(y)||w.isValidMathSymbol(y,L)||w.isValidMathSymbol(S,y)},w.isValidLatinOrGreek=function(y){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(y)},w.isValidMathSymbol=function(y,S){return/^[\uD835]$/.test(y)&&/^[\uDC00-\uDFFF]$/.test(S)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(S)},w.isWhitespace=function(y,S){return y===" "||y==="	"||y===`
`&&S>0},w.isDecimalMark=function(y,S){return y==="."&&S!=="/"&&S!=="*"&&S!=="^"},w.isDigitDot=function(y){return y>="0"&&y<="9"||y==="."},w.isDigit=function(y){return y>="0"&&y<="9"},w.isHexDigit=function(y){return y>="0"&&y<="9"||y>="a"&&y<="f"||y>="A"&&y<="F"};function Ce(v,y){var S=I();Je(S,{expression:v,extraNodes:y}),H(S);var L=Lr(S);if(S.token!=="")throw S.tokenType===b.DELIMITER?we(S,"Unexpected operator "+S.token):ne(S,'Unexpected part "'+S.token+'"');return L}function Lr(v){var y,S=[],L;for(v.token!==""&&v.token!==`
`&&v.token!==";"&&(y=ge(v),v.comment&&(y.comment=v.comment));v.token===`
`||v.token===";";)S.length===0&&y&&(L=v.token!==";",S.push({node:y,visible:L})),H(v),v.token!==`
`&&v.token!==";"&&v.token!==""&&(y=ge(v),v.comment&&(y.comment=v.comment),L=v.token!==";",S.push({node:y,visible:L}));return S.length>0?new c(S):(y||(y=new p(void 0),v.comment&&(y.comment=v.comment)),y)}function ge(v){var y,S,L,J,G=ar(v);if(v.token==="="){if($e(G))return y=G.name,re(v),L=ge(v),new a(new E(y),L);if(or(G))return re(v),L=ge(v),new a(G.object,G.index,L);if(Qr(G)&&$e(G.fn)&&(J=!0,S=[],y=G.name,G.args.forEach(function(ye,Be){$e(ye)?S[Be]=ye.name:J=!1}),J))return re(v),L=ge(v),new s(y,S,L);throw ne(v,"Invalid left hand side of assignment operator =")}return G}function ar(v){for(var y=Er(v);v.token==="?";){var S=v.conditionalLevel;v.conditionalLevel=v.nestingLevel,re(v);var L=y,J=ge(v);if(v.token!==":")throw ne(v,"False part of conditional expression expected");v.conditionalLevel=null,re(v);var G=ge(v);y=new f(L,J,G),v.conditionalLevel=S}return y}function Er(v){for(var y=Ar(v);v.token==="or";)re(v),y=new g("or","or",[y,Ar(v)]);return y}function Ar(v){for(var y=Rt(v);v.token==="xor";)re(v),y=new g("xor","xor",[y,Rt(v)]);return y}function Rt(v){for(var y=jr(v);v.token==="and";)re(v),y=new g("and","and",[y,jr(v)]);return y}function jr(v){for(var y=zr(v);v.token==="|";)re(v),y=new g("|","bitOr",[y,zr(v)]);return y}function zr(v){for(var y=Qe(v);v.token==="^|";)re(v),y=new g("^|","bitXor",[y,Qe(v)]);return y}function Qe(v){for(var y=Fr(v);v.token==="&";)re(v),y=new g("&","bitAnd",[y,Fr(v)]);return y}function Fr(v){for(var y=[qt(v)],S=[],L={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};ie(L,v.token);){var J={name:v.token,fn:L[v.token]};S.push(J),re(v),y.push(qt(v))}return y.length===1?y[0]:y.length===2?new g(S[0].name,S[0].fn,y):new D(S.map(G=>G.fn),y)}function qt(v){var y,S,L,J;y=Ut(v);for(var G={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};ie(G,v.token);)S=v.token,L=G[S],re(v),J=[y,Ut(v)],y=new g(S,L,J);return y}function Ut(v){var y,S,L,J;y=Ht(v);for(var G={to:"to",in:"to"};ie(G,v.token);)S=v.token,L=G[S],re(v),S==="in"&&v.token===""?y=new g("*","multiply",[y,new E("in")],!0):(J=[y,Ht(v)],y=new g(S,L,J));return y}function Ht(v){var y,S=[];if(v.token===":"?y=new p(1):y=Rr(v),v.token===":"&&v.conditionalLevel!==v.nestingLevel){for(S.push(y);v.token===":"&&S.length<3;)re(v),v.token===")"||v.token==="]"||v.token===","||v.token===""?S.push(new E("end")):S.push(Rr(v));S.length===3?y=new d(S[0],S[2],S[1]):y=new d(S[0],S[1])}return y}function Rr(v){var y,S,L,J;y=qr(v);for(var G={"+":"add","-":"subtract"};ie(G,v.token);){S=v.token,L=G[S],re(v);var ye=qr(v);ye.isPercentage?J=[y,new g("*","multiply",[y,ye])]:J=[y,ye],y=new g(S,L,J)}return y}function qr(v){var y,S,L,J;y=Ur(v),S=y;for(var G={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};ie(G,v.token);)L=v.token,J=G[L],re(v),S=Ur(v),y=new g(L,J,[y,S]);return y}function Ur(v){var y,S;for(y=Hr(v),S=y;v.tokenType===b.SYMBOL||v.token==="in"&&qe(y)||v.tokenType===b.NUMBER&&!qe(S)&&(!Mr(S)||S.op==="!")||v.token==="(";)S=Hr(v),y=new g("*","multiply",[y,S],!0);return y}function Hr(v){for(var y=Wr(v),S=y,L=[];v.token==="/"&&Yt(S);)if(L.push(Je({},v)),re(v),v.tokenType===b.NUMBER)if(L.push(Je({},v)),re(v),v.tokenType===b.SYMBOL||v.token==="(")Je(v,L.pop()),L.pop(),S=Wr(v),y=new g("/","divide",[y,S]);else{L.pop(),Je(v,L.pop());break}else{Je(v,L.pop());break}return y}function Wr(v){var y,S,L,J;y=Cr(v);for(var G={"%":"mod",mod:"mod"};ie(G,v.token);)S=v.token,L=G[S],re(v),S==="%"&&v.tokenType===b.DELIMITER&&v.token!=="("?y=new g("/","divide",[y,new p(100)],!1,!0):(J=[y,Cr(v)],y=new g(S,L,J));return y}function Cr(v){var y,S,L,J={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return ie(J,v.token)?(L=J[v.token],y=v.token,re(v),S=[Cr(v)],new g(y,L,S)):Ln(v)}function Ln(v){var y,S,L,J;return y=jn(v),(v.token==="^"||v.token===".^")&&(S=v.token,L=S==="^"?"pow":"dotPow",re(v),J=[y,Cr(v)],y=new g(S,L,J)),y}function jn(v){var y,S,L,J;y=Wt(v);for(var G={"!":"factorial","'":"ctranspose"};ie(G,v.token);)S=v.token,L=G[S],H(v),J=[y],y=new g(S,L,J),y=N(v,y);return y}function Wt(v){var y=[];if(v.tokenType===b.SYMBOL&&ie(v.extraNodes,v.token)){var S=v.extraNodes[v.token];if(H(v),v.token==="("){if(y=[],de(v),H(v),v.token!==")")for(y.push(ge(v));v.token===",";)H(v),y.push(ge(v));if(v.token!==")")throw ne(v,"Parenthesis ) expected");ae(v),H(v)}return new S(y)}return F(v)}function F(v){var y,S;return v.tokenType===b.SYMBOL||v.tokenType===b.DELIMITER&&v.token in _?(S=v.token,H(v),ie(A,S)?y=new p(A[S]):x.indexOf(S)!==-1?y=new p(t(S,"number")):y=new E(S),y=N(v,y),y):M(v)}function N(v,y,S){for(var L;(v.token==="("||v.token==="["||v.token===".")&&!S;)if(L=[],v.token==="(")if($e(y)||or(y)){if(de(v),H(v),v.token!==")")for(L.push(ge(v));v.token===",";)H(v),L.push(ge(v));if(v.token!==")")throw ne(v,"Parenthesis ) expected");ae(v),H(v),y=new o(y,L)}else return y;else if(v.token==="["){if(de(v),H(v),v.token!=="]")for(L.push(ge(v));v.token===",";)H(v),L.push(ge(v));if(v.token!=="]")throw ne(v,"Parenthesis ] expected");ae(v),H(v),y=new i(y,new h(L))}else{if(H(v),v.tokenType!==b.SYMBOL)throw ne(v,"Property name expected after dot");L.push(new p(v.token)),H(v);var J=!0;y=new i(y,new h(L,J))}return y}function M(v){var y,S;return v.token==='"'?(S=$(v),y=new p(S),y=N(v,y),y):j(v)}function $(v){for(var y="";T(v)!==""&&T(v)!=='"';)T(v)==="\\"&&(y+=T(v),U(v)),y+=T(v),U(v);if(H(v),v.token!=='"')throw ne(v,'End of string " expected');return H(v),JSON.parse('"'+y+'"')}function j(v){var y,S;return v.token==="'"?(S=z(v),y=new p(S),y=N(v,y),y):q(v)}function z(v){for(var y="";T(v)!==""&&T(v)!=="'";)T(v)==="\\"&&(y+=T(v),U(v)),y+=T(v),U(v);if(H(v),v.token!=="'")throw ne(v,"End of string ' expected");return H(v),JSON.parse('"'+y+'"')}function q(v){var y,S,L,J;if(v.token==="["){if(de(v),H(v),v.token!=="]"){var G=P(v);if(v.token===";"){for(L=1,S=[G];v.token===";";)H(v),S[L]=P(v),L++;if(v.token!=="]")throw ne(v,"End of matrix ] expected");ae(v),H(v),J=S[0].items.length;for(var ye=1;ye<L;ye++)if(S[ye].items.length!==J)throw we(v,"Column dimensions mismatch ("+S[ye].items.length+" !== "+J+")");y=new n(S)}else{if(v.token!=="]")throw ne(v,"End of matrix ] expected");ae(v),H(v),y=G}}else ae(v),H(v),y=new n([]);return N(v,y)}return R(v)}function P(v){for(var y=[ge(v)],S=1;v.token===",";)H(v),y[S]=ge(v),S++;return new n(y)}function R(v){if(v.token==="{"){de(v);var y,S={};do if(H(v),v.token!=="}"){if(v.token==='"')y=$(v);else if(v.token==="'")y=z(v);else if(v.tokenType===b.SYMBOL||v.tokenType===b.DELIMITER&&v.token in _)y=v.token,H(v);else throw ne(v,"Symbol or string expected as object key");if(v.token!==":")throw ne(v,"Colon : expected after object key");H(v),S[y]=ge(v)}while(v.token===",");if(v.token!=="}")throw ne(v,"Comma , or bracket } expected after object value");ae(v),H(v);var L=new m(S);return L=N(v,L),L}return V(v)}function V(v){var y;return v.tokenType===b.NUMBER?(y=v.token,H(v),new p(t(y,u.number))):te(v)}function te(v){var y;if(v.token==="("){if(de(v),H(v),y=ge(v),v.token!==")")throw ne(v,"Parenthesis ) expected");return ae(v),H(v),y=new l(y),y=N(v,y),y}return W(v)}function W(v){throw v.token===""?ne(v,"Unexpected end of expression"):ne(v,"Value expected")}function Ee(v){return v.index-v.token.length+1}function ne(v,y){var S=Ee(v),L=new SyntaxError(y+" (char "+S+")");return L.char=S,L}function we(v,y){var S=Ee(v),L=new SyntaxError(y+" (char "+S+")");return L.char=S,L}return r.addConversion({from:"string",to:"Node",convert:w}),w}),iu="evaluate",cs=["typed","parse"],hs=Y(iu,cs,e=>{var{typed:r,parse:t}=e;return r(iu,{string:function(i){var n=at();return t(i).compile().evaluate(n)},"string, Map | Object":function(i,n){return t(i).compile().evaluate(n)},"Array | Matrix":function(i){var n=at();return ur(i,function(a){return t(a).compile().evaluate(n)})},"Array | Matrix, Map | Object":function(i,n){return ur(i,function(a){return t(a).compile().evaluate(n)})}})}),uu="size",ls=["typed","config","?matrix"],ps=Y(uu,ls,e=>{var{typed:r,config:t,matrix:u}=e;return r(uu,{Matrix:function(n){return n.create(n.size())},Array:fr,string:function(n){return t.matrix==="Array"?[n.length]:u([n.length])},"number | Complex | BigNumber | Unit | boolean | null":function(n){return t.matrix==="Array"?[]:u?u([]):Ai()}})});function vs(e,r,t){return dr(e.re,r.re,t)&&dr(e.im,r.im,t)}var Sn=Y("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(t=>(u,i)=>{if(!u.equalBase(i))throw new Error("Cannot compare units with different base");return r.find(t,[u.valueType(),i.valueType()])(u.value,i.value)})}}),Ot="equalScalar",ds=["typed","config"],ms=Y(Ot,ds,e=>{var{typed:r,config:t}=e,u=Sn({typed:r});return r(Ot,{"boolean, boolean":function(n,a){return n===a},"number, number":function(n,a){return dr(n,a,t.epsilon)},"BigNumber, BigNumber":function(n,a){return n.eq(a)||Cn(n,a,t.epsilon)},"Fraction, Fraction":function(n,a){return n.equals(a)},"Complex, Complex":function(n,a){return vs(n,a,t.epsilon)}},u)});Y(Ot,["typed","config"],e=>{var{typed:r,config:t}=e;return r(Ot,{"number, number":function(i,n){return dr(i,n,t.epsilon)}})});var gs="matAlgo03xDSf",Ds=["typed"],au=Y(gs,Ds,e=>{var{typed:r}=e;return function(u,i,n,a){var c=u._data,f=u._size,p=u._datatype,s=i._values,o=i._index,h=i._ptr,m=i._size,g=i._datatype;if(f.length!==m.length)throw new oe(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=f[0],d=f[1],D,E=0,w=n;typeof p=="string"&&p===g&&(D=p,E=r.convert(0,D),w=r.find(n,[D,D]));for(var C=[],b=0;b<l;b++)C[b]=[];for(var B=[],_=[],A=0;A<d;A++){for(var x=A+1,I=h[A],O=h[A+1],T=I;T<O;T++){var U=o[T];B[U]=a?w(s[T],c[U][A]):w(c[U][A],s[T]),_[U]=x}for(var ee=0;ee<l;ee++)_[ee]===x?C[ee][A]=B[ee]:C[ee][A]=a?w(E,c[ee][A]):w(c[ee][A],E)}return u.createDenseMatrix({data:C,size:[l,d],datatype:D})}}),ws="matAlgo13xDD",ys=["typed"],Es=Y(ws,ys,e=>{var{typed:r}=e;return function(i,n,a){var c=i._data,f=i._size,p=i._datatype,s=n._data,o=n._size,h=n._datatype,m=[];if(f.length!==o.length)throw new oe(f.length,o.length);for(var g=0;g<f.length;g++){if(f[g]!==o[g])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+o+")");m[g]=f[g]}var l,d=a;typeof p=="string"&&p===h&&(l=p,d=r.find(a,[l,l]));var D=m.length>0?t(d,0,m,m[0],c,s):[];return i.createDenseMatrix({data:D,size:m,datatype:l})};function t(u,i,n,a,c,f){var p=[];if(i===n.length-1)for(var s=0;s<a;s++)p[s]=u(c[s],f[s]);else for(var o=0;o<a;o++)p[o]=t(u,i+1,n,n[i+1],c[o],f[o]);return p}}),As="broadcast",Fs=["concat"],Cs=Y(As,Fs,e=>{var{concat:r}=e;return function(n,a){var c=Math.max(n._size.length,a._size.length);if(n._size.length===a._size.length&&n._size.every((d,D)=>d===a._size[D]))return[n,a];for(var f=t(n._size,c,0),p=t(a._size,c,0),s=[],o=0;o<c;o++)s[o]=Math.max(f[o],p[o]);for(var h=0;h<c;h++)i(f,s,h),i(p,s,h);var m=n.clone(),g=a.clone();m._size.length<c?m.reshape(t(m._size,c,1)):g._size.length<c&&g.reshape(t(g._size,c,1));for(var l=0;l<c;l++)m._size[l]<s[l]&&(m=u(m,s[l],l)),g._size[l]<s[l]&&(g=u(g,s[l],l));return[m,g]};function t(n,a,c){return[...Array(a-n.length).fill(c),...n]}function u(n,a,c){return r(...Array(a).fill(n),c)}function i(n,a,c){if(n[c]<a[c]&n[c]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(c," with size ").concat(n[c]," to size ").concat(a[c]))}}),Ns="matrixAlgorithmSuite",bs=["typed","matrix","concat"],ou=Y(Ns,bs,e=>{var{typed:r,matrix:t,concat:u}=e,i=Es({typed:r}),n=mo({typed:r}),a=Cs({concat:u});return function(f){var p=f.elop,s=f.SD||f.DS,o;p?(o={"DenseMatrix, DenseMatrix":(l,d)=>i(...a(l,d),p),"Array, Array":(l,d)=>i(...a(t(l),t(d)),p).valueOf(),"Array, DenseMatrix":(l,d)=>i(...a(t(l),d),p),"DenseMatrix, Array":(l,d)=>i(...a(l,t(d)),p)},f.SS&&(o["SparseMatrix, SparseMatrix"]=(l,d)=>f.SS(...a(l,d),p,!1)),f.DS&&(o["DenseMatrix, SparseMatrix"]=(l,d)=>f.DS(...a(l,d),p,!1),o["Array, SparseMatrix"]=(l,d)=>f.DS(...a(t(l),d),p,!1)),s&&(o["SparseMatrix, DenseMatrix"]=(l,d)=>s(...a(d,l),p,!0),o["SparseMatrix, Array"]=(l,d)=>s(...a(t(d),l),p,!0))):(o={"DenseMatrix, DenseMatrix":r.referToSelf(l=>(d,D)=>i(...a(d,D),l)),"Array, Array":r.referToSelf(l=>(d,D)=>i(...a(t(d),t(D)),l).valueOf()),"Array, DenseMatrix":r.referToSelf(l=>(d,D)=>i(...a(t(d),D),l)),"DenseMatrix, Array":r.referToSelf(l=>(d,D)=>i(...a(d,t(D)),l))},f.SS&&(o["SparseMatrix, SparseMatrix"]=r.referToSelf(l=>(d,D)=>f.SS(...a(d,D),l,!1))),f.DS&&(o["DenseMatrix, SparseMatrix"]=r.referToSelf(l=>(d,D)=>f.DS(...a(d,D),l,!1)),o["Array, SparseMatrix"]=r.referToSelf(l=>(d,D)=>f.DS(...a(t(d),D),l,!1))),s&&(o["SparseMatrix, DenseMatrix"]=r.referToSelf(l=>(d,D)=>s(...a(D,d),l,!0)),o["SparseMatrix, Array"]=r.referToSelf(l=>(d,D)=>s(...a(t(D),d),l,!0))));var h=f.scalar||"any",m=f.Ds||f.Ss;m&&(p?(o["DenseMatrix,"+h]=(l,d)=>n(l,d,p,!1),o[h+", DenseMatrix"]=(l,d)=>n(d,l,p,!0),o["Array,"+h]=(l,d)=>n(t(l),d,p,!1).valueOf(),o[h+", Array"]=(l,d)=>n(t(d),l,p,!0).valueOf()):(o["DenseMatrix,"+h]=r.referToSelf(l=>(d,D)=>n(d,D,l,!1)),o[h+", DenseMatrix"]=r.referToSelf(l=>(d,D)=>n(D,d,l,!0)),o["Array,"+h]=r.referToSelf(l=>(d,D)=>n(t(d),D,l,!1).valueOf()),o[h+", Array"]=r.referToSelf(l=>(d,D)=>n(t(D),d,l,!0).valueOf())));var g=f.sS!==void 0?f.sS:f.Ss;return p?(f.Ss&&(o["SparseMatrix,"+h]=(l,d)=>f.Ss(l,d,p,!1)),g&&(o[h+", SparseMatrix"]=(l,d)=>g(d,l,p,!0))):(f.Ss&&(o["SparseMatrix,"+h]=r.referToSelf(l=>(d,D)=>f.Ss(d,D,l,!1))),g&&(o[h+", SparseMatrix"]=r.referToSelf(l=>(d,D)=>g(D,d,l,!0)))),p&&p.signatures&&Mu(o,p.signatures),o}}),xs="matAlgo07xSSf",Ss=["typed","DenseMatrix"],su=Y(xs,Ss,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,a,c){var f=n._size,p=n._datatype,s=a._size,o=a._datatype;if(f.length!==s.length)throw new oe(f.length,s.length);if(f[0]!==s[0]||f[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+s+")");var h=f[0],m=f[1],g,l=0,d=c;typeof p=="string"&&p===o&&(g=p,l=r.convert(0,g),d=r.find(c,[g,g]));var D,E,w=[];for(D=0;D<h;D++)w[D]=[];var C=[],b=[],B=[],_=[];for(E=0;E<m;E++){var A=E+1;for(u(n,E,B,C,A),u(a,E,_,b,A),D=0;D<h;D++){var x=B[D]===A?C[D]:l,I=_[D]===A?b[D]:l;w[D][E]=d(x,I)}}return new t({data:w,size:[h,m],datatype:g})};function u(i,n,a,c,f){for(var p=i._values,s=i._index,o=i._ptr,h=o[n],m=o[n+1];h<m;h++){var g=s[h];a[g]=f,c[g]=p[h]}}}),$t="smaller",Bs=["typed","config","matrix","DenseMatrix","concat"],Ms=Y($t,Bs,e=>{var{typed:r,config:t,matrix:u,DenseMatrix:i,concat:n}=e,a=au({typed:r}),c=su({typed:r,DenseMatrix:i}),f=Vi({typed:r,DenseMatrix:i}),p=ou({typed:r,matrix:u,concat:n}),s=Sn({typed:r});return r($t,_s({typed:r,config:t}),{"boolean, boolean":(o,h)=>o<h,"BigNumber, BigNumber":function(h,m){return h.lt(m)&&!Cn(h,m,t.epsilon)},"Fraction, Fraction":(o,h)=>o.compare(h)===-1,"Complex, Complex":function(h,m){throw new TypeError("No ordering relation is defined for complex numbers")}},s,p({SS:c,DS:a,Ss:f}))}),_s=Y($t,["typed","config"],e=>{var{typed:r,config:t}=e;return r($t,{"number, number":function(i,n){return i<n&&!dr(i,n,t.epsilon)}})}),It="larger",Ts=["typed","config","matrix","DenseMatrix","concat"],Os=Y(It,Ts,e=>{var{typed:r,config:t,matrix:u,DenseMatrix:i,concat:n}=e,a=au({typed:r}),c=su({typed:r,DenseMatrix:i}),f=Vi({typed:r,DenseMatrix:i}),p=ou({typed:r,matrix:u,concat:n}),s=Sn({typed:r});return r(It,$s({typed:r,config:t}),{"boolean, boolean":(o,h)=>o>h,"BigNumber, BigNumber":function(h,m){return h.gt(m)&&!Cn(h,m,t.epsilon)},"Fraction, Fraction":(o,h)=>o.compare(h)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,p({SS:c,DS:a,Ss:f}))}),$s=Y(It,["typed","config"],e=>{var{typed:r,config:t}=e;return r(It,{"number, number":function(i,n){return i>n&&!dr(i,n,t.epsilon)}})});function Pt(e,r,t){var u;return String(e).indexOf("Unexpected type")!==-1?(u=arguments.length>2?" (type: "+Le(t)+", value: "+JSON.stringify(t)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+u)):String(e).indexOf("complex numbers")!==-1?(u=arguments.length>2?" (type: "+Le(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+u)):e}var fu="max",Is=["typed","config","numeric","larger"],Ps=Y(fu,Is,e=>{var{typed:r,config:t,numeric:u,larger:i}=e;return r(fu,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(f,p){return Zi(f,p.valueOf(),n)},"...":function(f){if(Ji(f))throw new TypeError("Scalar values expected in function max");return a(f)}});function n(c,f){try{return i(c,f)?c:f}catch(p){throw Pt(p,"max",f)}}function a(c){var f;if(Fn(c,function(p){try{isNaN(p)&&typeof p=="number"?f=NaN:(f===void 0||i(p,f))&&(f=p)}catch(s){throw Pt(s,"max",p)}}),f===void 0)throw new Error("Cannot calculate max of an empty array");return typeof f=="string"&&(f=u(f,t.number)),f}}),cu="min",ks=["typed","config","numeric","smaller"],Ls=Y(cu,ks,e=>{var{typed:r,config:t,numeric:u,smaller:i}=e;return r(cu,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(f,p){return Zi(f,p.valueOf(),n)},"...":function(f){if(Ji(f))throw new TypeError("Scalar values expected in function min");return a(f)}});function n(c,f){try{return i(c,f)?c:f}catch(p){throw Pt(p,"min",f)}}function a(c){var f;if(Fn(c,function(p){try{isNaN(p)&&typeof p=="number"?f=NaN:(f===void 0||i(p,f))&&(f=p)}catch(s){throw Pt(s,"min",p)}}),f===void 0)throw new Error("Cannot calculate min of an empty array");return typeof f=="string"&&(f=u(f,t.number)),f}}),js="numeric",zs=["number","?bignumber","?fraction"],hu=Y(js,zs,e=>{var{number:r,bignumber:t,fraction:u}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},n={number:a=>r(a),BigNumber:t?a=>t(a):ra,Fraction:u?a=>u(a):ta};return function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",p=arguments.length>2?arguments[2]:void 0;if(p!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=Le(c);if(!(s in i))throw new TypeError("Cannot convert "+c+' of type "'+s+'"; valid input types are '+Object.keys(i).join(", "));if(!(f in n))throw new TypeError("Cannot convert "+c+' to type "'+f+'"; valid output types are '+Object.keys(n).join(", "));return f===s?c:n[f](c)}}),Rs=Y("matrix",[],()=>Ai),qs=Y("subset",[],()=>na);Bn("combinations",si),Bn("gamma",nn),Bn("lgamma",an);function Bn(e,r){return Y(e,["typed"],t=>{var{typed:u}=t;return u(r)})}function cr(e,r,t,u){if(!(this instanceof cr))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=r,this.min=t,this.max=u,this.message="Wrong number of arguments in function "+e+" ("+r+" provided, "+t+(u!=null?"-"+u:"")+" expected)",this.stack=new Error().stack}cr.prototype=new Error,cr.prototype.constructor=Error,cr.prototype.name="ArgumentsError",cr.prototype.isArgumentsError=!0;var kr={createTyped:_i},_e={createNode:Fo},lu={createSubset:qs},Us={NodeDependencies:_e,subsetDependencies:lu,createAccessorNode:No},Hs={NodeDependencies:_e,createArrayNode:xo},pu={createMatrix:Rs},Ws={matrixDependencies:pu,NodeDependencies:_e,subsetDependencies:lu,createAssignmentNode:Mo},Js={typedDependencies:kr,createNumber:Xi},Zs={createResultSet:va},Vs={NodeDependencies:_e,ResultSetDependencies:Zs,createBlockNode:To},Ys={NodeDependencies:_e,createConditionalNode:$o},Xs={NodeDependencies:_e,createConstantNode:qo},Gs={NodeDependencies:_e,typedDependencies:kr,createFunctionAssignmentNode:Ho},vu={NodeDependencies:_e,createSymbolNode:us},Ks={NodeDependencies:_e,SymbolNodeDependencies:vu,createFunctionNode:os},Qs={matrixDependencies:pu,typedDependencies:kr,createSize:ps},ef={NodeDependencies:_e,sizeDependencies:Qs,createIndexNode:Jo},rf={NodeDependencies:_e,createObjectNode:Vo},tf={NodeDependencies:_e,createOperatorNode:Xo},nf={NodeDependencies:_e,createParenthesisNode:Ko},uf={NodeDependencies:_e,createRangeNode:es},af={NodeDependencies:_e,createRelationalNode:ts},of={numberDependencies:Js,createNumeric:hu},sf={AccessorNodeDependencies:Us,ArrayNodeDependencies:Hs,AssignmentNodeDependencies:Ws,BlockNodeDependencies:Vs,ConditionalNodeDependencies:Ys,ConstantNodeDependencies:Xs,FunctionAssignmentNodeDependencies:Gs,FunctionNodeDependencies:Ks,IndexNodeDependencies:ef,ObjectNodeDependencies:rf,OperatorNodeDependencies:tf,ParenthesisNodeDependencies:nf,RangeNodeDependencies:uf,RelationalNodeDependencies:af,SymbolNodeDependencies:vu,numericDependencies:of,typedDependencies:kr,createParse:fs},ff={parseDependencies:sf,typedDependencies:kr,createEvaluate:hs},Mn={exports:{}};function _n(){}_n.prototype={on:function(e,r,t){var u=this.e||(this.e={});return(u[e]||(u[e]=[])).push({fn:r,ctx:t}),this},once:function(e,r,t){var u=this;function i(){u.off(e,i),r.apply(t,arguments)}return i._=r,this.on(e,i,t)},emit:function(e){var r=[].slice.call(arguments,1),t=((this.e||(this.e={}))[e]||[]).slice(),u=0,i=t.length;for(u;u<i;u++)t[u].fn.apply(t[u].ctx,r);return this},off:function(e,r){var t=this.e||(this.e={}),u=t[e],i=[];if(u&&r)for(var n=0,a=u.length;n<a;n++)u[n].fn!==r&&u[n].fn._!==r&&i.push(u[n]);return i.length?t[e]=i:delete t[e],this}},Mn.exports=_n,Mn.exports.TinyEmitter=_n;var cf=Mn.exports,hf=At(cf);function lf(e){var r=new hf;return e.on=r.on.bind(r),e.off=r.off.bind(r),e.once=r.once.bind(r),e.emit=r.emit.bind(r),e}function pf(e,r,t,u){function i(d,D){var E=arguments.length;if(E!==1&&E!==2)throw new cr("import",E,1,2);D||(D={});function w(_,A,x){if(Array.isArray(A))A.forEach(T=>w(_,T));else if(typeof A=="object")for(var I in A)ie(A,I)&&w(_,A[I],I);else if(Or(A)||x!==void 0){var O=Or(A)?g(A)?A.fn+".transform":A.fn:x;if(ie(_,O)&&_[O]!==A&&!D.silent)throw new Error('Cannot import "'+O+'" twice');_[O]=A}else if(!D.silent)throw new TypeError("Factory, Object, or Array expected")}var C={};w(C,d);for(var b in C)if(ie(C,b)){var B=C[b];if(Or(B))p(B,D);else if(s(B))n(b,B,D);else if(!D.silent)throw new TypeError("Factory, Object, or Array expected")}}function n(d,D,E){if(E.wrap&&typeof D=="function"&&(D=f(D)),o(D)&&(D=e(d,{[D.signature]:D})),e.isTypedFunction(t[d])&&e.isTypedFunction(D)){E.override?D=e(d,D.signatures):D=e(t[d],D),t[d]=D,delete u[d],a(d,D),t.emit("import",d,function(){return D});return}if(t[d]===void 0||E.override){t[d]=D,delete u[d],a(d,D),t.emit("import",d,function(){return D});return}if(!E.silent)throw new Error('Cannot import "'+d+'": already exists')}function a(d,D){D&&typeof D.transform=="function"?(t.expression.transform[d]=D.transform,h(d)&&(t.expression.mathWithTransform[d]=D.transform)):(delete t.expression.transform[d],h(d)&&(t.expression.mathWithTransform[d]=D))}function c(d){delete t.expression.transform[d],h(d)?t.expression.mathWithTransform[d]=t[d]:delete t.expression.mathWithTransform[d]}function f(d){var D=function(){for(var w=[],C=0,b=arguments.length;C<b;C++){var B=arguments[C];w[C]=B&&B.valueOf()}return d.apply(t,w)};return d.transform&&(D.transform=d.transform),D}function p(d,D){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.fn;if(yi(E,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(E));var w=g(d)?t.expression.transform:t,C=E in t.expression.transform,b=ie(w,E)?w[E]:void 0,B=function(){var A={};d.dependencies.map(Ei).forEach(I=>{if(yi(I,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(I));I==="math"?A.math=t:I==="mathWithTransform"?A.mathWithTransform=t.expression.mathWithTransform:I==="classes"?A.classes=t:A[I]=t[I]});var x=d(A);if(x&&typeof x.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(b===void 0||D.override)return x;if(e.isTypedFunction(b)&&e.isTypedFunction(x))return e(b,x);if(D.silent)return b;throw new Error('Cannot import "'+E+'": already exists')};!d.meta||d.meta.lazy!==!1?(Kt(w,E,B),b&&C?c(E):(g(d)||m(d))&&Kt(t.expression.mathWithTransform,E,()=>w[E])):(w[E]=B(),b&&C?c(E):(g(d)||m(d))&&Kt(t.expression.mathWithTransform,E,()=>w[E])),u[E]=d,t.emit("import",E,B)}function s(d){return typeof d=="function"||typeof d=="number"||typeof d=="string"||typeof d=="boolean"||d===null||xr(d)||br(d)||Me(d)||Xr(d)||Te(d)||Array.isArray(d)}function o(d){return typeof d=="function"&&typeof d.signature=="string"}function h(d){return!ie(l,d)}function m(d){return d.fn.indexOf(".")===-1&&!ie(l,d.fn)&&(!d.meta||!d.meta.isClass)}function g(d){return d!==void 0&&d.meta!==void 0&&d.meta.isTransformFunction===!0||!1}var l={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return i}function du(e,r){var t=Je({},Yr,r);if(typeof Object.create!="function")throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var u=lf({isNumber:he,isComplex:br,isBigNumber:Me,isFraction:Xr,isUnit:xr,isString:ke,isArray:ce,isMatrix:Te,isCollection:lr,isDenseMatrix:zn,isSparseMatrix:Rn,isRange:qn,isIndex:Gr,isBoolean:Un,isResultSet:Hn,isHelp:Wn,isFunction:Jn,isDate:Zn,isRegExp:Vn,isObject:Kr,isNull:Yn,isUndefined:Xn,isAccessorNode:or,isArrayNode:Sr,isAssignmentNode:Gn,isBlockNode:Kn,isConditionalNode:Qn,isConstantNode:qe,isFunctionAssignmentNode:Xt,isFunctionNode:Qr,isIndexNode:Br,isNode:le,isObjectNode:Gt,isOperatorNode:Mr,isParenthesisNode:pr,isRangeNode:ei,isRelationalNode:ri,isSymbolNode:$e,isChain:ti});u.config=$u(t,u.emit),u.expression={transform:{},mathWithTransform:{config:u.config}};var i=[],n=[];function a(s){if(Or(s))return s(u);var o=s[Object.keys(s)[0]];if(Or(o))return o(u);if(!Tu(s))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",s),new Error("Factory object with properties `type`, `name`, and `factory` expected");var h=i.indexOf(s),m;return h===-1?(s.math===!0?m=s.factory(u.type,t,a,u.typed,u):m=s.factory(u.type,t,a,u.typed),i.push(s),n.push(m)):m=n[h],m}var c={};function f(){for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return u.typed.apply(u.typed,o)}f.isTypedFunction=cn.isTypedFunction;var p=pf(f,a,u,c);return u.import=p,u.on("config",()=>{ui(c).forEach(s=>{s&&s.meta&&s.meta.recreateOnConfigChange&&p(s,{override:!0})})}),u.create=du.bind(null,e),u.factory=Y,u.import(ui(_u(e))),u.ArgumentsError=cr,u.DimensionError=oe,u.IndexError=Ze,u}var vf="BigNumber",df=["?on","config"],mf=Y(vf,df,e=>{var{on:r,config:t}=e,u=yr.clone({precision:t.precision,modulo:yr.EUCLID});return u.prototype=Object.create(u.prototype),u.prototype.type="BigNumber",u.prototype.isBigNumber=!0,u.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},u.fromJSON=function(i){return new u(i.value)},r&&r("config",function(i,n){i.precision!==n.precision&&u.config({precision:i.precision})}),u},{isClass:!0}),mu={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,r){(function(t){var u=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},i=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},n=function(o){var h=Math.PI/4;if(-h>o||o>h)return Math.cos(o)-1;var m=o*o;return m*(m*(m*(m*(m*(m*(m*(m/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},a=function(o,h){var m=Math.abs(o),g=Math.abs(h);return m<3e3&&g<3e3?Math.sqrt(m*m+g*g):(m<g?(m=g,g=o/h):g=h/o,m*Math.sqrt(1+g*g))},c=function(){throw SyntaxError("Invalid Param")};function f(o,h){var m=Math.abs(o),g=Math.abs(h);return o===0?Math.log(g):h===0?Math.log(m):m<3e3&&g<3e3?Math.log(o*o+h*h)*.5:(o=o/2,h=h/2,.5*Math.log(o*o+h*h)+Math.LN2)}var p=function(o,h){var m={re:0,im:0};if(o==null)m.re=m.im=0;else if(h!==void 0)m.re=o,m.im=h;else switch(typeof o){case"object":if("im"in o&&"re"in o)m.re=o.re,m.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;m.re=o.abs*Math.cos(o.arg),m.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;m.re=o.r*Math.cos(o.phi),m.im=o.r*Math.sin(o.phi)}else o.length===2?(m.re=o[0],m.im=o[1]):c();break;case"string":m.im=m.re=0;var g=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),l=1,d=0;g===null&&c();for(var D=0;D<g.length;D++){var E=g[D];E===" "||E==="	"||E===`
`||(E==="+"?l++:E==="-"?d++:E==="i"||E==="I"?(l+d===0&&c(),g[D+1]!==" "&&!isNaN(g[D+1])?(m.im+=parseFloat((d%2?"-":"")+g[D+1]),D++):m.im+=parseFloat((d%2?"-":"")+"1"),l=d=0):((l+d===0||isNaN(E))&&c(),g[D+1]==="i"||g[D+1]==="I"?(m.im+=parseFloat((d%2?"-":"")+E),D++):m.re+=parseFloat((d%2?"-":"")+E),l=d=0))}l+d>0&&c();break;case"number":m.im=0,m.re=o;break;default:c()}return isNaN(m.re)||isNaN(m.im),m};function s(o,h){if(!(this instanceof s))return new s(o,h);var m=p(o,h);this.re=m.re,this.im=m.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,h){var m=new s(o,h);return this.isInfinite()&&m.isInfinite()?s.NAN:this.isInfinite()||m.isInfinite()?s.INFINITY:new s(this.re+m.re,this.im+m.im)},sub:function(o,h){var m=new s(o,h);return this.isInfinite()&&m.isInfinite()?s.NAN:this.isInfinite()||m.isInfinite()?s.INFINITY:new s(this.re-m.re,this.im-m.im)},mul:function(o,h){var m=new s(o,h);return this.isInfinite()&&m.isZero()||this.isZero()&&m.isInfinite()?s.NAN:this.isInfinite()||m.isInfinite()?s.INFINITY:m.im===0&&this.im===0?new s(this.re*m.re,0):new s(this.re*m.re-this.im*m.im,this.re*m.im+this.im*m.re)},div:function(o,h){var m=new s(o,h);if(this.isZero()&&m.isZero()||this.isInfinite()&&m.isInfinite())return s.NAN;if(this.isInfinite()||m.isZero())return s.INFINITY;if(this.isZero()||m.isInfinite())return s.ZERO;o=this.re,h=this.im;var g=m.re,l=m.im,d,D;return l===0?new s(o/g,h/g):Math.abs(g)<Math.abs(l)?(D=g/l,d=g*D+l,new s((o*D+h)/d,(h*D-o)/d)):(D=l/g,d=l*D+g,new s((o+h*D)/d,(h-o*D)/d))},pow:function(o,h){var m=new s(o,h);if(o=this.re,h=this.im,m.isZero())return s.ONE;if(m.im===0){if(h===0&&o>0)return new s(Math.pow(o,m.re),0);if(o===0)switch((m.re%4+4)%4){case 0:return new s(Math.pow(h,m.re),0);case 1:return new s(0,Math.pow(h,m.re));case 2:return new s(-Math.pow(h,m.re),0);case 3:return new s(0,-Math.pow(h,m.re))}}if(o===0&&h===0&&m.re>0&&m.im>=0)return s.ZERO;var g=Math.atan2(h,o),l=f(o,h);return o=Math.exp(m.re*l-m.im*g),h=m.im*l+m.re*g,new s(o*Math.cos(h),o*Math.sin(h))},sqrt:function(){var o=this.re,h=this.im,m=this.abs(),g,l;if(o>=0){if(h===0)return new s(Math.sqrt(o),0);g=.5*Math.sqrt(2*(m+o))}else g=Math.abs(h)/Math.sqrt(2*(m-o));return o<=0?l=.5*Math.sqrt(2*(m-o)):l=Math.abs(h)/Math.sqrt(2*(m+o)),new s(g,h<0?-l:l)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,h=this.im;return new s(Math.expm1(o)*Math.cos(h)+n(h),Math.exp(o)*Math.sin(h))},log:function(){var o=this.re,h=this.im;return new s(f(o,h),Math.atan2(h,o))},abs:function(){return a(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,h=this.im;return new s(Math.sin(o)*u(h),Math.cos(o)*i(h))},cos:function(){var o=this.re,h=this.im;return new s(Math.cos(o)*u(h),-Math.sin(o)*i(h))},tan:function(){var o=2*this.re,h=2*this.im,m=Math.cos(o)+u(h);return new s(Math.sin(o)/m,i(h)/m)},cot:function(){var o=2*this.re,h=2*this.im,m=Math.cos(o)-u(h);return new s(-Math.sin(o)/m,i(h)/m)},sec:function(){var o=this.re,h=this.im,m=.5*u(2*h)+.5*Math.cos(2*o);return new s(Math.cos(o)*u(h)/m,Math.sin(o)*i(h)/m)},csc:function(){var o=this.re,h=this.im,m=.5*u(2*h)-.5*Math.cos(2*o);return new s(Math.sin(o)*u(h)/m,-Math.cos(o)*i(h)/m)},asin:function(){var o=this.re,h=this.im,m=new s(h*h-o*o+1,-2*o*h).sqrt(),g=new s(m.re-h,m.im+o).log();return new s(g.im,-g.re)},acos:function(){var o=this.re,h=this.im,m=new s(h*h-o*o+1,-2*o*h).sqrt(),g=new s(m.re-h,m.im+o).log();return new s(Math.PI/2-g.im,g.re)},atan:function(){var o=this.re,h=this.im;if(o===0){if(h===1)return new s(0,1/0);if(h===-1)return new s(0,-1/0)}var m=o*o+(1-h)*(1-h),g=new s((1-h*h-o*o)/m,-2*o/m).log();return new s(-.5*g.im,.5*g.re)},acot:function(){var o=this.re,h=this.im;if(h===0)return new s(Math.atan2(1,o),0);var m=o*o+h*h;return m!==0?new s(o/m,-h/m).atan():new s(o!==0?o/0:0,h!==0?-h/0:0).atan()},asec:function(){var o=this.re,h=this.im;if(o===0&&h===0)return new s(0,1/0);var m=o*o+h*h;return m!==0?new s(o/m,-h/m).acos():new s(o!==0?o/0:0,h!==0?-h/0:0).acos()},acsc:function(){var o=this.re,h=this.im;if(o===0&&h===0)return new s(Math.PI/2,1/0);var m=o*o+h*h;return m!==0?new s(o/m,-h/m).asin():new s(o!==0?o/0:0,h!==0?-h/0:0).asin()},sinh:function(){var o=this.re,h=this.im;return new s(i(o)*Math.cos(h),u(o)*Math.sin(h))},cosh:function(){var o=this.re,h=this.im;return new s(u(o)*Math.cos(h),i(o)*Math.sin(h))},tanh:function(){var o=2*this.re,h=2*this.im,m=u(o)+Math.cos(h);return new s(i(o)/m,Math.sin(h)/m)},coth:function(){var o=2*this.re,h=2*this.im,m=u(o)-Math.cos(h);return new s(i(o)/m,-Math.sin(h)/m)},csch:function(){var o=this.re,h=this.im,m=Math.cos(2*h)-u(2*o);return new s(-2*i(o)*Math.cos(h)/m,2*u(o)*Math.sin(h)/m)},sech:function(){var o=this.re,h=this.im,m=Math.cos(2*h)+u(2*o);return new s(2*u(o)*Math.cos(h)/m,-2*i(o)*Math.sin(h)/m)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var h=this.asin();return this.re=-this.im,this.im=o,o=h.re,h.re=-h.im,h.im=o,h},acosh:function(){var o=this.acos();if(o.im<=0){var h=o.re;o.re=-o.im,o.im=h}else{var h=o.im;o.im=-o.re,o.re=h}return o},atanh:function(){var o=this.re,h=this.im,m=o>1&&h===0,g=1-o,l=1+o,d=g*g+h*h,D=d!==0?new s((l*g-h*h)/d,(h*g+l*h)/d):new s(o!==-1?o/0:0,h!==0?h/0:0),E=D.re;return D.re=f(D.re,D.im)/2,D.im=Math.atan2(D.im,E)/2,m&&(D.im=-D.im),D},acoth:function(){var o=this.re,h=this.im;if(o===0&&h===0)return new s(0,Math.PI/2);var m=o*o+h*h;return m!==0?new s(o/m,-h/m).atanh():new s(o!==0?o/0:0,h!==0?-h/0:0).atanh()},acsch:function(){var o=this.re,h=this.im;if(h===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var m=o*o+h*h;return m!==0?new s(o/m,-h/m).asinh():new s(o!==0?o/0:0,h!==0?-h/0:0).asinh()},asech:function(){var o=this.re,h=this.im;if(this.isZero())return s.INFINITY;var m=o*o+h*h;return m!==0?new s(o/m,-h/m).acosh():new s(o!==0?o/0:0,h!==0?-h/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,h=this.im,m=o*o+h*h;return new s(o/m,-h/m)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,h){var m=new s(o,h);return Math.abs(m.re-this.re)<=s.EPSILON&&Math.abs(m.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,h=this.im,m="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(h)<s.EPSILON&&(h=0),h===0?m+o:(o!==0?(m+=o,m+=" ",h<0?(h=-h,m+="-"):m+="+",m+=" "):h<0&&(h=-h,m+="-"),h!==1&&(m+=h),m+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,e.exports=s})()})(mu);var gf=mu.exports,Fe=At(gf),Df="Complex",wf=[],yf=Y(Df,wf,()=>(Object.defineProperty(Fe,"name",{value:"Complex"}),Fe.prototype.constructor=Fe,Fe.prototype.type="Complex",Fe.prototype.isComplex=!0,Fe.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Fe.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Fe.prototype.format=function(e){var r="",t=this.im,u=this.re,i=tn(this.re,e),n=tn(this.im,e),a=he(e)?e:e?e.precision:null;if(a!==null){var c=Math.pow(10,-a);Math.abs(u/t)<c&&(u=0),Math.abs(t/u)<c&&(t=0)}return t===0?r=i:u===0?t===1?r="i":t===-1?r="-i":r=n+"i":t<0?t===-1?r=i+" - i":r=i+" - "+n.substring(1)+"i":t===1?r=i+" + i":r=i+" + "+n+"i",r},Fe.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return Fe(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],u=arguments[1];if(he(t)){if(xr(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),he(u))return new Fe({r:t,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Fe.prototype.valueOf=Fe.prototype.toString,Fe.fromJSON=function(e){return new Fe(e)},Fe.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},Fe),{isClass:!0}),gu={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,r){(function(t){var u=2e3,i={s:1,n:0,d:1};function n(g,l){if(isNaN(g=parseInt(g,10)))throw m.InvalidParameter;return g*l}function a(g,l){if(l===0)throw m.DivisionByZero;var d=Object.create(m.prototype);d.s=g<0?-1:1,g=g<0?-g:g;var D=h(g,l);return d.n=g/D,d.d=l/D,d}function c(g){for(var l={},d=g,D=2,E=4;E<=d;){for(;d%D===0;)d/=D,l[D]=(l[D]||0)+1;E+=1+2*D++}return d!==g?d>1&&(l[d]=(l[d]||0)+1):l[g]=(l[g]||0)+1,l}var f=function(g,l){var d=0,D=1,E=1,w=0,C=0,b=0,B=1,_=1,A=0,x=1,I=1,O=1,T=1e7,U;if(g!=null)if(l!==void 0){if(d=g,D=l,E=d*D,d%1!==0||D%1!==0)throw m.NonIntegerParameter}else switch(typeof g){case"object":{if("d"in g&&"n"in g)d=g.n,D=g.d,"s"in g&&(d*=g.s);else if(0 in g)d=g[0],1 in g&&(D=g[1]);else throw m.InvalidParameter;E=d*D;break}case"number":{if(g<0&&(E=g,g=-g),g%1===0)d=g;else if(g>0){for(g>=1&&(_=Math.pow(10,Math.floor(1+Math.log(g)/Math.LN10)),g/=_);x<=T&&O<=T;)if(U=(A+I)/(x+O),g===U){x+O<=T?(d=A+I,D=x+O):O>x?(d=I,D=O):(d=A,D=x);break}else g>U?(A+=I,x+=O):(I+=A,O+=x),x>T?(d=I,D=O):(d=A,D=x);d*=_}else(isNaN(g)||isNaN(l))&&(D=d=NaN);break}case"string":{if(x=g.match(/\d+|./g),x===null)throw m.InvalidParameter;if(x[A]==="-"?(E=-1,A++):x[A]==="+"&&A++,x.length===A+1?C=n(x[A++],E):x[A+1]==="."||x[A]==="."?(x[A]!=="."&&(w=n(x[A++],E)),A++,(A+1===x.length||x[A+1]==="("&&x[A+3]===")"||x[A+1]==="'"&&x[A+3]==="'")&&(C=n(x[A],E),B=Math.pow(10,x[A].length),A++),(x[A]==="("&&x[A+2]===")"||x[A]==="'"&&x[A+2]==="'")&&(b=n(x[A+1],E),_=Math.pow(10,x[A+1].length)-1,A+=3)):x[A+1]==="/"||x[A+1]===":"?(C=n(x[A],E),B=n(x[A+2],1),A+=3):x[A+3]==="/"&&x[A+1]===" "&&(w=n(x[A],E),C=n(x[A+2],E),B=n(x[A+4],1),A+=5),x.length<=A){D=B*_,E=d=b+D*w+_*C;break}}default:throw m.InvalidParameter}if(D===0)throw m.DivisionByZero;i.s=E<0?-1:1,i.n=Math.abs(d),i.d=Math.abs(D)};function p(g,l,d){for(var D=1;l>0;g=g*g%d,l>>=1)l&1&&(D=D*g%d);return D}function s(g,l){for(;l%2===0;l/=2);for(;l%5===0;l/=5);if(l===1)return 0;for(var d=10%l,D=1;d!==1;D++)if(d=d*10%l,D>u)return 0;return D}function o(g,l,d){for(var D=1,E=p(10,d,l),w=0;w<300;w++){if(D===E)return w;D=D*10%l,E=E*10%l}return 0}function h(g,l){if(!g)return l;if(!l)return g;for(;;){if(g%=l,!g)return l;if(l%=g,!l)return g}}function m(g,l){if(f(g,l),this instanceof m)g=h(i.d,i.n),this.s=i.s,this.n=i.n/g,this.d=i.d/g;else return a(i.s*i.n,i.d)}m.DivisionByZero=new Error("Division by Zero"),m.InvalidParameter=new Error("Invalid argument"),m.NonIntegerParameter=new Error("Parameters must be integer"),m.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(g,l){return f(g,l),a(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(g,l){return f(g,l),a(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(g,l){return f(g,l),a(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(g,l){return f(g,l),a(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(g,l){if(isNaN(this.n)||isNaN(this.d))return new m(NaN);if(g===void 0)return a(this.s*this.n%this.d,1);if(f(g,l),i.n===0&&this.d===0)throw m.DivisionByZero;return a(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(g,l){return f(g,l),a(h(i.n,this.n)*h(i.d,this.d),i.d*this.d)},lcm:function(g,l){return f(g,l),i.n===0&&this.n===0?a(0,1):a(i.n*this.n,h(i.n,this.n)*h(i.d,this.d))},ceil:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):a(Math.ceil(g*this.s*this.n/this.d),g)},floor:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):a(Math.floor(g*this.s*this.n/this.d),g)},round:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):a(Math.round(g*this.s*this.n/this.d),g)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(g,l){if(f(g,l),i.d===1)return i.s<0?a(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):a(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var d=c(this.n),D=c(this.d),E=1,w=1;for(var C in d)if(C!=="1"){if(C==="0"){E=0;break}if(d[C]*=i.n,d[C]%i.d===0)d[C]/=i.d;else return null;E*=Math.pow(C,d[C])}for(var C in D)if(C!=="1"){if(D[C]*=i.n,D[C]%i.d===0)D[C]/=i.d;else return null;w*=Math.pow(C,D[C])}return i.s<0?a(w,E):a(E,w)},equals:function(g,l){return f(g,l),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(g,l){f(g,l);var d=this.s*this.n*i.d-i.s*i.n*this.d;return(0<d)-(d<0)},simplify:function(g){if(isNaN(this.n)||isNaN(this.d))return this;g=g||.001;for(var l=this.abs(),d=l.toContinued(),D=1;D<d.length;D++){for(var E=a(d[D-1],1),w=D-2;w>=0;w--)E=E.inverse().add(d[w]);if(E.sub(l).abs().valueOf()<g)return E.mul(this.s)}return this},divisible:function(g,l){return f(g,l),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(g){var l,d="",D=this.n,E=this.d;return this.s<0&&(d+="-"),E===1?d+=D:(g&&(l=Math.floor(D/E))>0&&(d+=l,d+=" ",D%=E),d+=D,d+="/",d+=E),d},toLatex:function(g){var l,d="",D=this.n,E=this.d;return this.s<0&&(d+="-"),E===1?d+=D:(g&&(l=Math.floor(D/E))>0&&(d+=l,D%=E),d+="\\frac{",d+=D,d+="}{",d+=E,d+="}"),d},toContinued:function(){var g,l=this.n,d=this.d,D=[];if(isNaN(l)||isNaN(d))return D;do D.push(Math.floor(l/d)),g=l%d,l=d,d=g;while(l!==1);return D},toString:function(g){var l=this.n,d=this.d;if(isNaN(l)||isNaN(d))return"NaN";g=g||15;var D=s(l,d),E=o(l,d,D),w=this.s<0?"-":"";if(w+=l/d|0,l%=d,l*=10,l&&(w+="."),D){for(var C=E;C--;)w+=l/d|0,l%=d,l*=10;w+="(";for(var C=D;C--;)w+=l/d|0,l%=d,l*=10;w+=")"}else for(var C=g;l&&C--;)w+=l/d|0,l%=d,l*=10;return w}},Object.defineProperty(m,"__esModule",{value:!0}),m.default=m,m.Fraction=m,e.exports=m})()})(gu);var Ef=gu.exports,Ke=At(Ef),Af="Fraction",Ff=[],Cf=Y(Af,Ff,()=>(Object.defineProperty(Ke,"name",{value:"Fraction"}),Ke.prototype.constructor=Ke,Ke.prototype.type="Fraction",Ke.prototype.isFraction=!0,Ke.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ke.fromJSON=function(e){return new Ke(e)},Ke),{isClass:!0}),Nf="Matrix",bf=[],xf=Y(Nf,bf,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,u){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,u){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0}),Sf="DenseMatrix",Bf=["Matrix"],Mf=Y(Sf,Bf,e=>{var{Matrix:r}=e;function t(s,o){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!ke(o))throw new Error("Invalid datatype: "+o);if(Te(s))s.type==="DenseMatrix"?(this._data=ve(s._data),this._size=ve(s._size),this._datatype=o||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=o||s._datatype);else if(s&&ce(s.data)&&ce(s.size))this._data=s.data,this._size=s.size,pi(this._data,this._size),this._datatype=o||s.datatype;else if(ce(s))this._data=p(s),this._size=fr(this._data),pi(this._data,this._size),this._datatype=o;else{if(s)throw new TypeError("Unsupported type of data ("+Le(s)+")");this._data=[],this._size=[0],this._datatype=o}}t.prototype=new r,t.prototype.createDenseMatrix=function(s,o){return new t(s,o)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return it(this._data,Le)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(s,o){return new t(s,o)},t.prototype.subset=function(s,o,h){switch(arguments.length){case 1:return u(this,s);case 2:case 3:return n(this,s,o,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(s){if(!ce(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new oe(s.length,this._size.length);for(var o=0;o<s.length;o++)pe(s[o],this._size[o]);for(var h=this._data,m=0,g=s.length;m<g;m++){var l=s[m];pe(l,h.length),h=h[l]}return h},t.prototype.set=function(s,o,h){if(!ce(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new oe(s.length,this._size.length,"<");var m,g,l,d=s.map(function(E){return E+1});f(this,d,h);var D=this._data;for(m=0,g=s.length-1;m<g;m++)l=s[m],pe(l,D.length),D=D[l];return l=s[s.length-1],pe(l,D.length),D[l]=o,this};function u(s,o){if(!Gr(o))throw new TypeError("Invalid index");var h=o.isScalar();if(h)return s.get(o.min());var m=o.size();if(m.length!==s._size.length)throw new oe(m.length,s._size.length);for(var g=o.min(),l=o.max(),d=0,D=s._size.length;d<D;d++)pe(g[d],s._size[d]),pe(l[d],s._size[d]);return new t(i(s._data,o,m.length,0),s._datatype)}function i(s,o,h,m){var g=m===h-1,l=o.dimension(m);return g?l.map(function(d){return pe(d,s.length),s[d]}).valueOf():l.map(function(d){pe(d,s.length);var D=s[d];return i(D,o,h,m+1)}).valueOf()}function n(s,o,h,m){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var g=o.size(),l=o.isScalar(),d;if(Te(h)?(d=h.size(),h=h.valueOf()):d=fr(h),l){if(d.length!==0)throw new TypeError("Scalar expected");s.set(o.min(),h,m)}else{if(g.length<s._size.length)throw new oe(g.length,s._size.length,"<");if(d.length<g.length){for(var D=0,E=0;g[D]===1&&d[D]===1;)D++;for(;g[D]===1;)E++,D++;h=mi(h,g.length,E,d)}if(!Tr(g,d))throw new oe(g,d,">");var w=o.max().map(function(B){return B+1});f(s,w,m);var C=g.length,b=0;a(s._data,o,h,C,b)}return s}function a(s,o,h,m,g){var l=g===m-1,d=o.dimension(g);l?d.forEach(function(D,E){pe(D),s[D]=h[E[0]]}):d.forEach(function(D,E){pe(D),a(s[D],o,h[E[0]],m,g+1)})}t.prototype.resize=function(s,o,h){if(!lr(s))throw new TypeError("Array or Matrix expected");var m=s.valueOf().map(l=>Array.isArray(l)&&l.length===1?l[0]:l),g=h?this.clone():this;return c(g,m,o)};function c(s,o,h){if(o.length===0){for(var m=s._data;ce(m);)m=m[0];return m}return s._size=o.slice(0),s._data=vi(s._data,s._size,h),s}t.prototype.reshape=function(s,o){var h=o?this.clone():this;h._data=Xu(h._data,s);var m=h._size.reduce((g,l)=>g*l);return h._size=fn(s,m),h};function f(s,o,h){for(var m=s._size.slice(0),g=!1;m.length<o.length;)m.push(0),g=!0;for(var l=0,d=o.length;l<d;l++)o[l]>m[l]&&(m[l]=o[l],g=!0);g&&c(s,m,h)}t.prototype.clone=function(){var s=new t({data:ve(this._data),size:ve(this._size),datatype:this._datatype});return s},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(s){var o=this,h=Yi(s),m=function d(D,E){return ce(D)?D.map(function(w,C){return d(w,E.concat(C))}):h===1?s(D):h===2?s(D,E):s(D,E,o)},g=m(this._data,[]),l=this._datatype!==void 0?it(g,Le):void 0;return new t(g,l)},t.prototype.forEach=function(s){var o=this,h=function m(g,l){ce(g)?g.forEach(function(d,D){m(d,l.concat(D))}):s(g,l,o)};h(this._data,[])},t.prototype[Symbol.iterator]=function*(){var s=function*o(h,m){if(ce(h))for(var g=0;g<h.length;g++)yield*o(h[g],m.concat(g));else yield{value:h,index:m}};yield*s(this._data,[])},t.prototype.rows=function(){var s=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var m of h)s.push(new t([m],this._datatype));return s},t.prototype.columns=function(){var s=this,o=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,g=function(D){var E=m.map(w=>[w[D]]);o.push(new t(E,s._datatype))},l=0;l<h[1];l++)g(l);return o},t.prototype.toArray=function(){return ve(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(s){return be(this._data,s)},t.prototype.toString=function(){return be(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(s){if(s){if(Me(s)&&(s=s.toNumber()),!he(s)||!me(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var o=s>0?s:0,h=s<0?-s:0,m=this._size[0],g=this._size[1],l=Math.min(m-h,g-o),d=[],D=0;D<l;D++)d[D]=this._data[D+h][D+o];return new t({data:d,size:[l],datatype:this._datatype})},t.diagonal=function(s,o,h,m){if(!ce(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(_){if(Me(_)&&(_=_.toNumber()),!he(_)||!me(_)||_<1)throw new Error("Size values must be positive integers");return _}),h){if(Me(h)&&(h=h.toNumber()),!he(h)||!me(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var g=h>0?h:0,l=h<0?-h:0,d=s[0],D=s[1],E=Math.min(d-l,D-g),w;if(ce(o)){if(o.length!==E)throw new Error("Invalid value array length");w=function(A){return o[A]}}else if(Te(o)){var C=o.size();if(C.length!==1||C[0]!==E)throw new Error("Invalid matrix length");w=function(A){return o.get([A])}}else w=function(){return o};m||(m=Me(w(0))?w(0).mul(0):0);var b=[];if(s.length>0){b=vi(b,s,m);for(var B=0;B<E;B++)b[B+l][B+g]=w(B)}return new t({data:b,size:[d,D]})},t.fromJSON=function(s){return new t(s)},t.prototype.swapRows=function(s,o){if(!he(s)||!me(s)||!he(o)||!me(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return pe(s,this._size[0]),pe(o,this._size[0]),t._swapRows(s,o,this._data),this},t._swapRows=function(s,o,h){var m=h[s];h[s]=h[o],h[o]=m};function p(s){for(var o=0,h=s.length;o<h;o++){var m=s[o];ce(m)?s[o]=p(m):m&&m.isMatrix===!0&&(s[o]=p(m.valueOf()))}return s}return t},{isClass:!0}),Du="isInteger",_f=["typed"],Tf=Y(Du,_f,e=>{var{typed:r}=e;return r(Du,{number:me,BigNumber:function(u){return u.isInt()},Fraction:function(u){return u.d===1&&isFinite(u.n)},"Array | Matrix":r.referToSelf(t=>u=>ur(u,t))})}),Of="SparseMatrix",$f=["typed","equalScalar","Matrix"],If=Y(Of,$f,e=>{var{typed:r,equalScalar:t,Matrix:u}=e;function i(l,d){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!ke(d))throw new Error("Invalid datatype: "+d);if(Te(l))n(this,l,d);else if(l&&ce(l.index)&&ce(l.ptr)&&ce(l.size))this._values=l.values,this._index=l.index,this._ptr=l.ptr,this._size=l.size,this._datatype=d||l.datatype;else if(ce(l))a(this,l,d);else{if(l)throw new TypeError("Unsupported type of data ("+Le(l)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=d}}function n(l,d,D){d.type==="SparseMatrix"?(l._values=d._values?ve(d._values):void 0,l._index=ve(d._index),l._ptr=ve(d._ptr),l._size=ve(d._size),l._datatype=D||d._datatype):a(l,d.valueOf(),D||d._datatype)}function a(l,d,D){l._values=[],l._index=[],l._ptr=[],l._datatype=D;var E=d.length,w=0,C=t,b=0;if(ke(D)&&(C=r.find(t,[D,D])||t,b=r.convert(0,D)),E>0){var B=0;do{l._ptr.push(l._index.length);for(var _=0;_<E;_++){var A=d[_];if(ce(A)){if(B===0&&w<A.length&&(w=A.length),B<A.length){var x=A[B];C(x,b)||(l._values.push(x),l._index.push(_))}}else B===0&&w<1&&(w=1),C(A,b)||(l._values.push(A),l._index.push(_))}B++}while(B<w)}l._ptr.push(l._index.length),l._size=[E,w]}i.prototype=new u,i.prototype.createSparseMatrix=function(l,d){return new i(l,d)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return it(this._values,Le)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(l,d){return new i(l,d)},i.prototype.density=function(){var l=this._size[0],d=this._size[1];return l!==0&&d!==0?this._index.length/(l*d):0},i.prototype.subset=function(l,d,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,l);case 2:case 3:return f(this,l,d,D);default:throw new SyntaxError("Wrong number of arguments")}};function c(l,d){if(!Gr(d))throw new TypeError("Invalid index");var D=d.isScalar();if(D)return l.get(d.min());var E=d.size();if(E.length!==l._size.length)throw new oe(E.length,l._size.length);var w,C,b,B,_=d.min(),A=d.max();for(w=0,C=l._size.length;w<C;w++)pe(_[w],l._size[w]),pe(A[w],l._size[w]);var x=l._values,I=l._index,O=l._ptr,T=d.dimension(0),U=d.dimension(1),ee=[],Q=[];T.forEach(function(ae,Ce){Q[ae]=Ce[0],ee[ae]=!0});var H=x?[]:void 0,re=[],de=[];return U.forEach(function(ae){for(de.push(re.length),b=O[ae],B=O[ae+1];b<B;b++)w=I[b],ee[w]===!0&&(re.push(Q[w]),H&&H.push(x[b]))}),de.push(re.length),new i({values:H,index:re,ptr:de,size:E,datatype:l._datatype})}function f(l,d,D,E){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var w=d.size(),C=d.isScalar(),b;if(Te(D)?(b=D.size(),D=D.toArray()):b=fr(D),C){if(b.length!==0)throw new TypeError("Scalar expected");l.set(d.min(),D,E)}else{if(w.length!==1&&w.length!==2)throw new oe(w.length,l._size.length,"<");if(b.length<w.length){for(var B=0,_=0;w[B]===1&&b[B]===1;)B++;for(;w[B]===1;)_++,B++;D=mi(D,w.length,_,b)}if(!Tr(w,b))throw new oe(w,b,">");if(w.length===1){var A=d.dimension(0);A.forEach(function(O,T){pe(O),l.set([O,0],D[T[0]],E)})}else{var x=d.dimension(0),I=d.dimension(1);x.forEach(function(O,T){pe(O),I.forEach(function(U,ee){pe(U),l.set([O,U],D[T[0]][ee[0]],E)})})}}return l}i.prototype.get=function(l){if(!ce(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new oe(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var d=l[0],D=l[1];pe(d,this._size[0]),pe(D,this._size[1]);var E=p(d,this._ptr[D],this._ptr[D+1],this._index);return E<this._ptr[D+1]&&this._index[E]===d?this._values[E]:0},i.prototype.set=function(l,d,D){if(!ce(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new oe(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=l[0],w=l[1],C=this._size[0],b=this._size[1],B=t,_=0;ke(this._datatype)&&(B=r.find(t,[this._datatype,this._datatype])||t,_=r.convert(0,this._datatype)),(E>C-1||w>b-1)&&(h(this,Math.max(E+1,C),Math.max(w+1,b),D),C=this._size[0],b=this._size[1]),pe(E,C),pe(w,b);var A=p(E,this._ptr[w],this._ptr[w+1],this._index);return A<this._ptr[w+1]&&this._index[A]===E?B(d,_)?s(A,w,this._values,this._index,this._ptr):this._values[A]=d:B(d,_)||o(A,E,w,d,this._values,this._index,this._ptr),this};function p(l,d,D,E){if(D-d===0)return D;for(var w=d;w<D;w++)if(E[w]===l)return w;return d}function s(l,d,D,E,w){D.splice(l,1),E.splice(l,1);for(var C=d+1;C<w.length;C++)w[C]--}function o(l,d,D,E,w,C,b){w.splice(l,0,E),C.splice(l,0,d);for(var B=D+1;B<b.length;B++)b[B]++}i.prototype.resize=function(l,d,D){if(!lr(l))throw new TypeError("Array or Matrix expected");var E=l.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(C){if(!he(C)||!me(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+be(E)+")")});var w=D?this.clone():this;return h(w,E[0],E[1],d)};function h(l,d,D,E){var w=E||0,C=t,b=0;ke(l._datatype)&&(C=r.find(t,[l._datatype,l._datatype])||t,b=r.convert(0,l._datatype),w=r.convert(w,l._datatype));var B=!C(w,b),_=l._size[0],A=l._size[1],x,I,O;if(D>A){for(I=A;I<D;I++)if(l._ptr[I]=l._values.length,B)for(x=0;x<_;x++)l._values.push(w),l._index.push(x);l._ptr[D]=l._values.length}else D<A&&(l._ptr.splice(D+1,A-D),l._values.splice(l._ptr[D],l._values.length),l._index.splice(l._ptr[D],l._index.length));if(A=D,d>_){if(B){var T=0;for(I=0;I<A;I++){l._ptr[I]=l._ptr[I]+T,O=l._ptr[I+1]+T;var U=0;for(x=_;x<d;x++,U++)l._values.splice(O+U,0,w),l._index.splice(O+U,0,x),T++}l._ptr[A]=l._values.length}}else if(d<_){var ee=0;for(I=0;I<A;I++){l._ptr[I]=l._ptr[I]-ee;var Q=l._ptr[I],H=l._ptr[I+1]-ee;for(O=Q;O<H;O++)x=l._index[O],x>d-1&&(l._values.splice(O,1),l._index.splice(O,1),ee++)}l._ptr[I]=l._values.length}return l._size[0]=d,l._size[1]=D,l}i.prototype.reshape=function(l,d){if(!ce(l))throw new TypeError("Array expected");if(l.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");l.forEach(function(ae){if(!he(ae)||!me(ae)||ae<=-2||ae===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+be(l)+")")});var D=this._size[0]*this._size[1];l=fn(l,D);var E=l[0]*l[1];if(D!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=d?this.clone():this;if(this._size[0]===l[0]&&this._size[1]===l[1])return w;for(var C=[],b=0;b<w._ptr.length;b++)for(var B=0;B<w._ptr[b+1]-w._ptr[b];B++)C.push(b);for(var _=w._values.slice(),A=w._index.slice(),x=0;x<w._index.length;x++){var I=A[x],O=C[x],T=I*w._size[1]+O;C[x]=T%l[1],A[x]=Math.floor(T/l[1])}w._values.length=0,w._index.length=0,w._ptr.length=l[1]+1,w._size=l.slice();for(var U=0;U<w._ptr.length;U++)w._ptr[U]=0;for(var ee=0;ee<_.length;ee++){var Q=A[ee],H=C[ee],re=_[ee],de=p(Q,w._ptr[H],w._ptr[H+1],w._index);o(de,Q,H,re,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){var l=new i({values:this._values?ve(this._values):void 0,index:ve(this._index),ptr:ve(this._ptr),size:ve(this._size),datatype:this._datatype});return l},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(l,d){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,E=this._size[0],w=this._size[1],C=Yi(l),b=function(_,A,x){return C===1?l(_):C===2?l(_,[A,x]):l(_,[A,x],D)};return m(this,0,E-1,0,w-1,b,d)};function m(l,d,D,E,w,C,b){var B=[],_=[],A=[],x=t,I=0;ke(l._datatype)&&(x=r.find(t,[l._datatype,l._datatype])||t,I=r.convert(0,l._datatype));for(var O=function(ar,Er,Ar){ar=C(ar,Er,Ar),x(ar,I)||(B.push(ar),_.push(Er))},T=E;T<=w;T++){A.push(B.length);var U=l._ptr[T],ee=l._ptr[T+1];if(b)for(var Q=U;Q<ee;Q++){var H=l._index[Q];H>=d&&H<=D&&O(l._values[Q],H-d,T-E)}else{for(var re={},de=U;de<ee;de++){var ae=l._index[de];re[ae]=l._values[de]}for(var Ce=d;Ce<=D;Ce++){var Lr=Ce in re?re[Ce]:0;O(Lr,Ce-d,T-E)}}}return A.push(B.length),new i({values:B,index:_,ptr:A,size:[D-d+1,w-E+1]})}i.prototype.forEach=function(l,d){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,E=this._size[0],w=this._size[1],C=0;C<w;C++){var b=this._ptr[C],B=this._ptr[C+1];if(d)for(var _=b;_<B;_++){var A=this._index[_];l(this._values[_],[A,C],D)}else{for(var x={},I=b;I<B;I++){var O=this._index[I];x[O]=this._values[I]}for(var T=0;T<E;T++){var U=T in x?x[T]:0;l(U,[T,C],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var l=this._size[1],d=0;d<l;d++)for(var D=this._ptr[d],E=this._ptr[d+1],w=D;w<E;w++){var C=this._index[w];yield{value:this._values[w],index:[C,d]}}},i.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1)};function g(l,d,D,E,w){var C=E[0],b=E[1],B=[],_,A;for(_=0;_<C;_++)for(B[_]=[],A=0;A<b;A++)B[_][A]=0;for(A=0;A<b;A++)for(var x=D[A],I=D[A+1],O=x;O<I;O++)_=d[O],B[_][A]=l?w?ve(l[O]):l[O]:1;return B}return i.prototype.format=function(l){for(var d=this._size[0],D=this._size[1],E=this.density(),w="Sparse Matrix ["+be(d,l)+" x "+be(D,l)+"] density: "+be(E,l)+`
`,C=0;C<D;C++)for(var b=this._ptr[C],B=this._ptr[C+1],_=b;_<B;_++){var A=this._index[_];w+=`
    (`+be(A,l)+", "+be(C,l)+") ==> "+(this._values?be(this._values[_],l):"X")}return w},i.prototype.toString=function(){return be(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(l){if(l){if(Me(l)&&(l=l.toNumber()),!he(l)||!me(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var d=l>0?l:0,D=l<0?-l:0,E=this._size[0],w=this._size[1],C=Math.min(E-D,w-d),b=[],B=[],_=[];_[0]=0;for(var A=d;A<w&&b.length<C;A++)for(var x=this._ptr[A],I=this._ptr[A+1],O=x;O<I;O++){var T=this._index[O];if(T===A-d+D){b.push(this._values[O]),B[b.length-1]=T-D;break}}return _.push(b.length),new i({values:b,index:B,ptr:_,size:[C,1]})},i.fromJSON=function(l){return new i(l)},i.diagonal=function(l,d,D,E,w){if(!ce(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(ae){if(Me(ae)&&(ae=ae.toNumber()),!he(ae)||!me(ae)||ae<1)throw new Error("Size values must be positive integers");return ae}),D){if(Me(D)&&(D=D.toNumber()),!he(D)||!me(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var C=t,b=0;ke(w)&&(C=r.find(t,[w,w])||t,b=r.convert(0,w));var B=D>0?D:0,_=D<0?-D:0,A=l[0],x=l[1],I=Math.min(A-_,x-B),O;if(ce(d)){if(d.length!==I)throw new Error("Invalid value array length");O=function(Ce){return d[Ce]}}else if(Te(d)){var T=d.size();if(T.length!==1||T[0]!==I)throw new Error("Invalid matrix length");O=function(Ce){return d.get([Ce])}}else O=function(){return d};for(var U=[],ee=[],Q=[],H=0;H<x;H++){Q.push(U.length);var re=H-B;if(re>=0&&re<I){var de=O(re);C(de,b)||(ee.push(re+_),U.push(de))}}return Q.push(U.length),new i({values:U,index:ee,ptr:Q,size:[A,x]})},i.prototype.swapRows=function(l,d){if(!he(l)||!me(l)||!he(d)||!me(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return pe(l,this._size[0]),pe(d,this._size[0]),i._swapRows(l,d,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(l,d,D,E,w){for(var C=E[l],b=E[l+1],B=C;B<b;B++)w(D[B],d[B])},i._swapRows=function(l,d,D,E,w,C){for(var b=0;b<D;b++){var B=C[b],_=C[b+1],A=p(l,B,_,w),x=p(d,B,_,w);if(A<_&&x<_&&w[A]===l&&w[x]===d){if(E){var I=E[A];E[A]=E[x],E[x]=I}continue}if(A<_&&w[A]===l&&(x>=_||w[x]!==d)){var O=E?E[A]:void 0;w.splice(x,0,d),E&&E.splice(x,0,O),w.splice(x<=A?A+1:A,1),E&&E.splice(x<=A?A+1:A,1);continue}if(x<_&&w[x]===d&&(A>=_||w[A]!==l)){var T=E?E[x]:void 0;w.splice(A,0,l),E&&E.splice(A,0,T),w.splice(A<=x?x+1:x,1),E&&E.splice(A<=x?x+1:x,1)}}},i},{isClass:!0}),Pf="bignumber",kf=["typed","BigNumber"],Lf=Y(Pf,kf,e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var n=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(n){var a=n[2],c=t(n[1]),f=new t(2).pow(Number(a));if(c.gt(f.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var p=new t(2).pow(Number(a)-1);return c.gte(p)?c.sub(f):c}return new t(i)},BigNumber:function(i){return i},Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":r.referToSelf(u=>i=>ur(i,u))})}),jf="fraction",zf=["typed","Fraction"],Rf=Y(jf,zf,e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,n){return new t(i,n)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Object:function(i){return new t(i)},"Array | Matrix":r.referToSelf(u=>i=>ur(i,u))})}),wu="matrix",qf=["typed","Matrix","DenseMatrix","SparseMatrix"],Uf=Y(wu,qf,e=>{var{typed:r,Matrix:t,DenseMatrix:u,SparseMatrix:i}=e;return r(wu,{"":function(){return n([])},string:function(c){return n([],c)},"string, string":function(c,f){return n([],c,f)},Array:function(c){return n(c)},Matrix:function(c){return n(c,c.storage())},"Array | Matrix, string":n,"Array | Matrix, string, string":n});function n(a,c,f){if(c==="dense"||c==="default"||c===void 0)return new u(a,f);if(c==="sparse")return new i(a,f);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),yu="concat",Hf=["typed","matrix","isInteger"],Wf=Y(yu,Hf,e=>{var{typed:r,matrix:t,isInteger:u}=e;return r(yu,{"...Array | Matrix | number | BigNumber":function(n){var a,c=n.length,f=-1,p,s=!1,o=[];for(a=0;a<c;a++){var h=n[a];if(Te(h)&&(s=!0),he(h)||Me(h)){if(a!==c-1)throw new Error("Dimension must be specified as last argument");if(p=f,f=h.valueOf(),!u(f))throw new TypeError("Integer number expected for dimension");if(f<0||a>0&&f>p)throw new Ze(f,p+1)}else{var m=ve(h).valueOf(),g=fr(m);if(o[a]=m,p=f,f=g.length-1,a>0&&f!==p)throw new oe(p+1,f+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var l=o.shift();o.length;)l=Eu(l,o.shift(),f,0);return s?t(l):l},"...string":function(n){return n.join("")}})});function Eu(e,r,t,u){if(u<t){if(e.length!==r.length)throw new oe(e.length,r.length);for(var i=[],n=0;n<e.length;n++)i[n]=Eu(e[n],r[n],t,u+1);return i}else return e.concat(r)}var Au=mf({config:sr}),Jf=yf({}),Fu=Cf({}),Tn=xf({}),kt=Mf({Matrix:Tn}),Re=_i({BigNumber:Au,Complex:Jf,DenseMatrix:kt,Fraction:Fu}),Zf=Lf({BigNumber:Au,typed:Re}),Vf=ms({config:sr,typed:Re}),Yf=Tf({typed:Re}),Xf=Xi({typed:Re}),Gf=If({Matrix:Tn,equalScalar:Vf,typed:Re}),Kf=Rf({Fraction:Fu,typed:Re}),On=Uf({DenseMatrix:kt,Matrix:Tn,SparseMatrix:Gf,typed:Re}),Cu=hu({bignumber:Zf,fraction:Kf,number:Xf}),Nu=Wf({isInteger:Yf,matrix:On,typed:Re}),Qf=Ms({DenseMatrix:kt,concat:Nu,config:sr,matrix:On,typed:Re}),ec=Os({DenseMatrix:kt,concat:Nu,config:sr,matrix:On,typed:Re}),$n=Ls({config:sr,numeric:Cu,smaller:Qf,typed:Re}),Lt=Ps({config:sr,larger:ec,numeric:Cu,typed:Re});const rc=(e,r)=>typeof e=="number"&&typeof r=="object"?{left:r.left+e,right:r.right+e}:typeof e=="object"&&typeof r=="number"?{left:e.left+r,right:e.right+r}:typeof e=="object"&&typeof r=="object"?{left:e.left+r.left,right:e.right+r.right}:e+r,tc=(e,r)=>typeof e=="object"&&typeof r=="object"?{left:e.left-r.right,right:e.right-r.left}:typeof e=="object"&&typeof r=="number"?{left:e.left-r,right:e.right-r}:typeof e=="number"&&typeof r=="object"?{left:e-r.right,right:e-r.left}:e-r,In=(e,r)=>{if(typeof e=="object"&&typeof r=="object"){let t=[e.left*r.left,e.left*r.right,e.right*r.right,e.right*r.left];return Ie($n(t),Lt(t))}return typeof e=="object"&&typeof r=="number"?Ie(e.left*r,e.right*r):typeof e=="number"&&typeof r=="object"?Ie(e*r.left,e*r.right):e*r},nc=(e,r)=>{let t={left:1/r.right,right:1/r.left};return typeof e=="object"&&typeof r=="object"?In(e,t):typeof e=="object"&&typeof r=="number"?{left:e.left/r,right:e.right/r}:typeof e=="number"&&typeof r=="object"?In(e,t):e*r},ic=(e,r)=>{if(typeof e=="object"&&typeof r=="number"){let t=Math.pow(e.left,r),u=Math.pow(e.right,r);return r%2===0&&e.left<0&&e.right>=0?Ie(0,Lt(t,u)):Ie(t,u)}return Math.pow(e,r)},uc=e=>typeof e=="object"?{left:-e.right,right:-e.left}:-e,ac=e=>{let r=$n(Math.sin(e.left),Math.sin(e.right)),t=Lt(Math.sin(e.left),Math.sin(e.right));return Ie(r,t)},oc=e=>{let r=$n(Math.cos(e.left),Math.cos(e.right)),t=Lt(Math.cos(e.left),Math.cos(e.right));return Ie(r,t)},Pn=e=>e.right-e.left,jt=e=>e.left+Pn(e)/2,Ie=(e,r)=>typeof e=="object"?e.left>e.right?{left:e.right,right:e.left}:{left:e.left,right:e.right}:e>r?{left:r,right:e}:{left:e,right:r},zt=e=>JSON.parse(JSON.stringify(e)),bu=du(ff);bu.import({add:rc,subtract:tc,multiply:In,divide:nc,pow:ic,unaryMinus:uc,sin:ac,cos:oc},{override:!0});const kn=(e,r,...t)=>{let u={};return r.forEach((i,n)=>u[i]=t[n]),bu.evaluate(e,u)};onmessage=function(e){const[r,t,u,i]=e.data;(()=>{const a=new Date().getTime(),c=r.map(g=>Ie(g.left,g.right)),f=c.map(g=>Pn(g));for(;f.some(g=>g>i);){const g=f.reduce((b,B,_,A)=>B>A[b]?_:b,0);let l=zt(c[g]);const d=c.filter((b,B)=>B!==g);let D=Ie(l.left,jt(l)),E=Ie(jt(l),l.right),w=Ie(kn(u,t,D,...d)),C=Ie(kn(u,t,E,...d));jt(w)<jt(C)?c[g]=zt(D):c[g]=zt(E),f[g]=Pn(zt(c[g]))}const p=[...c],s=Ie(kn(u,t,...p)),o=t.map((g,l)=>`${t[l]}Min = <strong> (${p[l].left.toFixed(5)}, ${p[l].right.toFixed(5)})</strong>`),m=(new Date().getTime()-a)/1e3;o.push(`F = <strong> (${s.left.toFixed(5)}, ${s.right.toFixed(5)})</strong>`),o.push(`: <strong>${m}</strong>`),postMessage(o)})()}})();
