(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))v(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const x of a.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&v(x)}).observe(document,{childList:!0,subtree:!0});function y(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function v(s){if(s.ep)return;s.ep=!0;const a=y(s);fetch(s.href,a)}})();console.log("It's working!");const N=(u,m,y,v)=>`
        <div class="result result-${m} main-block"><h2 class="title">Результат ${y} ${u}</h2><div class="main-block main-block-white main-block-${m}-${y}">
        <div class="main-block-white-progress ${v||""}" id="progress-${m}-${y}"></div>
        <div class="loader" id="${m}-loader-${y}">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;"
                          viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                        <defs>
                            <path id="path" d="M50 15A15 35 0 0 1 50 85A15 35 0 0 1 50 15" fill="none"></path>
                            <path id="patha" d="M0 0A15 35 0 0 1 0 70A15 35 0 0 1 0 0" fill="none"></path>
                        </defs>
                        <g transform="rotate(0 50 50)">
                            <use xlink:href="#path" stroke="#000000" stroke-width="3"></use>
                        </g>
                        <g transform="rotate(60 50 50)">
                            <use xlink:href="#path" stroke="#000000" stroke-width="3"></use>
                        </g>
                        <g transform="rotate(120 50 50)">
                            <use xlink:href="#path" stroke="#000000" stroke-width="3"></use>
                        </g>
                        <g transform="rotate(0 50 50)">
                            <circle cx="50" cy="15" r="9" fill="#e15b64">
                                <animateMotion dur="0.5s" repeatCount="indefinite" begin="0s">
                                    <mpath xlink:href="#patha"></mpath>
                                </animateMotion>
                            </circle>
                        </g>
                        <g transform="rotate(60 50 50)">
                            <circle cx="50" cy="15" r="9" fill="#f8b26a">
                                <animateMotion dur="0.5s" repeatCount="indefinite" begin="-0.08s">
                                    <mpath xlink:href="#patha"></mpath>
                                </animateMotion>
                            </circle>
                        </g>
                        <g transform="rotate(120 50 50)">
                            <circle cx="50" cy="15" r="9" fill="#abbd81">
                                <animateMotion dur="0.5s" repeatCount="indefinite" begin="-0.1666s">
                                    <mpath xlink:href="#patha"></mpath>
                                </animateMotion>
                            </circle>
                        </g>
                    </svg>
                </div>
        </div></div>
    `,R=u=>`<div class="results__item">${u}</div>`;window.addEventListener("load",()=>{Object.prototype.show=function(){this.style.display="flex"},Object.prototype.hide=function(){this.style.display="none"},document.querySelector(".methods");const u=[],m=document.querySelectorAll("[data-checkboxFor]");m.forEach((o,n)=>{o.addEventListener("input",d=>{console.log(o.dataset);const l=document.querySelector(`[data-checkboxSection="${o.dataset.checkboxfor}"]`);if(!l)return;const r=l.querySelectorAll('input:not([type="checkbox"])');d.target.checked?(r.forEach(h=>h.setAttribute("required","required")),l.classList.remove("hidden")):(r.forEach(h=>h.removeAttribute("required")),l.classList.add("hidden")),u[n]=d.target.checked,console.log(u)})}),m.forEach((o,n)=>{const d=document.querySelector(`[data-checkboxSection="${o.dataset.checkboxfor}"]`);if(!d)return;const l=d.querySelectorAll('input:not([type="checkbox"])');o.checked?(l.forEach(r=>r.setAttribute("required","required")),d.classList.remove("hidden")):(l.forEach(r=>r.removeAttribute("required")),d.classList.add("hidden")),u[n]=o.checked,console.log(u)}),console.log(u);const y=new Worker(new URL("https://agent200147.github.io/mathprog/assets/MK-ClhS0IMJ.js",import.meta.url),{type:"module"}),v="monte",s=new Worker(new URL("https://agent200147.github.io/mathprog/assets/AN-ZmIgmJea.js",import.meta.url),{type:"module"}),a="annealing",x=new Worker(new URL("https://agent200147.github.io/mathprog/assets/GA-Bs0cfbio.js",import.meta.url),{type:"module"}),w="ga",O=new Worker(new URL("https://agent200147.github.io/mathprog/assets/INTERVAL-BV2FD1uo.js",import.meta.url),{type:"module"}),q="interval",e=document.getElementById("form1"),M=document.getElementById("resultMonte"),g=document.getElementById("btnSubmit1"),F=document.getElementById("btnReset1"),p=document.getElementById("btnClear1");let $=1,I=1,B=1,L=1;const S=document.getElementById("borders");F.addEventListener("click",()=>{e.reset();const o=document.querySelectorAll("[data-checkboxSection]"),n=e.querySelectorAll('input:not([type="checkbox"]):not(.common-required)');o.forEach(d=>d.classList.add("hidden")),n.forEach(d=>d.removeAttribute("required")),S.innerHTML=""}),p.addEventListener("click",()=>{$=1,I=1,B=1,L=1,M.innerHTML=""});const W=document.getElementById("flagEps"),j=document.getElementById("eps");W.checked?(j.show(),e.eps.removeAttribute("disabled")):(j.hide(),e.eps.setAttribute("disabled","disabled")),W.addEventListener("input",o=>{o.target.checked?(j.show(),e.eps.removeAttribute("disabled")):(j.hide(),e.eps.setAttribute("disabled","disabled"))}),document.getElementById("flagMachineEps").addEventListener("input",o=>{o.target.checked?(e.eps.value="",e.eps.setAttribute("disabled","disabled")):e.eps.removeAttribute("disabled")});const G=document.getElementById("function-input"),z=["cos","sin","tan","tg","ctg"];G.addEventListener("input",o=>{if(!o.target.value){S.innerHTML="";return}let n=o.target.value.match(/[a-z\s]+/ig).join("");z.forEach(t=>{n=n.replaceAll(t,""),n=n.replaceAll(" ","")});const d=n.split("").reduce((t,c,T)=>(t[c]=c,t),{}),r=Object.keys(d).join("");S.innerHTML="";for(let t=0;t<r.length;t++)S.innerHTML+=`<div class="border">
                            <div class="border__text">Границы<strong>&nbsp${r[t]}</strong>:</div> <span class="scobka">(</span>
                            <input required type="text" data-autocomplete="-10" placeholder="-10" name="leftBorder${r[t]}" id="leftBorder${r[t]}" class="leftBorder common-required"/>
                            <span class="tz">;</span>
                            <input required type="text" data-autocomplete="10" placeholder="10" name="rightBorder${r[t]}" id="rightBorder${r[t]}" class="rightBorder common-required"/>
                            <span class="scobka">)</span>
                        </div>`;P.forEach(t=>{o.target.value===t.function&&(document.getElementById(`leftBorder${r[0]}`).value=t.borderX,document.getElementById(`rightBorder${r[0]}`).value=t.borderY,document.getElementById(`leftBorder${r[1]}`).value=t.borderX2||t.borderX,document.getElementById(`rightBorder${r[1]}`).value=t.borderY2||t.borderY)}),document.querySelectorAll("input").forEach(t=>{t.addEventListener("dblclick",c=>{!c.target.value&&c.target.dataset.autocomplete&&(c.target.value=c.target.dataset.autocomplete)})})});const P=[{function:"(x + 2y - 7)^2 + (2x + y -5)^2",borderX:"-10",borderY:"10"},{function:"4x^2 - 2.1x^4 + x^6/3 + x*y - 4y^2 + 4y^4",borderX:"-5",borderY:"5"},{function:"2x^2 - 1.05x^4 + x^6/3 + x*y + y^2",borderX:"-5",borderY:"5"},{function:"0.26(x^2 + y^2) - 0.48x*y",borderX:"-10",borderY:"10"},{function:"x^2 + y^2 - cos(12x) - cos(18y)",borderX:"-1",borderY:"1"},{function:"(x^2 + y^2)/200 - cos(x)*cos(y/sqrt(2)) + 1",borderX:"-100",borderY:"100"},{function:"x^4 + 4x^3 + 4x^2 + y^2",borderX:"-5",borderY:"5"},{function:"sin(x+y) + (x+y)^2 - 1.5x + 2.5y + 1",borderX:"-1.5",borderY:"4",borderX2:"-3",borderY2:"3"},{function:"(2x^3 * y - y^3)^2 + (6x - y^2 + y)^2",borderX:"-10",borderY:"10"},{function:"100(y - y^2)^2 + (1 - x)^2 + 90(z - k^2)^2 + (1 - k)^2 + 10.1((y-1)^2 + (z - 1)^2 + 19.8(y - 1)(z - 1))",borderX:"-10",borderY:"10"}];document.querySelectorAll("input").forEach(o=>{o.addEventListener("dblclick",n=>{!n.target.value&&n.target.dataset.autocomplete&&(n.target.value=n.target.dataset.autocomplete)})}),e.addEventListener("submit",o=>{o.preventDefault();const n=document.querySelectorAll(".leftBorder"),d=document.querySelectorAll(".rightBorder");let l=[];for(let i=0;i<n.length;i++)l.push({left:Number(n[i].value),right:Number(d[i].value)});console.log(l);const r=e.fnInput.value;let h=r.match(/[a-z\s]+/ig).join("");z.forEach(i=>{h=h.replaceAll(i,""),h=h.replaceAll(" ","")});let t=h.split("").reduce((i,b)=>(i[b]=b,i),{});const c=Object.keys(t),T=new Date().getTime();if(u[0]){const i=e.monteIteration.value;M.insertAdjacentHTML("afterbegin",N("Монте-Карло",v,$)),y.postMessage([l,c,r,i]),g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),console.log("Message posted to worker MK.js"),y.onmessage=function(b){const k=document.getElementById(`progress-${v}-${$}`);if(b.data.length!==c.length+2)return g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),k.style.height=`${100-b.data}%`,!1;const A=document.querySelector(`.main-block-${v}-${$}`),f=document.getElementById(`${v}-loader-${$}`);f.style.display="none",k.style.display="none",$++,f.style.display="none",b.data.forEach(E=>{A.innerHTML+=R(E)}),g.removeAttribute("disabled"),p.removeAttribute("disabled")}}if(u[1]){const i=e.annealingT.value,b=e.annealingR.value,k=e.annealingL.value;M.insertAdjacentHTML("afterbegin",N("Имитация отжига",a,I,`${a}-progress`)),s.postMessage([l,c,r,k,i,b,T]),g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),console.log("Message posted to worker AN.js"),s.onmessage=function(A){const f=document.getElementById(`progress-${a}-${I}`);if(A.data.length!==c.length+2)return g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),f.style.height=`${100-A.data}%`,!1;const E=document.querySelector(`.main-block-${a}-${I}`),Y=document.getElementById(`${a}-loader-${I}`);Y.style.display="none",f.style.display="none",I++,A.data.forEach(X=>{E.innerHTML+=R(X)}),g.removeAttribute("disabled"),p.removeAttribute("disabled")}}if(u[2]){const i=e.k.value,b=e.k2.value,k=e.n.value,A=e.p.value,f=e.flagIter.checked,E=e.flagEps.checked,Y=e.flagMachineEps.checked,X=e.eps.value;if(!f&&!E)return alert("Выберите какой-либо критерий останова!"),!1;if(!X&&!Y&&E)return alert("Выберите точность!"),!1;M.insertAdjacentHTML("afterbegin",N("Генетический алг.",w,B)),x.postMessage([l,c,r,i,b,k,A,f,E,Y,X,T]),g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),x.onmessage=function(H){const C=document.getElementById(`progress-${w}-${B}`);if(H.data.length!==c.length+2)return g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),C.style.height=`${100-H.data}%`,!1;const V=document.querySelector(`.main-block-${w}-${B}`),U=document.getElementById(`${w}-loader-${B}`);U.style.display="none",C.style.display="none",B++,U.style.display="none",H.data.forEach(_=>{V.innerHTML+=R(_)}),console.log(H.data),g.removeAttribute("disabled"),p.removeAttribute("disabled")}}if(u[3]){const i=e.InEps.value;M.insertAdjacentHTML("afterbegin",N("Интервальный алг.",q,L)),O.postMessage([l,c,r,i,T]),g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),O.onmessage=function(b){const k=document.getElementById(`progress-${q}-${L}`);k.style.transform="translateY(226px)";const A=document.querySelector(`.main-block-${q}-${L}`),f=document.getElementById(`${q}-loader-${L}`);f.style.display="none",k.style.display="none",L++,f.style.display="none",b.data.forEach(E=>{A.innerHTML+=R(E)}),g.removeAttribute("disabled"),p.removeAttribute("disabled")}}})});
